(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subpkg-setting_password-setting_password"],{"05c0":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */uni-image[data-v-379d68e0]{width:auto;will-change:transform;height:auto}\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.box[data-v-379d68e0]{position:fixed;width:calc(100% - %?96?%);left:%?48?%;z-index:3}.box .wrap[data-v-379d68e0]{padding:%?40?%;box-sizing:border-box;background:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);border-radius:%?20?%}.box .wrap .line[data-v-379d68e0]{margin-bottom:%?40?%}.box .wrap .line .tit[data-v-379d68e0]{font-size:%?28?%;color:#5a5a5a;margin-bottom:%?8?%}.box .wrap .line .input_wrap[data-v-379d68e0]{width:100%;height:%?88?%;background:#f9f9f9;border-radius:4px;position:relative}.box .wrap .line .input_wrap uni-input[data-v-379d68e0]{height:%?88?%;line-height:%?88?%;width:calc(100% - %?60?%);padding:0 %?40?%;font-size:%?28?%;color:#333}.box .wrap .line .input_wrap uni-image[data-v-379d68e0]{width:%?40?%;height:%?40?%;margin-right:%?20?%}.box .btns[data-v-379d68e0]{margin-top:%?60?%}.box .btns .btn[data-v-379d68e0]{width:48%;height:%?88?%;line-height:%?88?%;font-size:%?30?%;border-radius:8px;text-align:center}.box .btns .btn.sure[data-v-379d68e0]{background:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,.15);border:1px solid #f7bb05;color:#f7bb05}.box .btns .btn.active[data-v-379d68e0]{background:#f7bc05;color:#fff}.box .btns .btn.not[data-v-379d68e0]{border:1px solid #c9c9c9;color:#333;background:transparent}',""]),t.exports=e},"07cb":function(t,e,n){"use strict";n.r(e);var i=n("5a84"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"5a84":function(t,e,n){"use strict";n("7a82");var i=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac1f");var a=i(n("91bd")),o=i(n("2e63")),s=getApp(),r={data:function(){return{imgUrl:s.globalData.baseImageUrl,pageName:"设置密码",marginTop:0,currentMainTab:0,scrollHeight:0,boxTop:0,headerHeight:0,oldPassword:"",newPassword:"",veriPassword:"",showActive:!1,hasOldPassword:!1}},components:{tabbar:a.default,customHeader:o.default},onLoad:function(){var t=this;this.getMarginTop(),setTimeout((function(){t.getElementInfo(),t.getTopHeight()}),500),this.getInfo()},methods:{checkActive:function(){this.hasOldPassword?this.oldPassword&&this.newPassword&&this.veriPassword?this.showActive=!0:this.showActive=!1:this.newPassword&&this.veriPassword?this.showActive=!0:this.showActive=!1},reset:function(t){"old"==t&&(this.oldPassword=""),"new"==t&&(this.newPassword=""),"veri"==t&&(this.veriPassword=""),this.checkActive()},getMarginTop:function(t){var e=uni.getMenuButtonBoundingClientRect();this.marginTop=e.height+e.top+10},getTopHeight:function(){var t=uni.getSystemInfoSync();this.headerHeight=Math.floor(t.screenHeight*(200/844))},getElementInfo:function(){var t=this,e=uni.getSystemInfoSync(),n=Math.floor(e.screenHeight*(46/844));console.log(n,"tabbar");var i=uni.createSelectorQuery().select(".top_area");i.boundingClientRect((function(i){i.bottom-i.top,t.boxTop=t.marginTop+i.height,t.scrollHeight=e.screenHeight-t.boxTop-n-5})).exec()},navigate:function(t){uni.navigateTo({url:t})},notSet:function(){uni.navigateBack()},getInfo:function(){var t=this;this.$request("/broker/mini/info").then((function(e){0==e.code&&(t.hasOldPassword=e.data.has_old_password)}))},confirmSet:function(){if(this.showActive){var t={old_password:this.oldPassword,new_password:this.newPassword,new_password_confirmation:this.veriPassword};this.$request("/broker/mini/password",t,"POST").then((function(t){0==t.code&&(uni.showModal({title:"密码设置成功",showCancel:!1,duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),2e3))}))}else uni.showToast({title:"填写不完整",icon:"error",duration:2e3})}}};e.default=r},"64da":function(t,e,n){"use strict";var i=n("b923"),a=n.n(i);a.a},"8c0b":function(t,e,n){"use strict";n.r(e);var i=n("cff3"),a=n("07cb");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("64da");var s=n("f0c5"),r=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"379d68e0",null,!1,i["a"],void 0);e["default"]=r.exports},b923:function(t,e,n){var i=n("05c0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("7c098c0e",i,!0,{sourceMap:!1,shadowMode:!1})},cff3:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("customHeader",{attrs:{title:t.pageName,showBack:!0,headHeight:t.headerHeight}}),n("v-uni-view",{staticClass:"cont",style:{marginTop:t.marginTop+"px"}},[n("v-uni-view",{staticClass:"box",style:{top:t.marginTop+"px"}},[n("v-uni-view",{staticClass:"wrap"},[t.hasOldPassword?n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"tit"},[t._v("旧密码")]),n("v-uni-view",{staticClass:"input_wrap  flex flex_btween"},[n("v-uni-input",{attrs:{type:"password",placeholder:"请输入旧密码","placeholder-style":"font-size:28rpx;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.checkActive.apply(void 0,arguments)}},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}}),n("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_close_circle.png",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset("old")}}})],1)],1):t._e(),n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"tit"},[t._v("新密码")]),n("v-uni-view",{staticClass:"input_wrap flex flex_btween"},[n("v-uni-input",{attrs:{type:"password",placeholder:"请输入新密码","placeholder-style":"font-size:28rpx;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.checkActive.apply(void 0,arguments)}},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),n("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_close_circle.png",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset("new")}}})],1)],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"tit"},[t._v("确认新密码")]),n("v-uni-view",{staticClass:"input_wrap flex flex_btween"},[n("v-uni-input",{attrs:{type:"password",placeholder:"请再次输入新密码","placeholder-style":"font-size:28rpx;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.checkActive.apply(void 0,arguments)}},model:{value:t.veriPassword,callback:function(e){t.veriPassword=e},expression:"veriPassword"}}),n("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_close_circle.png",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset("veri")}}})],1)],1)],1),n("v-uni-view",{staticClass:"btns flex flex_btween"},[n("v-uni-view",{staticClass:"btn sure",class:t.showActive?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmSet.apply(void 0,arguments)}}},[t._v("确认")]),n("v-uni-view",{staticClass:"btn not",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.notSet.apply(void 0,arguments)}}},[t._v("暂不设置")])],1)],1)],1)],1)},a=[]}}]);