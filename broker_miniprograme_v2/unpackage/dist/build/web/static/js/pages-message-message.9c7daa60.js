(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-message-message"],{2252:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */uni-image[data-v-1092b7b0]{width:auto;will-change:transform;height:auto}\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-1092b7b0] .uni-select{border:none;background:#fff;height:%?88?%;font-size:%?28?%;border-radius:%?8?%;padding:0 %?40?%}[data-v-1092b7b0] .uni-icons{display:none}[data-v-1092b7b0] .uni-select__input-placeholder{font-size:%?28?%}[data-v-1092b7b0] .uni-date-x--border{height:%?88?%;line-height:%?88?%;padding:0 %?40?%;background:#fff;border-radius:%?8?%;box-sizing:border-box;border:none}[data-v-1092b7b0] .uni-datetime-picker--btn,[data-v-1092b7b0] .uni-calendar-item__weeks-box .uni-calendar-item--checked{background:#f7bc05}[data-v-1092b7b0] .uni-datetime-picker-btn-text{color:#f7bc05}.subtabs .subtab[data-v-1092b7b0]{position:relative}.subtabs .subtab .num[data-v-1092b7b0]{position:absolute;top:0;right:0;width:%?30?%;height:%?30?%;text-align:center;line-height:%?30?%;font-size:%?23?%;background:#ff2c11;color:#fff;border-radius:50%}.top_area[data-v-1092b7b0]{width:calc(100% - %?96?%);position:fixed;left:%?48?%}.top_area .sele_box[data-v-1092b7b0]{margin:0 %?20?% %?20?% 0}.top_area .sele_box .text[data-v-1092b7b0]{font-size:%?28?%;color:#fff;font-weight:700}.top_area .sele_box uni-image[data-v-1092b7b0]{width:%?34?%;margin-right:%?8?%}.box[data-v-1092b7b0]{position:fixed;width:calc(100% - %?96?%);left:%?48?%;z-index:3;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;overflow:hidden}.box .item[data-v-1092b7b0]{padding:0 %?40?% %?40?% %?40?%;border-radius:%?16?%;background:#fff;box-shadow:0 %?2?% %?6?% 0 rgba(0,0,0,.15);margin-bottom:%?20?%;position:relative}.box .item .top[data-v-1092b7b0]{padding:%?14?% 0;border-bottom:1px dashed #979797;font-size:%?27?%}.box .item .top .label[data-v-1092b7b0]{width:%?80?%;height:%?52?%;line-height:%?52?%;text-align:center;background:#f7bc05;border-radius:4px;color:#fff;margin-right:%?8?%}.box .item .top .tit[data-v-1092b7b0]{width:calc(100% - %?88?%);white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-weight:600;color:#333}.box .item .middle[data-v-1092b7b0]{font-size:%?24?%;padding:%?24?% 0}.box .item .middle .tit[data-v-1092b7b0]{font-weight:700;font-size:%?28?%;margin-bottom:%?12?%}.box .item .middle .detail[data-v-1092b7b0]{color:#5a5a5a;line-height:%?40?%}.box .item .middle .mark[data-v-1092b7b0]{font-size:%?36?%;color:#333;margin-right:%?8?%}.box .item .middle .yellow[data-v-1092b7b0]{color:#f7bc05}.box .item .bottom[data-v-1092b7b0]{height:%?60?%;border-radius:%?6?%;line-height:%?60?%;background:#f6f6f6;font-size:%?23?%;color:#5a5a5a}.box .item .bottom .opera[data-v-1092b7b0]{font-weight:600;color:#f7bc05}.box .item .bottom uni-image[data-v-1092b7b0]{width:%?20?%;height:%?20?%}.box .item .read_label[data-v-1092b7b0]{position:absolute;top:0;right:0}.box .item .read_label uni-image[data-v-1092b7b0]{width:%?74?%;height:%?74?%}',""]),t.exports=e},"29af":function(t,e,a){"use strict";var i=a("3587"),n=a.n(i);n.a},3587:function(t,e,a){var i=a("2252");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0044242a",i,!0,{sourceMap:!1,shadowMode:!1})},"42c3":function(t,e,a){"use strict";a.r(e);var i=a("5d5d"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"5d5d":function(t,e,a){"use strict";a("7a82");var i=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af");var n=i(a("f07e")),o=i(a("c964")),r=i(a("91bd")),s=i(a("2e63")),l=getApp(),c={data:function(){return{imgUrl:l.globalData.baseImageUrl,currentTab:{value:"project",text:"项目管理",label:"项目"},pageName:"消息",showModal:!1,marginTop:l.globalData.marginTop,mainTabHeight:l.globalData.mainTabHeight,subTabHeight:l.globalData.subTabHeight,tabMargin:l.globalData.tabMargin,tabs:[{value:"project",text:"项目管理",label:"项目",count:0},{value:"attendance_record",text:"考勤相关",label:"考勤",count:0},{value:"project_bill",text:"费用账单",label:"费用",count:0}],event:[{value:"project_waiting_set_platform_fee",text:"去设置"},{value:"project_waiting_submit_platform_review",text:"点击提审"},{value:"project_platform_review_rejected",text:"去编辑"},{value:"project_has_worker_enroll",text:"去确认"}],list:[],scrollHeight:0,boxTop:0,headerHeight:l.globalData.highTopHeight,tabbarHeight:0,currentPage:1,pagination:{},targetId:"",todo:0,loginStatus:!1}},components:{tabbar:r.default,customHeader:s.default},onLoad:function(){this.boxTop=this.marginTop+2*this.tabMargin+this.subTabHeight,this.scrollHeight=l.globalData.systemHeight-this.marginTop-2*this.tabMargin-this.subTabHeight-this.tabbarHeight,this.isLogin()&&(this.loginStatus=!0)},watch:{loginStatus:function(t,e){var a=this;return(0,o.default)((0,n.default)().mark((function i(){return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:console.log(t,e),t&&(a.list=[],a.getList());case 2:case"end":return i.stop()}}),i)})))()}},onShow:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isLogin()?(t.loginStatus=!0,t.refreshTodo()):t.loginStatus=!1;case 1:case"end":return e.stop()}}),e)})))()},methods:{getTabbarHeight:function(t){this.tabbarHeight=t},refreshTodo:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTodoStatic();case 2:a=e.sent,t.todo=a.total,t.tabs[0].count=a.project,t.tabs[1].count=a.attendance_record,t.tabs[2].count=a.project_bill;case 7:case"end":return e.stop()}}),e)})))()},changeTab:function(t){this.list=[],this.currentPage=1,this.currentTab=t,this.refreshTodo(),this.getList()},handleCancel:function(){this.showModal=!1},handleConfirm:function(){var t=this,e="/broker/mini/project/"+this.targetId+"/submit-review";this.$request(e,{},"POST").then((function(e){0==e.code&&(t.showModal=!1,uni.showToast({title:"提审成功",duration:3e3}),t.refreshTodo(),t.getList())}))},getList:function(){var t=this,e="/broker/mini/todos?page="+this.currentPage+"&target="+this.currentTab.value;this.$request(e).then((function(e){0==e.code&&(t.list=t.list.concat(e.data.list),t.pagination=e.data.pagination)}))},toDetail:function(t){"project_waiting_set_platform_fee"==t.event||"project_platform_review_rejected"==t.event||"project_has_worker_enroll"==t.event?uni.navigateTo({url:t.extra.url}):"project_waiting_submit_platform_review"==t.event?(this.targetId=t.target_id,this.showModal=!0):uni.setClipboardData({data:"https://es.swiftwd.com",success:function(t){}})},lower:function(){this.list.length<this.pagination.totalCount?(this.currentPage++,this.getList()):this.list.length>=this.pagination.totalCount&&uni.showToast({title:"已经到底啦~",icon:"none",duration:2e3})}}};e.default=c},cde6:function(t,e,a){"use strict";a.r(e);var i=a("f41d"),n=a("42c3");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("29af");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"1092b7b0",null,!1,i["a"],void 0);e["default"]=s.exports},f41d:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("customHeader",{attrs:{title:t.pageName,showBack:!1,headHeight:t.headerHeight}}),a("v-uni-view",{staticClass:"cont",style:{marginTop:t.marginTop+"px"}},[a("v-uni-view",{staticClass:"top_area",style:{top:t.marginTop+t.tabMargin+"px",height:t.subTabHeight+"px"}},[a("v-uni-view",{staticClass:"subtabs flex flex-start",style:{height:t.subTabHeight+"px"}},t._l(t.tabs,(function(e,i){return a("v-uni-view",{key:i,staticClass:"subtab flex flex_around",class:t.currentTab.value==e.value?"active":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab(e)}}},[t._v(t._s(e.text)),0!=e.count?a("v-uni-view",{staticClass:"num"},[t._v(t._s(e.count))]):t._e()],1)})),1)],1),a("v-uni-view",{staticClass:"box",style:{top:t.boxTop+"px",background:0==t.list.length?"#fff":"#F3F3F5"}},[a("v-uni-scroll-view",{staticClass:"scroll-Y",style:{height:t.scrollHeight+"px"},attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},[t._l(t.list,(function(e,i){return 0!=t.list.length?a("v-uni-view",{key:i,staticClass:"item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toDetail(e)}}},[a("v-uni-view",{staticClass:"top flex flex-start"},[a("v-uni-view",{staticClass:"label"},[t._v(t._s(t.currentTab.label))]),a("v-uni-view",{staticClass:"tit"},[t._v(t._s(e.title))])],1),a("v-uni-view",{staticClass:"middle"},[a("v-uni-view",{staticClass:"detail"},[t._v(t._s(e.content))])],1),a("v-uni-view",{staticClass:"bottom flex flex_btween"},[a("v-uni-view",{staticClass:"text"},[t._v(t._s(e.create_time))]),a("v-uni-view",{staticClass:"opera flex flex_end"},[a("v-uni-view",{},[t._v(t._s(t.event.filter((function(t){return t.value==e.event})).length>=1?t.event.filter((function(t){return t.value==e.event}))[0].text:"复制网址"))]),a("v-uni-image",{attrs:{src:t.imgUrl+"/broker/more.png",mode:"widthFix"}})],1)],1)],1):t._e()})),0==t.list.length?a("v-uni-view",{staticClass:"empty"},[a("v-uni-image",{attrs:{src:t.imgUrl+"/broker/empty.png",mode:"widthFix"}})],1):t._e()],2)],1)],1),t.showModal?a("customModal",{attrs:{title:"提审",content:"是否确认提审该项目？"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.handleConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCancel.apply(void 0,arguments)}}}):t._e(),a("tabbar",{attrs:{current:"1",todo:t.todo},on:{getTabbarHeight:function(e){arguments[0]=e=t.$handleEvent(e),t.getTabbarHeight.apply(void 0,arguments)}}})],1)},n=[]}}]);