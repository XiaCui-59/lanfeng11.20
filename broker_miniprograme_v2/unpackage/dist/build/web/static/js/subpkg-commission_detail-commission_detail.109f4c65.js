(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subpkg-commission_detail-commission_detail"],{"13d6":function(t,i,e){"use strict";e("7a82");var a=e("ee27").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("ac1f"),e("99af");var s=a(e("91bd")),n=a(e("2e63")),o=getApp(),l={data:function(){return{imgUrl:o.globalData.baseImageUrl,currentTab:{value:"expenditure",text:"支出记录"},pageName:"佣金详情",marginTop:o.globalData.marginTop,tabMargin:o.globalData.tabMargin,subTabHeight:o.globalData.subTabHeight,comValue:"",startTime:"",endTime:"",currentStatus:0,comRange:[{value:0,text:"成都有职劳务有限公司"},{value:1,text:"成都顶呱呱劳务有限公司"}],tabs:[{value:"expenditure",text:"支出记录"},{value:"income",text:"收入记录"}],info:{id:"",project_name:"",broker_name:"",contact_mobile:"",contact_name:""},scrollHeight:0,boxTop:0,headerHeight:o.globalData.topHeight,maskInnerTop:0,showMoreInfo:!1,moreText:"展开",id:"",list:[],pagination:{},currentPage:1}},components:{tabbar:s.default,customHeader:n.default},onPullDownRefresh:function(){this.currentPage=1,this.list=[],this.currentTab={value:"expenditure",text:"支出记录"},this.getList(),this.getInfo()},onLoad:function(t){this.id=t.id;var i=this;this.getMarginTop(),setTimeout((function(){i.getElementInfo(),i.getTopHeight()}),500),this.getInfo(),this.getList()},methods:{getMarginTop:function(t){var i=uni.getMenuButtonBoundingClientRect();this.marginTop=i.height+i.top+10,this.maskInnerTop=this.marginTop+20},getTopHeight:function(){var t=uni.getSystemInfoSync();this.headerHeight=Math.floor(t.screenHeight*(200/844))},getElementInfo:function(){var t=this,i=uni.getSystemInfoSync(),e=Math.floor(i.screenHeight*(46/844));console.log(e,"tabbar");var a=uni.createSelectorQuery().select(".top_area");a.boundingClientRect((function(a){a.bottom-a.top,t.boxTop=t.marginTop+a.height,t.scrollHeight=i.screenHeight-t.boxTop-e-5})).exec()},changeTab:function(t){this.currentTab.value=t.value,this.currentTab.text=t.text,this.list=[],this.getList()},showMore:function(){var t=this;this.showMoreInfo=!this.showMoreInfo,this.showMoreInfo?this.moreText="收起":this.moreText="展开",setTimeout((function(){t.getMarginTop(),t.getElementInfo(),t.getTopHeight()}))},getInfo:function(){var t=this,i="/broker/mini/project-broker/"+this.id+"/commission/detail";this.$request(i).then((function(i){0==i.code?t.info=i.data:uni.showModal({title:i.msg})}))},getList:function(){var t=this,i="/broker/mini/project-broker/"+this.id+"/commission/"+this.currentTab.value+"?page="+this.currentPage;this.$request(i).then((function(i){0==i.code?(t.list=t.list.concat(i.data.list),t.pagination=i.data.pagination):uni.showModal({title:i.msg})}))},toDetail:function(t){uni.navigateTo({url:"/subpkg/commission_worker_detail/commission_worker_detail?id="+t+"&type="+this.currentTab.value})},lower:function(){this.list.length<this.pagination.totalCount?(this.currentPage++,this.getList()):this.list.length>=this.pagination.totalCount&&uni.showToast({title:"已经到底啦~",icon:"none",duration:2e3})}}};i.default=l},2224:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[e("customHeader",{attrs:{title:t.pageName,showBack:!0,headHeight:t.headerHeight}}),e("v-uni-view",{staticClass:"cont",style:{marginTop:t.marginTop+"px"}},[e("v-uni-view",{staticClass:"top_area",style:{top:t.marginTop+"px"}},[e("v-uni-view",{staticClass:"top"},[e("v-uni-view",{staticClass:"inner",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[t._v(t._s(t.info.project_name))])],1),e("v-uni-view",{staticClass:"top_bot"},[e("v-uni-view",{staticClass:"base_info",class:t.showMoreInfo?"showall":""},[e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("项目编号：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.info.project_code))])],1),e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("项目来源：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.info.parent_broker_company_name))])],1),e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("联系人：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.info.contact_name))])],1),e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("联系电话：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.info.contact_mobile))])],1),e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("我招聘了：")]),e("v-uni-view",{staticClass:"text flex flex_btween"},[e("v-uni-view",{staticClass:"num"},[t._v(t._s(t.info.worker_count))]),e("v-uni-view",{staticClass:"period"},[t._v("人")])],1)],1),e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("总工作时长：")]),e("v-uni-view",{staticClass:"text flex flex_btween"},[e("v-uni-view",{staticClass:"num"},[t._v(t._s(t.info.total_working_time))]),e("v-uni-view",{staticClass:"period"},[t._v("小时")])],1)],1),e("v-uni-view",{staticClass:"line flex flex-start",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"}},[e("v-uni-view",{staticClass:"tit"},[t._v("接单时间：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.info.create_time))])],1)],1),e("v-uni-view",{staticClass:"showmore",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showMore.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.moreText))]),e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_more.png",mode:"widthFix"}})],1)],1),e("v-uni-view",{staticClass:"tabs flex flex-start"},t._l(t.tabs,(function(i,a){return e("v-uni-view",{key:a,staticClass:"tab",class:t.currentTab.value==i.value?"active":"",style:{height:t.subTabHeight+"px",lineHeight:t.subTabHeight+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(i.text))])})),1)],1),e("v-uni-view",{staticClass:"box",style:{top:t.boxTop+"px",background:0==t.list.length?"#fff":"#F3F3F5"}},[e("v-uni-scroll-view",{staticClass:"scroll-Y",style:{height:t.scrollHeight+"px"},attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.lower.apply(void 0,arguments)}}},[t._l(t.list,(function(i,a){return"expenditure"==t.currentTab.value?e("v-uni-view",{key:a,staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i.id)}}},[e("v-uni-view",{staticClass:"line flex flex_around"},[e("v-uni-view",{staticClass:"line_inner flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("工人人数：")]),e("v-uni-view",{staticClass:"text bold"},[t._v(t._s(i.worker_count)),e("v-uni-text",{staticClass:"period"},[t._v("人")])],1)],1),e("v-uni-view",{staticClass:"line_inner flex flex_end"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期工作时长：")]),e("v-uni-view",{staticClass:"text bold"},[t._v(t._s(i.total_working_time)),e("v-uni-text",{staticClass:"period"},[t._v("小时")])],1)],1)],1),e("v-uni-view",{staticClass:"line flex flex_around"},[e("v-uni-view",{staticClass:"line_inner flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期佣金：")]),e("v-uni-view",{staticClass:"text bold"},[t._v(t._s(i.commission_amount)),e("v-uni-text",{staticClass:"period"},[t._v("元")])],1)],1),e("v-uni-view",{staticClass:"line_inner flex flex_end"},[e("v-uni-view",{staticClass:"tit"},[t._v("佣金单价：")]),e("v-uni-view",{staticClass:"text"},[e("v-uni-text",{staticClass:"bold blue"},[t._v(t._s(i.commission_unit_price))]),e("v-uni-text",{staticClass:"period"},[t._v("/人/时")])],1)],1)],1),e("v-uni-view",{staticClass:"line flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("佣金去向：")]),e("v-uni-view",{staticClass:"text"},[e("v-uni-text",{staticClass:"bold blue"},[t._v(t._s(i.sub_broker_company_name))])],1)],1),e("v-uni-view",{staticClass:"line flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期开始时间：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(i.project_salary_batch_start_time))])],1),e("v-uni-view",{staticClass:"line flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期结束时间：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(i.project_salary_batch_end_time))])],1)],1):t._e()})),t._l(t.list,(function(i,a){return"income"==t.currentTab.value?e("v-uni-view",{key:a,staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i.id)}}},[e("v-uni-view",{staticClass:"line flex flex_around"},[e("v-uni-view",{staticClass:"line_inner flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("工人人数：")]),e("v-uni-view",{staticClass:"text bold"},[t._v(t._s(i.worker_count)),e("v-uni-text",{staticClass:"period"},[t._v("人")])],1)],1),e("v-uni-view",{staticClass:"line_inner flex flex_end"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期工作时长：")]),e("v-uni-view",{staticClass:"text bold"},[t._v(t._s(i.total_working_time)),e("v-uni-text",{staticClass:"period"},[t._v("小时")])],1)],1)],1),e("v-uni-view",{staticClass:"line flex flex_around"},[e("v-uni-view",{staticClass:"line_inner flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期佣金：")]),e("v-uni-view",{staticClass:"text bold"},[t._v(t._s(i.commission_amount)),e("v-uni-text",{staticClass:"period"},[t._v("元")])],1)],1),e("v-uni-view",{staticClass:"line_inner flex flex_end"},[e("v-uni-view",{staticClass:"tit"},[t._v("佣金单价：")]),e("v-uni-view",{staticClass:"text"},[e("v-uni-text",{staticClass:"bold blue"},[t._v(t._s(i.commission_unit_price))]),e("v-uni-text",{staticClass:"period"},[t._v("/人/时")])],1)],1)],1),e("v-uni-view",{staticClass:"line flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期开始时间：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(i.project_salary_batch_start_time))])],1),e("v-uni-view",{staticClass:"line flex flex-start"},[e("v-uni-view",{staticClass:"tit"},[t._v("本期结束时间：")]),e("v-uni-view",{staticClass:"text"},[t._v(t._s(i.project_salary_batch_end_time))])],1)],1):t._e()})),0==t.list.length?e("v-uni-view",{staticClass:"empty"},[e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/empty.png",mode:"heightFix"}})],1):t._e()],2)],1)],1)],1)},s=[]},"3f50":function(t,i,e){"use strict";e.r(i);var a=e("2224"),s=e("cc76");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("82d0");var o=e("f0c5"),l=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"3c53910c",null,!1,a["a"],void 0);i["default"]=l.exports},"82d0":function(t,i,e){"use strict";var a=e("f7ba"),s=e.n(a);s.a},9077:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */uni-image[data-v-3c53910c]{width:auto;will-change:transform;height:auto}\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.top_area[data-v-3c53910c]{width:calc(100% - %?96?%);position:fixed;left:%?48?%;font-size:0}.top_area > uni-image[data-v-3c53910c]{width:100%}.top_area .top[data-v-3c53910c]{background:url(https://static.test.swiftwd.com/broker/ic_commission_title_bg.png) no-repeat;background-size:100% 100%;height:%?80?%;line-height:%?80?%;padding:%?4?% %?40?%}.top_area .top .inner[data-v-3c53910c]{border-bottom:1px dashed #979797;font-size:%?30?%;color:#333;position:relative;padding-left:%?20?%;font-weight:700;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.top_area .top .inner[data-v-3c53910c]:before{content:"";width:%?8?%;height:%?28?%;background:#f7bc05;border-radius:%?2?%;position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.top_area .line[data-v-3c53910c]{height:%?88?%;line-height:%?88?%;font-size:%?28?%;border-bottom:1px dashed #dfdfdf}.top_area .line[data-v-3c53910c]:last-child{border-bottom:none}.top_area .line .tit[data-v-3c53910c]{color:#5a5a5a;width:%?175?%}.top_area .line .text[data-v-3c53910c]{width:calc(100% - %?175?%);color:#333}.top_area .line .text .period[data-v-3c53910c]{font-size:%?24?%;color:#a8a8a8}.top_area .top_bot[data-v-3c53910c]{background:url(https://static.test.swiftwd.com/broker/ic_commission_detail_bg.png) no-repeat;background-size:cover;padding-bottom:%?30?%}.top_area .top_bot .base_info[data-v-3c53910c]{padding:0 %?40?%;box-sizing:border-box;height:%?88?%;overflow:hidden}.top_area .top_bot .base_info .line[data-v-3c53910c]{margin-top:0}.top_area .top_bot .base_info.showall[data-v-3c53910c]{height:auto;overflow:visible}.top_area .top_bot .showmore[data-v-3c53910c]{font-size:%?24?%;color:#f7bc05;text-align:center}.top_area .top_bot .showmore .text[data-v-3c53910c]{display:inline-block}.top_area .top_bot .showmore uni-image[data-v-3c53910c]{width:%?30?%;height:%?30?%;vertical-align:middle}.top_area .tabs[data-v-3c53910c]{background:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);border-radius:8px;position:relative;margin:%?20?% 0}.top_area .tabs[data-v-3c53910c]::after{content:"";width:%?2?%;height:%?30?%;background:#dfdfdf;position:relative;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.top_area .tabs .tab[data-v-3c53910c]{width:50%;font-size:%?30?%;color:#333;position:relative;text-align:center}.top_area .tabs .tab.active[data-v-3c53910c]{font-weight:700;color:#f7bc05}.top_area .tabs .tab.active[data-v-3c53910c]::after{content:"";width:%?28?%;height:%?10?%;background:url(https://static.test.swiftwd.com/broker/arrow_down_yellow.png) no-repeat;background-size:100% 100%;position:absolute;bottom:%?8?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.box[data-v-3c53910c]{position:fixed;width:calc(100% - %?96?%);left:%?48?%;z-index:3;overflow:hidden;background-size:100% 100%;box-sizing:border-box}.box .item[data-v-3c53910c]{margin-bottom:%?20?%;background:#fff;border-radius:%?16?%;padding:%?40?%;box-sizing:border-box}.box .item .line[data-v-3c53910c]{margin-bottom:%?24?%;font-size:%?28?%}.box .item .line[data-v-3c53910c]:last-child{margin-bottom:0}.box .item .line .line_inner[data-v-3c53910c]{width:50%}.box .item .line .line_inner[data-v-3c53910c]:last-child{text-align:right}.box .item .line .tit[data-v-3c53910c]{color:#686868}.box .item .line .text[data-v-3c53910c]{color:#333}.box .item .line .bold[data-v-3c53910c]{font-weight:700}.box .item .line .blue[data-v-3c53910c]{color:#4284f4}.box .item .line .period[data-v-3c53910c]{font-size:%?24?%;color:#a8a8a8;font-weight:400;margin-left:%?8?%}',""]),t.exports=i},cc76:function(t,i,e){"use strict";e.r(i);var a=e("13d6"),s=e.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a},f7ba:function(t,i,e){var a=e("9077");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("5d3bbe11",a,!0,{sourceMap:!1,shadowMode:!1})}}]);