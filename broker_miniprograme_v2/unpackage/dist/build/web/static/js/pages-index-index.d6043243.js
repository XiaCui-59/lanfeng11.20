(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"29a2":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[e("customHeader",{attrs:{title:t.pageName,showBack:!1,headHeight:t.headerHeight,showScan:!0}}),e("v-uni-view",{staticClass:"cont",style:{marginTop:t.marginTop+"px"}},[e("v-uni-view",{staticClass:"top_area",style:{top:t.marginTop+t.tabMargin+"px"}},[e("v-uni-view",{staticClass:"banner",style:{height:t.bannerHeight+"px"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toadd.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"banner_info"},[e("v-uni-view",{staticClass:"tit"},[t._v("招贤纳士")]),e("v-uni-view",{staticClass:"tips"},[t._v("快来发布你的项目，寻找能人")]),e("v-uni-view",{staticClass:"banner_btn"},[t._v("发布项目")])],1)],1),e("v-uni-view",{staticClass:"subtabs flex flex-start",style:{height:t.subTabHeight+"px",marginTop:t.tabMargin+"px",marginBottom:t.tabMargin+"px"}},t._l(t.tabs,(function(i,a){return e("v-uni-view",{key:a,staticClass:"subtab flex flex_around",class:t.currentTab.value==i.value?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(i.text))])})),1)],1),e("v-uni-view",{staticClass:"box",style:{top:t.boxTop+"px",background:0==t.list.length?"#fff":"#F3F3F5"}},[e("v-uni-scroll-view",{staticClass:"scroll-Y",style:{height:t.scrollHeight+"px"},attrs:{"scroll-top":t.scrollTop,"scroll-y":"true","refresher-enabled":"true","refresher-triggered":t.refreshStatus},on:{refresherpulling:function(i){arguments[0]=i=t.$handleEvent(i),t.refreshData.apply(void 0,arguments)},scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.lower.apply(void 0,arguments)}}},[t._l(t.list,(function(i,a){return 0!=t.list.length?e("v-uni-view",{key:a,staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i.id)}}},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(i.name)),"waiting_submit_platform_review"==i.status||"waiting_set_platform_fee"==i.status||"platform_review_rejected"==i.status?e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_dele.png",mode:"widthFix"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.deleProject(i)}}}):t._e()],1),e("v-uni-view",{staticClass:"middle flex flex_btween"},[e("v-uni-view",{staticClass:"mid_in_item"},[e("v-uni-view",{staticClass:"tit"},[t._v("工资")]),e("v-uni-view",{staticClass:"salary"},[t._v(t._s(i.worker_salary))])],1),e("v-uni-view",{staticClass:"mid_in_item"},[e("v-uni-view",{staticClass:"tit"},[t._v("在职人数")]),e("v-uni-view",{staticClass:"count flex flex_end"},[t._v(t._s(i.on_job_worker_count)),e("v-uni-text",{staticClass:"period"},[t._v("人")])],1)],1)],1),e("v-uni-view",{staticClass:"bottom flex flex_btween"},[e("v-uni-view",{staticClass:"left flex flex-start"},[e("v-uni-image",{staticStyle:{width:"56rpx",height:"56rpx","border-radius":"50%",border:"1px solid #ccc","margin-right":"16rpx"},attrs:{src:i.broker.avatar?i.broker.avatar:t.avatar,mode:""}}),e("v-uni-view",{staticClass:"count"},[t._v(t._s(i.broker.name))])],1)],1),e("v-uni-view",{staticClass:"opera flex flex_end"},["waiting_set_platform_fee"==i.status?e("v-uni-view",{staticClass:"ope_item set flex flex-start",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toset(i.id)}}},[e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_set.png",mode:"widthFix"}}),e("v-uni-text",[t._v("设置费用")])],1):t._e(),"waiting_submit_platform_review"==i.status?e("v-uni-view",{staticClass:"ope_item sub flex flex-start",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submit(i)}}},[e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_submit.png",mode:"widthFix"}}),e("v-uni-text",[t._v("提交审核")])],1):t._e(),"waiting_submit_platform_review"==i.status||"waiting_set_platform_fee"==i.status||"platform_review_rejected"==i.status?e("v-uni-view",{staticClass:"ope_item edit flex flex-start",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toedit(i.id)}}},[e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_edit.png",mode:"widthFix"}}),e("v-uni-text",[t._v("编辑")])],1):t._e()],1)],1):t._e()})),0==t.list.length?e("v-uni-view",{staticClass:"empty"},[e("v-uni-image",{attrs:{src:t.imgUrl+"/broker/empty.png",mode:"widthFix"}})],1):t._e()],2)],1)],1),t.showModal?e("customModal",{attrs:{title:t.modalTitle,content:t.modalContent,bgUrl:t.modalBg,iconUrl:t.modalIcon,imageUrl:t.imageUrl,iconPosition:t.iconPosition,showCancel:t.showCancel,showConfirm:t.showConfirm},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.handleConfirm.apply(void 0,arguments)},cancel:function(i){arguments[0]=i=t.$handleEvent(i),t.handleCancel.apply(void 0,arguments)},closeModal:function(i){arguments[0]=i=t.$handleEvent(i),t.closeModal.apply(void 0,arguments)}}}):t._e(),e("tabbar",{attrs:{current:"0",todo:t.todo},on:{getTabbarHeight:function(i){arguments[0]=i=t.$handleEvent(i),t.getTabbarHeight.apply(void 0,arguments)}}})],1)},n=[]},"3d62":function(t,i,e){var a=e("fa0f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("f4ce6d4c",a,!0,{sourceMap:!1,shadowMode:!1})},"5a6b":function(t,i,e){"use strict";e.r(i);var a=e("f59f"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"791d":function(t,i,e){"use strict";e.r(i);var a=e("29a2"),n=e("5a6b");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("9155");var r=e("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"63b34cac",null,!1,a["a"],void 0);i["default"]=s.exports},9155:function(t,i,e){"use strict";var a=e("3d62"),n=e.n(a);n.a},f59f:function(t,i,e){"use strict";e("7a82");var a=e("ee27").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("99af");var n=a(e("f07e")),o=a(e("c964")),r=a(e("91bd")),s=a(e("2e63")),l=getApp(),c={data:function(){return{avatar:l.globalData.baseImageUrl+"/broker/com_default.png",imgUrl:l.globalData.baseImageUrl,showMask:!1,refreshStatus:!0,isPulling:!1,pageName:"蓝蜂用工",marginTop:l.globalData.marginTop,mainTabHeight:l.globalData.mainTabHeight,subTabHeight:l.globalData.subTabHeight,tabMargin:l.globalData.tabMargin,bannerHeight:l.globalData.bannerHeight,modalTitle:"提示",modalContent:"",iconPosition:"right",modalBg:"/broker/modal_bg.png",modalIcon:"/broker/modal_icon.png",showCancel:!0,showConfirm:!0,imageUrl:"",tabs:[{value:"running",text:"进行中"},{value:"waiting-submit-review",text:"待提审"},{value:"reviewing",text:"审核中"},{value:"finished",text:"已完结"},{value:"",text:"全部"}],currentTab:{value:"running",text:"进行中"},list:[],scrollHeight:0,boxTop:0,headerHeight:l.globalData.highTopHeight,currentPage:1,pagination:{},projectStatics:{create_count:0,accept_count:0},tabbarHeight:0,loginStatus:!1,todo:0,showModal:!1,currentProject:{}}},components:{tabbar:r.default,customHeader:s.default},onLoad:function(){this.boxTop=this.marginTop+this.bannerHeight+3*this.tabMargin+this.subTabHeight,this.scrollHeight=l.globalData.systemHeight-this.marginTop-this.subTabHeight-2*this.tabMargin-this.tabbarHeight-this.bannerHeight,this.isLogin()&&(this.loginStatus=!0)},watch:{loginStatus:function(t,i){console.log(t,i),t&&(this.list=[],this.getList())}},onShow:function(){var t=this;return(0,o.default)((0,n.default)().mark((function i(){var e;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t.isLogin()){i.next=8;break}return t.loginStatus=!0,i.next=4,t.getTodoStatic();case 4:e=i.sent,t.todo=e.total,i.next=9;break;case 8:t.loginStatus=!1;case 9:case"end":return i.stop()}}),i)})))()},methods:{closeModal:function(){this.showModal=!1,this.resetData()},resetData:function(){this.imageUrl="",this.showCancel=!0,this.showConfirm=!0,this.content="",this.title="提示"},toset:function(t){uni.navigateTo({url:"/subpkg/set_fee/set_fee?id="+t})},toedit:function(t){uni.navigateTo({url:"/subpkg/edit_project/edit_project?id="+t})},handleCancel:function(){this.showModal=!1,this.currentProject={},this.modalTitle="",this.modalContent="",this.resetData()},deleProject:function(t){this.currentProject=t,this.modalTitle="删除",this.modalContent="当前删除项目:"+t.name+"？",this.showModal=!0},handleConfirm:function(){var t=this;if("提审"==this.modalTitle){var i="/broker/mini/project/"+this.currentProject.id+"/submit-review";this.$request(i,{},"POST").then((function(i){0==i.code&&(t.showModal=!1,t.resetData(),uni.showToast({title:"提审成功",duration:3e3}),t.list=[],t.getList())}))}else{var e="/broker/mini/project/"+this.currentProject.id;this.$request(e,{},"DELETE").then((function(i){0==i.code&&(t.showModal=!1,uni.showToast({title:"已删除",duration:3e3}),t.list=[],t.getList())}))}},submit:function(t){this.currentProject=t,this.modalTitle="提审",this.modalContent="当前提审项目:"+t.name+"？",this.showModal=!0},toadd:function(){uni.navigateTo({url:"/subpkg/add_project/add_project"})},refreshData:function(){var t=this;this.isPulling||(this.isPulling=!0,this.refreshStatus=!0,this.currentPage=1,this.list=[],this.getList(),setTimeout((function(){t.refreshStatus=!1,t.isPulling=!1}),1e3))},getTabbarHeight:function(t){this.tabbarHeight=t},changeTab:function(t){this.currentTab=t,this.isLogin()?(this.list=[],this.getList()):uni.showModal({title:"未登录",content:"您当前还未登录，无法查看数据，是否现在登录？",success:function(t){t.confirm&&uni.navigateTo({url:"/pages/login/login"})}})},toDetail:function(t){uni.navigateTo({url:"/subpkg/project_detail/project_detail?id="+t})},getList:function(){var t=this,i="/broker/mini/projects"+(this.currentTab.value?"/"+this.currentTab.value:"")+"?page="+this.currentPage;this.$request(i).then((function(i){0==i.code&&(t.list=t.list.concat(i.data.list),t.pagination=i.data.pagination)}))},lower:function(){this.list.length<this.pagination.totalCount?(this.currentPage++,this.getList()):this.list.length>=this.pagination.totalCount&&uni.showToast({title:"已经到底啦~",icon:"none",duration:2e3})}}};i.default=c},fa0f:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */uni-image[data-v-63b34cac]{width:auto;will-change:transform;height:auto}\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.pub_ic[data-v-63b34cac]{position:fixed;right:%?20?%;font-size:0;z-index:200}.pub_ic uni-image[data-v-63b34cac]{width:%?60?%;height:%?60?%}.top_area[data-v-63b34cac]{width:calc(100% - %?92?%);left:%?46?%;position:fixed}.top_area .banner[data-v-63b34cac]{position:relative;width:100%;background:url(https://static.test.swiftwd.com/broker/index_banner.png) no-repeat;background-size:cover}.top_area .banner .banner_info[data-v-63b34cac]{position:absolute;top:50%;right:%?58?%;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:right}.top_area .banner .banner_info .tit[data-v-63b34cac]{font-weight:600;font-size:%?27?%;color:#333;line-height:%?38?%}.top_area .banner .banner_info .tips[data-v-63b34cac]{font-weight:400;font-size:%?19?%;color:#ababab;line-height:%?27?%}.top_area .banner .banner_info .banner_btn[data-v-63b34cac]{margin-top:%?15?%;width:%?212?%;height:%?62?%;line-height:%?62?%;text-align:center;background:#3780ff;border-radius:%?35?%;font-weight:600;font-size:%?29?%;color:#fff}.top_area .tabs .tab[data-v-63b34cac]{width:%?332?%;padding:%?12?% %?24?%;background:url(https://static.test.swiftwd.com/broker/rect_normal.png) no-repeat;background-size:100% 100%;box-sizing:border-box;border-radius:%?20?%;overflow:hidden}.top_area .tabs .tab.active[data-v-63b34cac]{background:url(https://static.test.swiftwd.com/broker/rect_sele.png) no-repeat;background-size:100% 100%}.top_area .tabs .tab .icon[data-v-63b34cac]{font-size:0}.top_area .tabs .tab .icon uni-image[data-v-63b34cac]{will-change:transform;height:%?100?%}.top_area .tabs .tab .info[data-v-63b34cac]{text-align:center}.top_area .tabs .tab .info .tit[data-v-63b34cac]{font-size:%?30?%}.top_area .tabs .tab .info .count[data-v-63b34cac]{font-size:%?34?%;color:#fff;font-weight:700}.box[data-v-63b34cac]{position:fixed;width:calc(100% - %?96?%);left:%?48?%;z-index:3;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;overflow:hidden;background:#f3f3f5}.box .item[data-v-63b34cac]{padding:%?40?%;border-radius:%?16?%;background:#fff;box-shadow:0 %?2?% %?6?% 0 rgba(0,0,0,.15);margin-bottom:%?20?%}.box .item .title[data-v-63b34cac]{font-size:%?34?%;padding-left:%?22?%;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding-right:%?54?%}.box .item .title uni-image[data-v-63b34cac]{width:%?50?%;height:%?50?%;height:auto;position:absolute;top:50%;right:%?0?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box .item .title[data-v-63b34cac]:before{content:"";width:%?8?%;height:%?36?%;background:#f7bc05;position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.box .item .middle[data-v-63b34cac]{font-size:%?30?%;margin:%?34?% 0;padding:0 %?22?%}.box .item .middle .mid_in_item .tit[data-v-63b34cac]{font-size:%?25?%;color:#5a5a5a;line-height:%?46?%}.box .item .middle .mid_in_item uni-view[data-v-63b34cac]{font-weight:600;font-size:%?35?%}.box .item .middle .mid_in_item .salary[data-v-63b34cac]{color:#ea9900}.box .item .middle .mid_in_item .count[data-v-63b34cac]{color:#3780ff;text-align:right}.box .item .middle .mid_in_item .period[data-v-63b34cac]{font-size:%?23?%;color:#a8a8a8;display:inline-block;margin-left:%?28?%}.box .item .bottom[data-v-63b34cac]{font-size:%?23?%;color:#686868;height:%?60?%;line-height:%?60?%}.box .item .opera[data-v-63b34cac]{margin-top:%?20?%}.box .item .opera .ope_item[data-v-63b34cac]{margin-left:10%}.box .item .opera .ope_item uni-image[data-v-63b34cac]{width:%?50?%;height:%?50?%}.box .item .opera .ope_item uni-text[data-v-63b34cac]{font-weight:400;font-size:%?27?%;color:#333}',""]),t.exports=i}}]);