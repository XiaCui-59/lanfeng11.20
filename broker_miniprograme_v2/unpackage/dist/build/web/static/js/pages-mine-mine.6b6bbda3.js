(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-mine"],{"42e1":function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7");var n=a(i("f07e")),o=a(i("c964")),r=a(i("91bd")),s=a(i("2e63")),l=getApp(),d={data:function(){return{imgUrl:l.globalData.baseImageUrl,pageName:"我的",marginTop:l.globalData.marginTop,tabMargin:l.globalData.tabMargin,mineCardHeight:l.globalData.mineCardHeight,scrollHeight:0,boxTop:0,headerHeight:l.globalData.highTopHeight,maskInnerTop:0,showMask:!1,avatar:l.globalData.baseImageUrl+"/broker/com_default.png",baseStatus:[{value:"pending",text:"审核中",btnText:""},{value:"approved",text:"已认证",btnText:""},{value:"rejected",text:"认证失败",btnText:"重新认证"}],twoStatus:[{value:"not_uploaded",text:"未上传"},{value:"pending",text:"待审"},{value:"approved",text:"审核通过"},{value:"rejected",text:"审核拒绝"}],info:{company_name:"",basic_verify_status:""},tabbarHeight:0,mineTop:l.globalData.mineTop,loginStatus:!1,todo:0}},components:{tabbar:r.default,customHeader:s.default},onLoad:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.boxTop=t.marginTop+t.mineTop+t.tabMargin,t.scrollHeight=l.globalData.systemHeight-t.marginTop-t.tabMargin-t.mineTop-t.tabbarHeight,t.isLogin()&&(t.loginStatus=!0);case 3:case"end":return e.stop()}}),e)})))()},watch:{loginStatus:function(t,e){console.log(t,e),t&&this.getInfo()}},onShow:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLogin()){e.next=8;break}return t.loginStatus=!0,e.next=4,t.getTodoStatic();case 4:i=e.sent,t.todo=i.total,e.next=10;break;case 8:t.loginStatus=!1,uni.showModal({title:"提示",content:"小程序需登录后才可以正常使用功能哟，马上登录？",confirmText:"去登录",success:function(t){t.confirm?uni.navigateTo({url:"/pages/login/login"}):uni.switchTab({url:"/pages/index/index"})}});case 10:case"end":return e.stop()}}),e)})))()},methods:{getTabbarHeight:function(t){this.tabbarHeight=t},navigate:function(t){uni.navigateTo({url:t})},openMask:function(t){this.showMask=!0},close:function(){this.showMask=!1},copyLink:function(){var t=this;uni.setClipboardData({data:"https://swiftwd.com",success:function(){t.close()}})},getInfo:function(){var t=this;this.$request("/broker/mini/info").then((function(e){0==e.code&&(t.info=e.data)}))},loadimg:function(t,e){var i=this;return(0,o.default)((0,n.default)().mark((function a(){var o,r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=i,r={Authorization:"bearer "+uni.getStorageSync("token"),accept:"application/json","content-type":"multipart/form-data"},a.abrupt("return",new Promise((function(i,a){uni.uploadFile({url:l.globalData.baseUrl+"/broker/upload/image?type="+t,filePath:e,name:"file",header:r,success:function(t){var e=JSON.parse(t.data);if(0==e.code){uni.showToast({title:"图片上传成功"});var i={avatar:e.data.key};o.$request("/broker/mini/avatar",i,"POST").then((function(t){0==t.code&&(uni.showToast({title:"头像更新成功",duration:2e3}),o.getInfo())}))}else uni.showModal({title:"上传失败",content:e.msg})},complete:function(){uni.hideLoading()}}),i(o.reponsefiles)})));case 3:case"end":return a.stop()}}),a)})))()},getAvatar:function(t){console.log(t),this.loadimg("avatar",t.detail.avatarUrl)}}};e.default=d},"52ee":function(t,e,i){"use strict";i.r(e);var a=i("f4cf"),n=i("ab77");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d2c4");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"21620fed",null,!1,a["a"],void 0);e["default"]=s.exports},"95d7":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */uni-image[data-v-21620fed]{width:auto;will-change:transform;height:auto}\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.top_area[data-v-21620fed]{width:calc(100% - %?96?%);position:fixed;left:%?48?%}.top_area > uni-image[data-v-21620fed]{width:100%;will-change:transform}.top_area .top[data-v-21620fed]{position:absolute;top:3%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:calc(100% - %?80?%);padding:%?20?% 0}.top_area .top > uni-image[data-v-21620fed]{width:%?168?%;position:absolute;top:50%;left:84%;will-change:transform}.top_area .top .logo[data-v-21620fed]{border-radius:50%;overflow:hidden;margin-right:%?20?%;padding-left:0;padding-right:0;margin-left:0}.top_area .top .info[data-v-21620fed]{width:calc(100% - %?220?%);position:relative}.top_area .top .info .name[data-v-21620fed]{font-weight:600;font-size:%?34?%;color:#333;line-height:%?48?%;text-shadow:0 1px 1px rgba(0,0,0,.2);margin-bottom:%?16?%;white-space:nowrap}.top_area .top .info .status .sta_text[data-v-21620fed]{font-weight:600;font-size:%?34?%;color:#fff;line-height:%?48?%;text-shadow:0 1px 2px rgba(52,35,0,.76)}.top_area .top .info .status .btn[data-v-21620fed]{width:%?160?%;height:%?56?%;line-height:%?56?%;background:#f7bb05;box-shadow:0 1px 2px 0 rgba(146,110,2,.5);border-radius:%?44?%;border:1px solid #f7bb05;color:#333;font-size:%?28?%;text-align:center;margin-top:0;margin-bottom:0}.box[data-v-21620fed]{position:fixed;width:100%;left:%?0?%;z-index:3;background:url(https://static.test.swiftwd.com/broker/ic_mine_bg.png) no-repeat;background-size:100% 100%;overflow:hidden;padding:%?104?% %?48?% 0 %?48?%;box-sizing:border-box}.box .line[data-v-21620fed]{margin-bottom:%?30?%}.box .line .item[data-v-21620fed]{width:48%;padding:%?20?%;box-sizing:border-box;background:#fff;border-radius:%?20?%}.box .line .item .item_top uni-image[data-v-21620fed]{width:%?50?%;height:%?50?%;margin-right:%?8?%}.box .line .item .item_top .text[data-v-21620fed]{color:#333;font-size:%?28?%}.box .line .item .item_middle[data-v-21620fed]{font-size:%?24?%;color:#9e9e9e;margin-top:%?10?%;margin-bottom:%?20?%}.box .line .item .item_bot[data-v-21620fed]{font-size:0}.box .line .item .item_bot uni-image[data-v-21620fed]{width:100%;will-change:transform}.mask .inner[data-v-21620fed]{width:71%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center}.mask .inner .bg[data-v-21620fed]{width:100%;position:relative;top:0;left:0}.mask .inner uni-image[data-v-21620fed]{width:%?175?%;height:%?175?%;position:absolute;top:4%;left:%?62?%}.mask .inner .info[data-v-21620fed]{position:absolute;top:44%;left:%?62?%}.mask .inner .info .tit[data-v-21620fed]{font-size:%?36?%;color:#ffb103;font-weight:700}.mask .inner .info .text[data-v-21620fed]{margin:%?20?% 0 %?56?% 0;font-size:%?28?%;color:#333}.mask .inner .info .btn[data-v-21620fed]{height:%?88?%;line-height:%?88?%;background:#f7bc05;box-shadow:0 1px 2px 0 rgba(0,0,0,.15);border-radius:%?16?%;color:#fff}',""]),t.exports=e},a4ae:function(t,e,i){var a=i("95d7");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5de63532",a,!0,{sourceMap:!1,shadowMode:!1})},ab77:function(t,e,i){"use strict";i.r(e);var a=i("42e1"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},d2c4:function(t,e,i){"use strict";var a=i("a4ae"),n=i.n(a);n.a},f4cf:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("customHeader",{attrs:{title:t.pageName,showBack:!1,headHeight:t.headerHeight}}),i("v-uni-view",{staticClass:"cont",style:{marginTop:t.marginTop+t.tabMargin+"px"}},[i("v-uni-view",{staticClass:"top_area",style:{top:t.marginTop+t.tabMargin+"px",height:t.mineCardHeight+"px"}},[i("v-uni-image",{style:{height:t.mineCardHeight+"px",width:"100%"},attrs:{src:t.imgUrl+"/broker/ic_mine_top_bg.png"}}),i("v-uni-view",{staticClass:"top flex flex-start"},[i("v-uni-button",{staticClass:"logo",style:{height:.45*t.mineCardHeight+"px",width:.45*t.mineCardHeight+"px"},attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(e){arguments[0]=e=t.$handleEvent(e),t.getAvatar.apply(void 0,arguments)}}},[i("v-uni-image",{staticStyle:{"border-radius":"50%",background:"#fff"},style:{height:.45*t.mineCardHeight+"px",width:.45*t.mineCardHeight+"px"},attrs:{src:t.info.avatar?t.info.avatar:t.avatar}})],1),i("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_mine_veri.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(t.info.name))]),i("v-uni-view",{staticClass:"status"},[t._v(t._s(t.info.mobile))])],1)],1)],1),i("v-uni-view",{staticClass:"box",style:{top:t.boxTop+"px",height:t.scrollHeight+"px"}},[i("v-uni-scroll-view",{staticClass:"scroll-Y",style:{height:t.scrollHeight+"px"},attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"}},[i("v-uni-view",{staticClass:"line flex flex_btween"},[i("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigate("/subpkg/my_info/my_info")}}},[i("v-uni-view",{staticClass:"item_top flex flex-start"},[i("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_mine_info.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"text"},[t._v("公司信息")])],1),i("v-uni-view",{staticClass:"item_middle"},[t._v("实名认证，多重保障")]),i("v-uni-view",{staticClass:"item_bot"},[i("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_mine_info_bg.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigate("/subpkg/setting/setting")}}},[i("v-uni-view",{staticClass:"item_top flex flex-start"},[i("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_mine_setting.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"text"},[t._v("系统设置")])],1),i("v-uni-view",{staticClass:"item_middle"},[t._v("更多功能，敬请期待")]),i("v-uni-view",{staticClass:"item_bot"},[i("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_mine_setting_bg.png",mode:"widthFix"}})],1)],1)],1),i("v-uni-view",{staticClass:"line flex flex_btween"})],1)],1)],1),t.showMask?i("v-uni-view",{staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"inner",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openMask.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"bg",attrs:{src:t.imgUrl+"/broker/ic_mine_mask_inner_bg.png",mode:"widthFix"}}),i("v-uni-image",{attrs:{src:t.imgUrl+"/broker/ic_mine_mask_icon.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"tit"},[t._v("复制网址到电脑浏览器操作")]),i("v-uni-view",{staticClass:"text"},[t._v("https://swiftwd.com")]),i("v-uni-view",{staticClass:"btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.copyLink.apply(void 0,arguments)}}},[t._v("复制网址")])],1)],1)],1):t._e(),i("tabbar",{attrs:{current:"2",todo:t.todo},on:{getTabbarHeight:function(e){arguments[0]=e=t.$handleEvent(e),t.getTabbarHeight.apply(void 0,arguments)}}})],1)},n=[]}}]);