(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/test/test"],{"03c4":function(e,t,n){"use strict";n.r(t);var r=n("5e67"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"5c54":function(e,t,n){},"5e67":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("7eb4")),o=r(n("ee10")),u=getApp(),i={data:function(){return{mount:"",priceList:[{value:100,text:"100元"},{value:200,text:"200元"},{value:300,text:"300元"},{value:500,text:"500元"},{value:1e3,text:"1000元"},{value:2e3,text:"2000元"}],currentPrice:{},imgUrl:u.globalData.baseImageUrl,pageName:"充值中心",marginTop:u.globalData.marginTop,tabMargin:u.globalData.tabMargin,scrollHeight:0,boxTop:0,headerHeight:u.globalData.topHeight}},components:{tabbar:function(){n.e("components/tabbar").then(function(){return resolve(n("14ab"))}.bind(null,n)).catch(n.oe)},customHeader:function(){n.e("components/custom_header").then(function(){return resolve(n("731d"))}.bind(null,n)).catch(n.oe)}},onLoad:function(){},methods:{radioClick:function(e){this.currentPrice=e},confirmSet:function(){var t=this;return(0,o.default)(a.default.mark((function n(){var r,o,u;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,t.amount){n.next=4;break}return e.showToast({title:"未输入金额",icon:"error",duration:2e3}),n.abrupt("return");case 4:return n.next=6,t.getOrderId();case 6:return o=n.sent,n.next=9,t.getOrderParams(o);case 9:u=n.sent,e.requestPayment({appId:u.appId,timeStamp:u.timeStamp,nonceStr:u.nonceStr,package:u.package,signType:u.signType,paySign:u.paySign,success:function(){e.showModal({title:"支付成功",showCancel:!1,success:function(e){e.confirm&&r.getInfo()}})},fail:function(t){console.log(t,"err"),e.showToast({title:"支付已取消",icon:"error",duration:2e3})}});case 11:case"end":return n.stop()}}),n)})))()},getOrderId:function(){var e=this;return new Promise((function(t){e.$request("/worker/vip-order",{},"POST").then((function(e){0==e.code&&t(e.data.order_id)}))}))},getOrderParams:function(e){var t=this;return new Promise((function(n){var r="/worker/order/"+e+"/pay";t.$request(r,{},"POST").then((function(e){0==e.code&&n(e.data.wechat_mini_program)}))}))}}};t.default=i}).call(this,n("df3c")["default"])},"9bea":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,"cf09"))},uTag:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tag/u-tag")]).then(n.bind(null,"6b8f"))}},a=function(){var e=this.$createElement;this._self._c},o=[]},c0df:function(e,t,n){"use strict";(function(e,t){var r=n("47a9");n("226a");r(n("3240"));var a=r(n("e051"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},e051:function(e,t,n){"use strict";n.r(t);var r=n("9bea"),a=n("03c4");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("eb4a");var u=n("828b"),i=Object(u["a"])(a["default"],r["b"],r["c"],!1,null,"150b490a",null,!1,r["a"],void 0);t["default"]=i.exports},eb4a:function(e,t,n){"use strict";var r=n("5c54"),a=n.n(r);a.a}},[["c0df","common/runtime","common/vendor"]]]);