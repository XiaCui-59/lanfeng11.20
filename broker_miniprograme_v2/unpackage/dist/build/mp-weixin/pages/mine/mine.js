(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mine"],{1108:function(t,e,n){"use strict";n.r(e);var a=n("5438"),o=n("ba47");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("99ac");var r=n("828b"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"07d25fe3",null,!1,a["a"],void 0);e["default"]=u.exports},"1e58":function(t,e,n){"use strict";(function(t){var a=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("7eb4")),i=a(n("ee10")),r=a(n("2c82")),u=getApp(),s={data:function(){return{showAddInfo:!1,showNameInput:!0,showLogin:!1,imgUrl:u.globalData.baseImageUrl,pageName:"我的",marginTop:u.globalData.marginTop,tabMargin:u.globalData.tabMargin,mineCardHeight:u.globalData.mineCardHeight,scrollHeight:0,boxTop:0,headerHeight:u.globalData.highTopHeight,maskInnerTop:0,showMask:!1,avatar:u.globalData.baseImageUrl+"/broker/com_default.png",baseStatus:r.default.baseStatus,twoStatus:[{value:"not_uploaded",text:"未上传"},{value:"pending",text:"待审"},{value:"approved",text:"审核通过"},{value:"rejected",text:"审核拒绝"}],info:{company_name:"",basic_verify_status:""},tabbarHeight:0,mineTop:u.globalData.mineTop,loginStatus:!1,todo:0}},components:{tabbar:function(){n.e("components/tabbar").then(function(){return resolve(n("d745"))}.bind(null,n)).catch(n.oe)},customHeader:function(){n.e("components/custom_header").then(function(){return resolve(n("11e5"))}.bind(null,n)).catch(n.oe)},infoFirst:function(){n.e("components/info_first").then(function(){return resolve(n("b840"))}.bind(null,n)).catch(n.oe)}},onLoad:function(){var t=this;return(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.boxTop=t.marginTop+t.mineTop+t.tabMargin,t.scrollHeight=u.globalData.systemHeight-t.marginTop-t.tabMargin-t.mineTop-t.tabbarHeight,t.isLogin()&&(t.loginStatus=!0);case 3:case"end":return e.stop()}}),e)})))()},watch:{},onShow:function(){var t=this;return(0,i.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLogin()){e.next=11;break}return t.loginStatus=!0,e.next=4,t.getTodoStatic();case 4:return n=e.sent,t.todo=n.total,e.next=8,t.getInfo();case 8:t.info=e.sent,e.next=14;break;case 11:t.showLogin=!0,t.loginStatus=!1,t.info={broker:{name:"",mobile:"",avatar:{key:"",url:""},review_status:""},compamy:{name:""}};case 14:case"end":return e.stop()}}),e)})))()},methods:{handleName:function(){this.showNameInput=!1},closeAddInfo:function(){this.showAddInfo=!1},handleInfo:function(t){t.company.name||(this.showAddInfo=!0),t.broker.name&&(this.showNameInput=!1)},closeLogin:function(){this.showLogin=!1,t.switchTab({url:"/pages/index/index"})},getTabbarHeight:function(t){this.tabbarHeight=t},navigate:function(e){-1==e.indexOf("my_info")||"waiting_submit"!=this.info.broker.review_status?t.navigateTo({url:e}):t.showModal({title:"您还未提交公司信息。",confirmText:"去提交",success:function(e){e.confirm&&t.navigateTo({url:"/subpkg/authentication/authentication"})}})},openMask:function(t){this.showMask=!0},close:function(){this.showMask=!1},copyLink:function(){var e=this;t.setClipboardData({data:"https://swiftwd.com",success:function(){e.close()}})},getAvatar:function(e){var n=this;return(0,i.default)(o.default.mark((function a(){var r,s;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,n.loadImage(u.globalData.baseUrl,"avatar",e.detail.avatarUrl);case 3:r=a.sent,r&&(s={avatar:r},n.$request("/broker/update-personal-info",s,"POST").then(function(){var e=(0,i.default)(o.default.mark((function e(a){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=a.code){e.next=5;break}return t.showToast({title:"头像更新成功",duration:2e3}),e.next=4,n.getInfo();case 4:n.info=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}}),a)})))()}}};e.default=s}).call(this,n("df3c")["default"])},"510e":function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("c9a7");a(n("3240"));var o=a(n("1108"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},5438:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,"reviewing"==t.info.broker.review_status||"approved"==t.info.broker.review_status?t.baseStatus.filter((function(e){return e.value==t.info.broker.review_status})):null),a=t.baseStatus.filter((function(e){return e.value==t.info.broker.review_status})),o=a[0].btnText?t.baseStatus.filter((function(e){return e.value==t.info.broker.review_status})):null;t.$mp.data=Object.assign({},{$root:{g0:n,g1:a,g2:o}})},o=[]},"99ac":function(t,e,n){"use strict";var a=n("dfd2"),o=n.n(a);o.a},ba47:function(t,e,n){"use strict";n.r(e);var a=n("1e58"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},dfd2:function(t,e,n){}},[["510e","common/runtime","common/vendor"]]]);