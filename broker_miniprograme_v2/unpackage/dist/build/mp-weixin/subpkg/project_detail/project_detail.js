(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/project_detail/project_detail"],{"3a78":function(e,t,a){},"3dea":function(e,t,a){"use strict";(function(e){var o=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a("7eb4")),i=o(a("ee10")),r=o(a("7ca3")),l=o(a("b115")),u=getApp(),s={data:function(){var e;return e={imgUrl:u.globalData.baseImageUrl,poster:{css:{width:""},views:[]},sharePoster:{css:{width:""},views:[]},info:{broker_avatar:"",broker_mobile:"",broker_name:"",content:"",id:"",name:"",status:"",work_address:"",worker_salary:"",worker_welfare:""},currentTab:{value:"employee",text:"工人情况"},showMask:!1,pageName:"灵动优聘",marginTop:u.globalData.marginTop,subTabHeight:u.globalData.subTabHeight,tabMargin:u.globalData.tabMargin,status:!1,showCode:!1},(0,r.default)(e,"status",l.default.status),(0,r.default)(e,"periodList",l.default.periodList),(0,r.default)(e,"paySalaryPeriod",l.default.paySalaryPeriod),(0,r.default)(e,"paySalaryWeekly",l.default.paySalaryWeekly),(0,r.default)(e,"tabs",[{value:"employee",text:"工人情况"},{value:"detail",text:"职位详情"}]),(0,r.default)(e,"displayType","-webkit-box"),(0,r.default)(e,"showAll",!0),(0,r.default)(e,"scrollHeight",0),(0,r.default)(e,"boxTop",0),(0,r.default)(e,"headerHeight",u.globalData.topHeight),(0,r.default)(e,"btnBottom",u.globalData.btnBottom),(0,r.default)(e,"detailTitleHeight",u.globalData.detailTitleHeight),(0,r.default)(e,"currentPage",1),(0,r.default)(e,"contHeight",0),(0,r.default)(e,"scrollPadding",0),(0,r.default)(e,"tabHeight",0),(0,r.default)(e,"id",""),(0,r.default)(e,"employeeInfo",{check_in_num:0,depart_num:0,enroll_num:0,entry_num:0,wait_check_in_num:0}),(0,r.default)(e,"showMask",!1),(0,r.default)(e,"showCommission",!1),(0,r.default)(e,"showHaibao",!1),(0,r.default)(e,"showMethods",!1),(0,r.default)(e,"showShareHaibao",!1),(0,r.default)(e,"commission","0"),(0,r.default)(e,"curShareType",""),(0,r.default)(e,"shareImage",""),(0,r.default)(e,"currentCommission",0),(0,r.default)(e,"marker",[]),e},onShareAppMessage:function(e){var t=this;return(0,i.default)(n.default.mark((function e(){var a,o,i;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="pb_id="+t.info.project_broker_id,e.next=3,t.shareSave();case 3:return i=e.sent,console.log(i,"imageUrl"),a="tob"==t.curShareType?{title:t.info.name,path:"/subpkg/work_detail/work_detail?scene="+encodeURIComponent(o)+"&open_type=tob",imageUrl:i}:{title:t.info.name,path:"/subpkg/work_detail/work_detail?scene="+encodeURIComponent(o)+"&open_type=toc",imageUrl:i},t.close(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))()},components:{customHeader:function(){a.e("components/custom_header").then(function(){return resolve(a("731d"))}.bind(null,a)).catch(a.oe)}},onLoad:function(e){var t=this;return(0,i.default)(n.default.mark((function a(){return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t,t.id=e.id,a.next=4,t.getInfo();case 4:t.info=a.sent,t.marker=[{id:1,latitude:t.info.work_address.location.lat,longitude:t.info.work_address.location.lng,iconPath:t.imgUrl+"/broker/ic_posi_red.png",width:25,height:25}],t.boxTop=t.marginTop+t.subTabHeight+2*t.tabMargin,t.scrollHeight=u.globalData.systemHeight-t.marginTop-1*t.subTabHeight-2*t.tabMargin;case 8:case"end":return a.stop()}}),a)})))()},onShow:function(){this.getEmplyee()},methods:{prevImage:function(){for(var t=[],a=this.info.images.length,o=0;o<a;o++)t.push(this.info.images[o].url);e.previewImage({urls:t})},openAddress:function(){e.openLocation({latitude:this.info.work_address.location.lat,longitude:this.info.work_address.location.lng,scale:18,name:this.info.work_address.address,address:this.info.work_address.address,success:function(){console.log("地图打开成功")},fail:function(e){console.error("地图打开失败",e)}})},changeTab:function(e){this.currentTab.value=e.value,this.currentTab.text=e.text},toDetail:function(t){e.navigateTo({url:"/subpkg/project_worker_detail/project_worker_detail?id="+this.id+"&type="+t})},getEmplyee:function(){var e=this,t="/broker/mini/project/"+this.id+"/worker-count";this.$request(t).then((function(t){0==t.code&&(e.employeeInfo=t.data)}))},getInfo:function(){var e=this,t=this;return new Promise((function(a){var o="/broker/mini/project/"+t.id+"/info";e.$request(o).then((function(e){0==e.code&&a(e.data)}))}))},showTotal:function(){this.displayType="block",this.showAll=!1},lower:function(){},close:function(){this.showCommission=!1,this.showMask=!1,this.showHaibao=!1,this.showShareHaibao=!1}}};t.default=s}).call(this,a("df3c")["default"])},"8d75":function(e,t,a){"use strict";a.r(t);var o=a("3dea"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},cbaa:function(e,t,a){"use strict";a.r(t);var o=a("d1f0"),n=a("8d75");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);a("dae9");var r=a("828b"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"98402a6c",null,!1,o["a"],void 0);t["default"]=l.exports},cf3b:function(e,t,a){"use strict";(function(e,t){var o=a("47a9");a("226a");o(a("3240"));var n=o(a("cbaa"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(n.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},d1f0:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,a=(e._self._c,"detail"==e.currentTab.value?0!=e.info.videos.length||0!=e.info.images.length:null),o="detail"==e.currentTab.value&&a?e.__map(e.info.videos,(function(t,a){var o=e.__get_orig(t),n=e.info.videos.length;return{$orig:o,g1:n}})):null,n="detail"==e.currentTab.value&&a?e.__map(e.info.images,(function(t,a){var o=e.__get_orig(t),n=e.info.images.length;return{$orig:o,g2:n}})):null,i="detail"==e.currentTab.value?e.periodList.filter((function(t){return t.value==e.info.worker_salary_type})):null;e.$mp.data=Object.assign({},{$root:{g0:a,l0:o,l1:n,g3:i}})},n=[]},dae9:function(e,t,a){"use strict";var o=a("3a78"),n=a.n(o);n.a}},[["cf3b","common/runtime","common/vendor"]]]);