(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/add_project/add_project"],{"0bfb":function(e,t,a){"use strict";var n=a("6e6b"),o=a.n(n);o.a},5329:function(e,t,a){"use strict";a.r(t);var n=a("7a07"),o=a("a9fe");for(var r in o)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("0bfb");var i=a("828b"),s=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,"0acfbc9c",null,!1,n["a"],void 0);t["default"]=s.exports},"6e6b":function(e,t,a){},"7a07":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var n={uniDataSelect:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select")]).then(a.bind(null,"de3e"))}},o=function(){var e=this.$createElement,t=(this._self._c,this.projectName.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},r=[]},"9a7f":function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("226a");n(a("3240"));var o=n(a("5329"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(o.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},a9fe:function(e,t,a){"use strict";a.r(t);var n=a("f171"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},f171:function(e,t,a){"use strict";(function(e){var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("1b94")),r=getApp(),i={data:function(){return{canClick:!0,gender:[{value:"male",text:"男"},{value:"female",text:"女"},{value:"both",text:"不限"}],currentGender:0,minAge:"",maxAge:"",imgUrl:r.globalData.baseImageUrl,pageName:"发布职位",currentMainTab:0,scrollHeight:0,boxTop:0,boxHeight:0,showActive:!1,projectName:"",minSalary:"",maxSalary:"",typeValue:"month",typeRange:[{value:"month",text:"元/月"}],address:"",addressObj:{province:"",city:"",district:"",address:"",location:{lat:124,lng:123}},content:"",subTabHeight:r.globalData.subTabHeight,tabMargin:r.globalData.tabMargin,headerHeight:r.globalData.topHeight,marginTop:r.globalData.marginTop,btnBottom:r.globalData.btnBottom,wrapHeight:0,baseBotHeight:0,showModal:!1,modelData:{},backId:"",salaryList:[{value:"monthly",text:"按月",children:[{value:"1",text:"3000以下"},{value:"2",text:"3000元~5000元"},{value:"3",text:"5000元~6000元"},{value:"4",text:"6000元~7000元"},{value:"5",text:"7000元~8000元"},{value:"6",text:"8000元~9000元"},{value:"7",text:"9000元~10000元"},{value:"8",text:"10000元以上"}]},{value:"daily",text:"按日",children:[{value:"9",text:"100以下"},{value:"10",text:"100元~200元"},{value:"11",text:"200元~300元"},{value:"12",text:"300元~400元"},{value:"13",text:"400元以上"}]},{value:"hour",text:"按时",children:[{value:"14",text:"10以下"},{value:"15",text:"10元~20元"},{value:"16",text:"20元~30元"},{value:"17",text:"30元~40元"},{value:"18",text:"40元~50元"},{value:"19",text:"50元以上"}]}]}},components:{tabbar:function(){a.e("components/tabbar").then(function(){return resolve(a("14ab"))}.bind(null,a)).catch(a.oe)},customHeader:function(){a.e("components/custom_header").then(function(){return resolve(a("731d"))}.bind(null,a)).catch(a.oe)}},onLoad:function(){var e=this;this.boxTop=this.marginTop+this.tabMargin,this.boxHeight=r.globalData.systemHeight-this.marginTop-this.tabMargin-this.btnBottom,this.wrapHeight=this.boxHeight-this.subTabHeight-this.btnBottom,setTimeout((function(){e.getElementInfo()}),500)},methods:{genderChange:function(e){for(var t=0;t<this.gender.length;t++)this.gender[t].value==e.detail.value&&(this.currentGender=t)},typeChange:function(e){},reverseGeocodingClick:function(t,a){var n=new o.default({key:r.globalData.qqMapKey}),i=this;n.reverseGeocoder({location:{latitude:t,longitude:a},success:function(e){i.address=e.result.formatted_addresses.standard_address,i.addressObj.province=e.result.address_component.province,i.addressObj.city=e.result.address_component.city,i.addressObj.district=e.result.address_component.district,i.addressObj.location=e.result.location,i.addressObj.address=e.result.formatted_addresses.standard_address,console.log(i.addressObj)},fail:function(t){e.showModal({title:t.message,showCancel:!1})},complete:function(e){console.log(e)}})},openAddress:function(){var t=this;e.chooseLocation({success:function(e){console.log(e,"res"),t.reverseGeocodingClick(e.latitude,e.longitude)},fail:function(t){e.showModal({title:t.errMsg,showCancel:!1}),console.error("地图打开失败",t)}})},onchange:function(e){console.log(e,"onchange")},onnodeclick:function(e){console.log(e,"onnodeclick")},cancel:function(){this.showTag=!1},tagChoose:function(e){this.currentTagType=e,"welfare"==e&&(this.tagTitle="工作福利",this.currentSelected=this.welfareArr,this.currentSeleIds=this.welIds),"work_info"==e&&(this.tagTitle="工作环境",this.currentSelected=this.workArr,this.currentSeleIds=this.workIds),this.showTag=!0},handleTagConfirm:function(e){console.log(e);for(var t="",a=e.objarr.length,n=0;n<a;n++)t+=e.objarr[n].name+"、";"welfare"==this.currentTagType&&(this.welfareArr=e.objarr,this.welIds=e.ids,this.welfare=t.slice(0,t.length-1)),"work_info"==this.currentTagType&&(this.workArr=e.objarr,this.workIds=e.ids,this.work_info=t.slice(0,t.length-1)),this.showTag=!1},getElementInfo:function(){var t=this,a=(e.getSystemInfoSync(),e.createSelectorQuery().select(".base_top"));a.boundingClientRect((function(e){e&&(console.log(e),t.baseBotHeight=t.wrapHeight-e.height)})).exec()},navigate:function(t){e.navigateTo({url:t})},notSet:function(){e.navigateBack()},confirmSet:function(){var t=this;if(this.canClick)if(this.projectName&&this.minAge&&this.maxAge&&this.typeValue&&this.minSalary&&this.maxSalary&&this.addressObj.address&&this.content){var a={name:this.projectName,worker_age_min:Number(this.minAge),worker_age_max:Number(this.maxAge),worker_gender:this.gender[this.currentGender].value,worker_salary_type:this.typeValue,worker_salary_min:Number(this.minSalary),worker_salary_max:Number(this.maxSalary),work_address:this.addressObj,content:this.content};console.log(a),this.$request("/broker/mini/projects",a,"POST").then((function(a){0==a.code&&(t.canClick=!1,t.backId=a.data.id,e.redirectTo({url:"/subpkg/addmore_project_info/addmore_project_info?id="+a.data.id}))}))}else e.showToast({title:"未填写完整",icon:"error",duration:2e3});else e.showToast({title:"请勿重复点击",icon:"error",duration:200})}}};t.default=i}).call(this,a("df3c")["default"])}},[["9a7f","common/runtime","common/vendor"]]]);