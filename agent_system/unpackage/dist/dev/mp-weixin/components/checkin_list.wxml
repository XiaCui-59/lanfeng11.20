<view class="board"><view class="box"><view class="title">考勤列表</view><search-box vue-id="13e6b38a-1" showRange="{{true}}" timeStr="{{timeStr}}" showCheckin="{{true}}" showProject="{{true}}" data-event-opts="{{[['^handleSearch',[['handleSearch']]]]}}" bind:handleSearch="__e" bind:__l="__l"></search-box><view class="table_wrap"><view class="tabs flex flex_start"><block wx:for="{{tabs}}" wx:for-item="item" wx:for-index="index"><view data-event-opts="{{[['tap',[['changeTab',['$0'],[[['tabs','',index]]]]]]]}}" class="{{['tab',currentTab.value==item.value?'active':'']}}" bindtap="__e">{{item.text+''}}</view></block></view><block wx:if="{{currentTab.value=='waiting-confirm'}}"><view class="btns flex flex_end"><view data-event-opts="{{[['tap',[['merge',['$event']]]]]}}" class="btn" bindtap="__e">生成账单</view><view data-event-opts="{{[['tap',[['invalid',['']]]]]}}" class="btn" bindtap="__e">批量作废</view></view></block><uni-table vue-id="13e6b38a-2" border="{{true}}" stripe="{{true}}" emptyText="暂无更多数据" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr style="background:#f6f6f6;" vue-id="{{('13e6b38a-3')+','+('13e6b38a-2')}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{currentTab.value=='waiting-confirm'}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-4')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex flex_around"><image style="width:18px;height:18px;margin-right:5px;" src="{{seleAll?'/static/selected.png':'/static/unselect.png'}}" mode="widthFix" data-event-opts="{{[['tap',[['checkAll',['$event']]]]]}}" bindtap="__e"></image><text>全选</text></view></uni-th></block><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-5')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">考勤编号</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-6')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">考勤名称</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-7')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">项目编号</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-8')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">项目名称</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-9')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">项目经理</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-10')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">考勤人数</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-11')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">状态</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-12')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">上传时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-13')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-14')+','+('13e6b38a-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('13e6b38a-15-'+index)+','+('13e6b38a-2')}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{currentTab.value=='waiting-confirm'}}"><uni-td vue-id="{{('13e6b38a-16-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.status!='signing_expired'&&item.$orig.status!='rejected'}}"><image style="width:18px;height:18px;margin-right:5px;" src="{{item.g0?'/static/selected.png':'/static/unselect.png'}}" mode="widthFix" data-event-opts="{{[['tap',[['addToList',['$0'],[[['list','',index]]]]]]]}}" bindtap="__e"></image></block></uni-td></block><uni-td vue-id="{{('13e6b38a-17-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.code}}</uni-td><uni-td vue-id="{{('13e6b38a-18-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.record_name}}</uni-td><uni-td vue-id="{{('13e6b38a-19-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.project_code}}</uni-td><uni-td vue-id="{{('13e6b38a-20-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.project_name}}</uni-td><uni-td vue-id="{{('13e6b38a-21-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.broker_name}}</uni-td><uni-td vue-id="{{('13e6b38a-22-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.worker_count}}</uni-td><uni-td vue-id="{{('13e6b38a-23-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="status">{{item.g1[0].text+''}}</view></uni-td><uni-td vue-id="{{('13e6b38a-24-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.create_time}}</uni-td><uni-td vue-id="{{('13e6b38a-25-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.update_time}}</uni-td><uni-td style="padding:8px 0px;" vue-id="{{('13e6b38a-26-'+index)+','+('13e6b38a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="ope flex flex_around"><view data-event-opts="{{[['tap',[['viewRecord',['$0'],[[['list','',index]]]]]]]}}" class="ope_item" bindtap="__e">查看数据</view><block wx:if="{{item.$orig.status=='waiting_confirm'}}"><view data-event-opts="{{[['tap',[['invalid',['$0'],[[['list','',index]]]]]]]}}" class="ope_item" bindtap="__e">作废</view></block></view></uni-td></uni-tr></block></uni-table><page-box vue-id="13e6b38a-27" page="{{pagination}}" data-event-opts="{{[['^toNext',[['toNext']]]]}}" bind:toNext="__e" bind:__l="__l"></page-box></view></view><block wx:if="{{showMask}}"><view class="mask"><block wx:if="{{showFirst}}"><view class="inner"><view class="title">{{"考勤详情("+curCheckinDetail.record.record_name+')'}}<text data-event-opts="{{[['tap',[['downLoad',['$0'],['curCheckinDetail.record.original_data_file']]]]]}}" class="download" style="cursor:pointer;" bindtap="__e">下载原始考勤表</text></view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image src="/static/close_white.png" mode="widthFix"></image></view><view class="box"><view class="table_wrap"><uni-table style="height:500px;" vue-id="13e6b38a-28" border="{{true}}" stripe="{{true}}" emptyText="暂无更多数据" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr style="background:#f6f6f6;" vue-id="{{('13e6b38a-29')+','+('13e6b38a-28')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-30')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">项目名称</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-31')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">工人姓名</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-32')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">身份证号码</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-33')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">手机号</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-34')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">考勤方式</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-35')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">工作时长</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-36')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">开始时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-37')+','+('13e6b38a-29')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">结束时间</uni-th></uni-tr><block wx:for="{{curCheckinDetail.list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('13e6b38a-38-'+index)+','+('13e6b38a-28')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('13e6b38a-39-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.project_name}}</uni-td><uni-td vue-id="{{('13e6b38a-40-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_name}}</uni-td><uni-td vue-id="{{('13e6b38a-41-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_id_card_number}}</uni-td><uni-td vue-id="{{('13e6b38a-42-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_mobile}}</uni-td><uni-td vue-id="{{('13e6b38a-43-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.working_type}}</uni-td><uni-td vue-id="{{('13e6b38a-44-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.working_time}}</uni-td><uni-td vue-id="{{('13e6b38a-45-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.start_time}}</uni-td><uni-td vue-id="{{('13e6b38a-46-'+index)+','+('13e6b38a-38-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.end_time}}</uni-td></uni-tr></block></uni-table></view></view></view></block><block wx:if="{{showSecond}}"><view class="inner"><view class="title">考勤合并</view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image src="/static/close_white.png" mode="widthFix"></image></view><view class="box"><view class="table_wrap"><block wx:if="{{currentTab.value=='waiting-confirm'}}"><view class="btns flex flex_end"><view data-event-opts="{{[['tap',[['confirm',['$event']]]]]}}" class="btn" bindtap="__e">确认生成账单</view></view></block><uni-table style="height:500px;" vue-id="13e6b38a-47" border="{{true}}" stripe="{{true}}" emptyText="暂无更多数据" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr style="background:#f6f6f6;" vue-id="{{('13e6b38a-48')+','+('13e6b38a-47')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-49')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">项目名称</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-50')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">工人姓名</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-51')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">身份证号码</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-52')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">手机号</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-53')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">考勤方式</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-54')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">工作时长</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-55')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">开始时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('13e6b38a-56')+','+('13e6b38a-48')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">结束时间</uni-th></uni-tr><block wx:for="{{mergeList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('13e6b38a-57-'+index)+','+('13e6b38a-47')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('13e6b38a-58-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.project_name}}</uni-td><uni-td vue-id="{{('13e6b38a-59-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_name}}</uni-td><uni-td vue-id="{{('13e6b38a-60-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_id_card_number}}</uni-td><uni-td vue-id="{{('13e6b38a-61-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_mobile}}</uni-td><uni-td vue-id="{{('13e6b38a-62-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.working_type}}</uni-td><uni-td vue-id="{{('13e6b38a-63-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.working_time}}</uni-td><uni-td vue-id="{{('13e6b38a-64-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.start_time}}</uni-td><uni-td vue-id="{{('13e6b38a-65-'+index)+','+('13e6b38a-57-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.end_time}}</uni-td></uni-tr></block></uni-table></view></view></view></block></view></block></view>