<view class="board"><view class="box"><view class="title">报名记录</view><search-box vue-id="0ee3005e-1" showRange="{{true}}" showProject="{{true}}" showEmployee="{{true}}" timeStr="{{timeStr}}" showOut="{{true}}" data-event-opts="{{[['^handleSearch',[['handleSearch']]],['^putout',[['handlePutout']]]]}}" bind:handleSearch="__e" bind:putout="__e" bind:__l="__l"></search-box><view class="table_wrap"><view class="tabs flex flex_start"><block wx:for="{{tabs}}" wx:for-item="item" wx:for-index="index"><view data-event-opts="{{[['tap',[['changeTab',['$0'],[[['tabs','',index]]]]]]]}}" class="{{['tab',currentTab.value==item.value?'active':'']}}" bindtap="__e">{{item.text+"（"+item.count+"）"}}</view></block><view class="{{['sele_area',ifSele?'tab active':'']}}"><uni-data-select vue-id="0ee3005e-2" localdata="{{seleTabs}}" clear="{{false}}" value="{{statusValue}}" data-event-opts="{{[['^change',[['statusChange']]],['^input',[['__set_model',['','statusValue','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-data-select></view></view><uni-table vue-id="0ee3005e-3" border="{{true}}" stripe="{{true}}" emptyText="暂无更多数据" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr style="background:#f6f6f6;" vue-id="{{('0ee3005e-4')+','+('0ee3005e-3')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-5')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">工人姓名</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-6')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">手机号</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-7')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">基本信息</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-8')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">报名项目</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-9')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">状态</uni-th><block wx:if="{{currentTab.value!='entry'&&currentTab.value!='depart'}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-10')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">报名时间</uni-th></block><block wx:if="{{currentTab.value=='depart'||currentTab.value=='entry'}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-11')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">入职时间</uni-th></block><block wx:if="{{currentTab.value=='depart'}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-12')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">离职时间</uni-th></block><block wx:if="{{currentTab.value!='wait_check_in'}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-13')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作时间</uni-th></block><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-14')+','+('0ee3005e-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('0ee3005e-15-'+index)+','+('0ee3005e-3')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('0ee3005e-16-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['showWorkerDetail',['$0'],[[['list','',index]]]]]]]}}" style="cursor:pointer;color:#1E8EEE;" bindtap="__e">{{''+item.$orig.worker_name+''}}</view></uni-td><uni-td vue-id="{{('0ee3005e-17-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.worker_mobile}}</uni-td><uni-td vue-id="{{('0ee3005e-18-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{(item.$orig.worker_gender=="male"?"男":item.$orig.worker_gender=="female"?"女":"")+"\n\t\t\t\t\t\t"+((item.$orig.worker_age?" / "+item.$orig.worker_age:"")+(item.$orig.worker_nation?" / "+item.$orig.worker_nation:""))}}</uni-td><uni-td vue-id="{{('0ee3005e-19-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.project_name}}</uni-td><uni-td vue-id="{{('0ee3005e-20-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="status">{{item.g0[0].text+''}}</view></uni-td><block wx:if="{{currentTab.value!='entry'&&currentTab.value!='depart'}}"><uni-td vue-id="{{('0ee3005e-21-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.create_time}}</uni-td></block><block wx:if="{{currentTab.value=='depart'||currentTab.value=='entry'}}"><uni-td vue-id="{{('0ee3005e-22-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.entry_time}}</uni-td></block><block wx:if="{{currentTab.value=='depart'}}"><uni-td vue-id="{{('0ee3005e-23-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.depart_time}}</uni-td></block><block wx:if="{{currentTab.value!='wait_check_in'}}"><uni-td vue-id="{{('0ee3005e-24-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.update_time}}</uni-td></block><uni-td style="padding:8px 0px;" vue-id="{{('0ee3005e-25-'+index)+','+('0ee3005e-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="ope flex flex_around"><block wx:if="{{item.$orig.status=='wait_check_in'}}"><view data-event-opts="{{[['tap',[['openCheckin',['$0',true],[[['list','',index]]]]]]]}}" class="ope_item checkin" bindtap="__e"><image src="/static/ic_btn_checkin.png" mode="heightFix"></image>候选通过</view></block><block wx:if="{{item.$orig.status=='wait_check_in'}}"><view data-event-opts="{{[['tap',[['batchCheckin',['$0',false],[[['list','',index]]]]]]]}}" class="ope_item nocheckin" bindtap="__e"><image src="/static/ic_btn_nocheckin.png" mode="heightFix"></image>候选拒绝</view></block><block wx:if="{{item.$orig.status=='check_in'}}"><view data-event-opts="{{[['tap',[['batchSign',['$0',true],[[['list','',index]]]]]]]}}" class="ope_item sign" bindtap="__e"><image src="/static/ic_btn_sign.png" mode="heightFix"></image>面试通过</view></block><block wx:if="{{item.$orig.status=='check_in'}}"><view data-event-opts="{{[['tap',[['batchSign',['$0',false],[[['list','',index]]]]]]]}}" class="ope_item nosign" bindtap="__e"><image src="/static/ic_btn_nosign.png" mode="heightFix"></image>面试拒绝</view></block><block wx:if="{{item.$orig.status=='wait_entry'}}"><view data-event-opts="{{[['tap',[['batchEntry',['$0',true],[[['list','',index]]]]]]]}}" class="ope_item sign" bindtap="__e"><image src="/static/ic_btn_sign.png" mode="heightFix"></image>确认入职</view></block><block wx:if="{{item.$orig.status=='wait_entry'}}"><view data-event-opts="{{[['tap',[['batchEntry',['$0',false],[[['list','',index]]]]]]]}}" class="ope_item nosign" bindtap="__e"><image src="/static/ic_btn_nosign.png" mode="heightFix"></image>未入职</view></block><view data-event-opts="{{[['tap',[['openFollow',['$0'],[[['list','',index]]]]]]]}}" class="ope_item write" bindtap="__e"><image src="/static/ic_btn_write.png" mode="heightFix"></image>写跟进</view></view></uni-td></uni-tr></block></uni-table><page-box vue-id="0ee3005e-26" page="{{pagination}}" data-event-opts="{{[['^toNext',[['toNext']]]]}}" bind:toNext="__e" bind:__l="__l"></page-box></view></view><block wx:if="{{showMask}}"><view class="mask"><block wx:if="{{showFirst}}"><view class="inner"><view class="title" style="margin-bottom:10px;">办理离职</view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image src="/static/close_white.png" mode="widthFix"></image></view><view class="box" style="padding:0 30px;"><view class="table_wrap"><uni-table vue-id="0ee3005e-27" border="{{true}}" stripe="{{true}}" emptyText="暂无更多数据" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr style="background:#f6f6f6;" vue-id="{{('0ee3005e-28')+','+('0ee3005e-27')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-29')+','+('0ee3005e-28')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">工人姓名</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-30')+','+('0ee3005e-28')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">手机号</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-31')+','+('0ee3005e-28')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">性别</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-32')+','+('0ee3005e-28')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">年龄</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-33')+','+('0ee3005e-28')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">入职时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-34')+','+('0ee3005e-28')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{waitDepartList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('0ee3005e-35-'+index)+','+('0ee3005e-27')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('0ee3005e-36-'+index)+','+('0ee3005e-35-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_name}}</uni-td><uni-td vue-id="{{('0ee3005e-37-'+index)+','+('0ee3005e-35-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_mobile}}</uni-td><uni-td vue-id="{{('0ee3005e-38-'+index)+','+('0ee3005e-35-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.worker_gender=="male"?"男":item.worker_gender=="female"?"女":"未知"}}</uni-td><uni-td vue-id="{{('0ee3005e-39-'+index)+','+('0ee3005e-35-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{!item.worker_age?"无":item.worker_age}}</uni-td><uni-td vue-id="{{('0ee3005e-40-'+index)+','+('0ee3005e-35-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.entry_time}}</uni-td><uni-td style="padding:8px 0px;" vue-id="{{('0ee3005e-41-'+index)+','+('0ee3005e-35-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="ope flex flex_start"><view data-event-opts="{{[['tap',[['deleteData',['$0'],[[['waitDepartList','',index,'id']]]]]]]}}" class="ope_item" bindtap="__e">移除</view></view></uni-td></uni-tr></block></uni-table><view data-event-opts="{{[['tap',[['sureDepart',['$event']]]]]}}" class="btn" style="width:200px;float:right;margin-top:15px;" bindtap="__e">提交离职办理申请</view></view></view></view></block><block wx:if="{{showThird}}"><view class="inner"><view class="title" style="margin-bottom:0;">工人详情</view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image src="/static/close_white.png" mode="widthFix"></image></view><view class="box" style="padding:0 30px;"><view class="base"><view class="out_line flex flex_start"><view class="line flex flex_start"><view class="tit">工人姓名：</view><view class="text">{{currentWorkerInfo.worker_name}}</view></view><view class="line flex flex-start"><view class="tit">工人性别：</view><view class="text">{{''+(currentWorkerInfo.worker_gender=="male"?"男":currentWorkerInfo.worker_gender=="female"?"女":"未知")+''}}</view></view></view><view class="out_line flex flex_start"><view class="line flex flex-start"><view class="tit">工人年龄：</view><view class="text">{{''+(!currentWorkerInfo.worker_age?"无":currentWorkerInfo.worker_age+"岁")+''}}</view></view><view class="line flex flex-start"><view class="tit">手机号码：</view><view class="text">{{currentWorkerInfo.worker_mobile}}</view></view></view></view><view class="tabs flex flex_start"><view data-event-opts="{{[['tap',[['changeSubTab',[0]]]]]}}" class="{{['tab',currentSubTab==0?'active':'']}}" bindtap="__e">履职记录</view><view data-event-opts="{{[['tap',[['changeSubTab',[1]]]]]}}" class="{{['tab',currentSubTab==1?'active':'']}}" bindtap="__e">跟进记录</view></view><block wx:if="{{currentSubTab==0}}"><view class="table_wrap"><uni-table vue-id="0ee3005e-42" border="{{true}}" stripe="{{true}}" emptyText="暂无更多数据" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr style="background:#f6f6f6;" vue-id="{{('0ee3005e-43')+','+('0ee3005e-42')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-44')+','+('0ee3005e-43')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">项目名称</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-45')+','+('0ee3005e-43')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">报名时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-46')+','+('0ee3005e-43')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">入职时间</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-47')+','+('0ee3005e-43')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">服务地址</uni-th><uni-th style="font-size:14px;font-weight:600;color:#333;" vue-id="{{('0ee3005e-48')+','+('0ee3005e-43')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">状态</uni-th></uni-tr><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('0ee3005e-49-'+index)+','+('0ee3005e-42')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('0ee3005e-50-'+index)+','+('0ee3005e-49-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.name}}</uni-td><uni-td vue-id="{{('0ee3005e-51-'+index)+','+('0ee3005e-49-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.create_time}}</uni-td><uni-td vue-id="{{('0ee3005e-52-'+index)+','+('0ee3005e-49-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.entry_time}}</uni-td><uni-td vue-id="{{('0ee3005e-53-'+index)+','+('0ee3005e-49-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.work_address}}</uni-td><uni-td vue-id="{{('0ee3005e-54-'+index)+','+('0ee3005e-49-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="status">{{''+item.g1[0].text+''}}</view></uni-td></uni-tr></block></uni-table></view></block><block wx:if="{{currentSubTab==1}}"><view class="follow"><view class="add_follow flex flex-start"><input type="text" placeholder="填写当前状态跟进记录" data-event-opts="{{[['input',[['__set_model',['','followText2','$event',[]]]]]]}}" value="{{followText2}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['addFollow',['$event']]]]]}}" class="btn" bindtap="__e">添加</view></view><block wx:if="{{$root.g2}}"><view class="follow_record"><block wx:for="{{$root.l2}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="follow_item"><view class="follow_cont">{{item.$orig.remark}}</view><view class="follow_time flex flex-start"><view class="time">{{item.$orig.create_time}}</view><view class="status">{{''+item.g3[0].text+''}}</view></view></view></block></view></block><block wx:if="{{!$root.g4}}"><view class="empty" style="margin-top:15px;color:#0092ff;">暂无跟进记录</view></block></view></block></view></view></block><block wx:if="{{showFour}}"><view class="inner" style="width:50%;"><view class="title" style="margin-bottom:0;">{{"添加跟进记录（"+currentWorkerInfo.worker_name+"）"}}</view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image src="/static/close_white.png" mode="widthFix"></image></view><view class="box" style="padding:30px 30px 0 30px;"><view class="line flex flex-start" style="padding-left:0;"><view class="tit" style="margin-right:15px;width:70px;">选择状态</view><view class="labels flex flex-start"><block wx:for="{{$root.l3}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['checkFollowStatus',['$0'],[[['followStatus','',index]]]]]]]}}" class="{{['label',curFollowStatus.id==item.$orig.id?'active':'']}}" bindtap="__e">{{''+item.g5[0].text+''}}</view></block></view></view><view class="text_area"><textarea placeholder="请输入跟进记录" data-event-opts="{{[['input',[['__set_model',['','followText','$event',[]]]]]]}}" value="{{followText}}" bindinput="__e"></textarea></view><view class="btns flex flex_end"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="btn cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['saveFollow',['$event']]]]]}}" class="btn save" bindtap="__e">保存</view></view></view></view></block><block wx:if="{{showFive}}"><view class="inner" style="width:50%;"><view class="title" style="margin-bottom:0;">候选通过</view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image src="/static/close_white.png" mode="widthFix"></image></view><view class="box" style="padding:30px 30px 0 30px;"><view class="line flex flex-start" style="padding-left:0;margin-bottom:15px;"><view class="tit" style="margin-right:15px;">公司名称</view><view class="text" style="margin-right:15px;">{{currentCheckinDetail.company_name+''}}</view></view><view class="line flex flex-start" style="padding-left:0;margin-bottom:15px;"><view class="tit" style="margin-right:15px;">当前账户</view><view class="text" style="margin-right:15px;">{{currentCheckinDetail.broker_name+''}}</view></view><view class="line flex flex-start" style="padding-left:0;margin-bottom:15px;"><view class="tit" style="margin-right:15px;">账户余额</view><view class="text" style="margin-right:15px;">{{currentCheckinDetail.amount}}<text class="period">元</text></view><block wx:if="{{$root.m0>$root.m1}}"><view data-event-opts="{{[['tap',[['navigate',[['o',['pageName','choose_pay']]]]]]]}}" class="text" style="color:#f00;cursor:pointer;" bindtap="__e">余额不足，请点此充值</view></block></view><view class="line flex flex-start" style="padding-left:0;margin-bottom:15px;"><view class="tit" style="margin-right:15px;">通过人数</view><view class="text" style="margin-right:15px;">{{currentCheckinDetail.count}}</view></view><view class="line flex flex-start" style="padding-left:0;"><view class="tit" style="margin-right:15px;">费用总计</view><view class="text" style="margin-right:15px;">{{currentCheckinDetail.cost+''}}<text class="period">元</text></view></view><view class="btns flex flex_end"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="btn cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['sureGet',['$event']]]]]}}" class="btn save" bindtap="__e">确认</view></view></view></view></block></view></block></view>