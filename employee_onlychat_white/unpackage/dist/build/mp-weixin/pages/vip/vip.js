(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/vip/vip"],{"313f":function(e,n,t){"use strict";var i=t("cd85"),r=t.n(i);r.a},"6d42":function(e,n,t){"use strict";(function(e,n){var i=t("47a9");t("2ed8");i(t("3240"));var r=i(t("9438"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},9438:function(e,n,t){"use strict";t.r(n);var i=t("d285"),r=t("f927");for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(o);t("313f");var a=t("828b"),u=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=u.exports},"97a0":function(e,n,t){"use strict";(function(e){var i=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(t("7eb4")),o=i(t("ee10")),a=getApp(),u={data:function(){return{showLogin:!1,shareId:"",ifSingle:1154==a.globalData.scene,fromSingle:1155==a.globalData.scene,userInfo:{is_vip:!1},imgUrl:a.globalData.baseImageUrl,marginTop:a.globalData.marginTop,tabMargin:a.globalData.tabMargin,menu:[{icon:a.globalData.baseImageUrl+"/worker/vip_ic_4_white.png",title:"预定工作",url:"/pages/mine/mine"},{icon:a.globalData.baseImageUrl+"/worker/vip_ic_3_white.png",title:"优先匹配",url:"/pages/mine/mine"},{icon:a.globalData.baseImageUrl+"/worker/vip_ic_1_white.png",title:"工作分析",url:"/pages/mine/mine"},{icon:a.globalData.baseImageUrl+"/worker/vip_ic_2_white.png",title:"行业分析",url:"/pages/mine/mine"}]}},components:{login:function(){t.e("components/login").then(function(){return resolve(t("511f"))}.bind(null,t)).catch(t.oe)}},onLoad:function(n){if(e.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ff0000"}),this.shareId=n.share_id?n.share_id:"",!this.ifSingle)return this.fromSingle?(a.globalData.scene=0,void e.redirectTo({url:"/pages/index/index?share_id="+this.shareId})):void(this.isLogin()&&this.getInfo())},methods:{buyVip:function(){var n=this;return(0,o.default)(r.default.mark((function t(){var i,o,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.isLogin()){t.next=3;break}return n.showLogin=!0,t.abrupt("return");case 3:return i=n,t.next=6,n.getOrderId();case 6:return o=t.sent,t.next=9,n.getOrderParams(o);case 9:a=t.sent,e.requestPayment({appId:a.appId,timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign,success:function(){e.showModal({title:"支付成功",showCancel:!1,success:function(e){e.confirm&&i.getInfo()}})},fail:function(n){console.log(n,"err"),e.showToast({title:"支付已取消",icon:"error",duration:2e3})}});case 11:case"end":return t.stop()}}),t)})))()},closeLogin:function(){this.showLogin=!1},getOrderId:function(){var e=this;return new Promise((function(n){e.$request("/worker/vip-order",{},"POST").then((function(e){0==e.code&&n(e.data.order_id)}))}))},getOrderParams:function(e){var n=this;return new Promise((function(t){var i="/worker/order/"+e+"/pay";n.$request(i,{},"POST").then((function(e){0==e.code&&t(e.data.wechat_mini_program)}))}))},getInfo:function(){var n=this;this.$request("/worker/profile").then((function(t){0==t.code&&(e.setStorageSync("userInfo",JSON.stringify(t.data)),n.userInfo=t.data)}))}}};n.default=u}).call(this,t("df3c")["default"])},cd85:function(e,n,t){},d285:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"7689"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"a30c"))},uGrid:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid/u-grid")]).then(t.bind(null,"7035"))},uGridItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid-item/u-grid-item")]).then(t.bind(null,"d7d2"))}},r=function(){var e=this.$createElement;this._self._c},o=[]},f927:function(e,n,t){"use strict";t.r(n);var i=t("97a0"),r=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=r.a}},[["6d42","common/runtime","common/vendor"]]]);