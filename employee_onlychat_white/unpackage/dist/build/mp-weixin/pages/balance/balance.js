(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/balance/balance"],{2922:function(e,t,n){},"2dae":function(e,t,n){"use strict";(function(e){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("7eb4")),o=a(n("ee10")),r=getApp(),c={data:function(){return{ifSingle:1154==r.globalData.scene,showMask:!1,amount:"",name:"",imgUrl:r.globalData.baseImageUrl,marginTop:r.globalData.marginTop,tabMargin:r.globalData.tabMargin,scrollHeight:0,list2:[{description:"邀请奖励",create_time:"2024.05.06",change_amount:"9",direction:"income"},{description:"邀请奖励",create_time:"2024.05.08",change_amount:"9",direction:"income"},{description:"余额提现",create_time:"2024.05.09",change_amount:"10",direction:"income"},{description:"邀请奖励",create_time:"2024.05.16",change_amount:"9"},{description:"邀请奖励",create_time:"2024.05.08",change_amount:"9"},{description:"余额提现",create_time:"2024.05.09",change_amount:"-10"},{description:"邀请奖励",create_time:"2024.05.16",change_amount:"9"},{description:"邀请奖励",create_time:"2024.05.08",change_amount:"9"},{description:"余额提现",create_time:"2024.05.09",change_amount:"-10"},{description:"邀请奖励",create_time:"2024.05.16",change_amount:"9"},{description:"邀请奖励",create_time:"2024.05.16",change_amount:"9"},{description:"邀请奖励",create_time:"2024.05.08",change_amount:"9"},{description:"余额提现",create_time:"2024.05.09",change_amount:"-10"},{description:"邀请奖励",create_time:"2024.05.16",change_amount:"9"}],list:[],balance:{total_amount:"0",available_amount:"0",frozen_amount:"0"},currentPage:1,pagination:{}}},onLoad:function(){var t=this;return(0,o.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ff0000"}),e.hideShareMenu(),!t.ifSingle){n.next=4;break}return n.abrupt("return");case 4:if(!t.isLogin()){n.next=12;break}return n.next=7,t.getElementInfo();case 7:a=n.sent,console.log("data",a),a&&(t.scrollHeight=r.globalData.systemHeight-a.bottom-60),n.next=13;break;case 12:e.reLaunch({url:"/pages/index/index"});case 13:t.getList();case 14:case"end":return n.stop()}}),n)})))()},methods:{getElementInfo:function(){return new Promise((function(t){var n=e.createSelectorQuery().select(".top");n.boundingClientRect((function(e){t(e)})).exec()}))},getList:function(){var e=this,t="/worker/balance-changes?page="+this.currentPage+"&page_size=15";this.$request(t).then((function(t){0==t.code&&(e.list=e.list.concat(t.data.list),e.pagination=t.data.pagination,e.balance=t.data.balance)}))},scrolltolower:function(){this.currentPage<this.pagination.pageCount?(this.currentPage++,this.getList()):e.showToast({title:"到底啦~",icon:"none",duration:2e3})},open:function(){Number(this.balance.available_amount)>=10?this.showMask=!0:e.showModal({title:"可用余额≥10元，才可提现。",showCancel:!1,confirmText:"知道了"})},close:function(){this.showMask=!1},toRecord:function(){e.navigateTo({url:"/pages/tx_record/tx_record"})},confirm:function(){var t=this,n={money:this.amount,type:"wechat",real_name:this.name};this.amount?Number(this.amount)<1?e.showToast({title:"提现金额不能少于1元",icon:"error",duration:2e3}):Number(this.amount)>500?e.showToast({title:"提现金额不能大于500元",icon:"error",duration:2e3}):this.name?this.$request("/worker/withdraw",n,"POST").then((function(n){0==n.code&&(e.showModal({title:"余额提现已申请， 将在24小时内到账微信零钱。",showCancel:!1,confirmText:"知道了"}),t.close())})):e.showToast({title:"未填写真实姓名",icon:"error",duration:2e3}):e.showToast({title:"请输入提现金额",icon:"error",duration:2e3})}}};t.default=c}).call(this,n("df3c")["default"])},"518f":function(e,t,n){"use strict";n.r(t);var a=n("bc54"),i=n("dc44");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("fb8b");var r=n("828b"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=c.exports},"8ac1":function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("2ed8");a(n("3240"));var i=a(n("518f"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},bc54:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,"7689"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a30c"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.ifSingle?null:e.__map(e.list,(function(t,n){var a=e.__get_orig(t),i=e.list.length;return{$orig:a,g0:i}}))),a=e.ifSingle?null:e.list.length;e.$mp.data=Object.assign({},{$root:{l0:n,g1:a}})},o=[]},dc44:function(e,t,n){"use strict";n.r(t);var a=n("2dae"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},fb8b:function(e,t,n){"use strict";var a=n("2922"),i=n.n(a);i.a}},[["8ac1","common/runtime","common/vendor"]]]);