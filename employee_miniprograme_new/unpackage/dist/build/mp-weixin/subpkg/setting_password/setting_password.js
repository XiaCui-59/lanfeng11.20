(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/setting_password/setting_password"],{"6a96":function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},i=[]},"9e14":function(t,e,o){},a37a:function(t,e,o){"use strict";o.r(e);var n=o("aae6"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},aa25:function(t,e,o){"use strict";o.r(e);var n=o("6a96"),i=o("a37a");for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("d28a");var s=o("828b"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"0685c41c",null,!1,n["a"],void 0);e["default"]=r.exports},aae6:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=getApp(),i={data:function(){return{imgUrl:n.globalData.baseImageUrl,pageName:"设置密码",marginTop:0,currentMainTab:0,scrollHeight:0,boxTop:0,headerHeight:0,oldPassword:"",newPassword:"",veriPassword:"",showActive:!1,hasOldPassword:!1}},components:{tabbar:function(){Promise.all([o.e("common/vendor"),o.e("components/tabbar")]).then(function(){return resolve(o("0183"))}.bind(null,o)).catch(o.oe)},customHeader:function(){o.e("components/custom_header").then(function(){return resolve(o("eb6c"))}.bind(null,o)).catch(o.oe)}},onLoad:function(){var t=this;this.getMarginTop(),setTimeout((function(){t.getElementInfo(),t.getTopHeight()}),500),this.getInfo()},methods:{checkActive:function(){this.hasOldPassword?this.oldPassword&&this.newPassword&&this.veriPassword?this.showActive=!0:this.showActive=!1:this.newPassword&&this.veriPassword?this.showActive=!0:this.showActive=!1},reset:function(t){"old"==t&&(this.oldPassword=""),"new"==t&&(this.newPassword=""),"veri"==t&&(this.veriPassword=""),this.checkActive()},getMarginTop:function(e){var o=t.getMenuButtonBoundingClientRect();this.marginTop=o.height+o.top+10},getTopHeight:function(){var e=t.getSystemInfoSync();this.headerHeight=Math.floor(e.screenHeight*(200/844))},getElementInfo:function(){var e=this,o=t.getSystemInfoSync(),n=Math.floor(o.screenHeight*(46/844));console.log(n,"tabbar");var i=t.createSelectorQuery().select(".top_area");i.boundingClientRect((function(t){t.bottom-t.top,e.boxTop=e.marginTop+t.height,e.scrollHeight=o.screenHeight-e.boxTop-n-5})).exec()},navigate:function(e){t.navigateTo({url:e})},notSet:function(){t.navigateBack()},getInfo:function(){var t=this;this.$request("/worker/profile").then((function(e){0==e.code&&(t.hasOldPassword=e.data.has_old_password)}))},confirmSet:function(){if(this.showActive){var e={old_password:this.oldPassword,new_password:this.newPassword,new_password_confirmation:this.veriPassword};this.$request("/worker/password",e,"POST").then((function(e){0==e.code&&(t.showModal({title:"密码设置成功",showCancel:!1,duration:2e3}),setTimeout((function(){t.switchTab({url:"/pages/mine/mine"})}),2e3))}))}else t.showToast({title:"填写不完整",icon:"error",duration:2e3})}}};e.default=i}).call(this,o("df3c")["default"])},d28a:function(t,e,o){"use strict";var n=o("9e14"),i=o.n(n);i.a},f232:function(t,e,o){"use strict";(function(t,e){var n=o("47a9");o("417d");n(o("3240"));var i=n(o("aa25"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])}},[["f232","common/runtime","common/vendor"]]]);