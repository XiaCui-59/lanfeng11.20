{"version":3,"sources":["webpack:///E:/项目文件/langeng5.11/release/employee_miniprograme_new/components/ai_chat.vue?4192","webpack:///E:/项目文件/langeng5.11/release/employee_miniprograme_new/components/ai_chat.vue?3d63","webpack:///E:/项目文件/langeng5.11/release/employee_miniprograme_new/components/ai_chat.vue?3246","webpack:///E:/项目文件/langeng5.11/release/employee_miniprograme_new/components/ai_chat.vue?d805","uni-app:///components/ai_chat.vue","webpack:///E:/项目文件/langeng5.11/release/employee_miniprograme_new/components/ai_chat.vue?ef1c","webpack:///E:/项目文件/langeng5.11/release/employee_miniprograme_new/components/ai_chat.vue?4946"],"names":["data","showLogin","historyId","loadAllHistory","showReAuth","imgUrl","scrollView","gender","value","text","currentGender","age","ques","hold","qaList","socketOpen","socketMsgQueue","answerMsg","canSend","placeHolder","qaListLen","historyList","appInfo","scroll","chatShareId","timeShareId","header","sid","connected","connecting","socketTask","num","curStrIndex","curText","marginTop","tabMargin","scrollHeight","scrollHeight2","subTabHeight","showVoice","showRecord","showChat","showFullScreen","showWanner","cityData","city1","city2","city3","cityArr","typeTags","seleTypeIds","selectType","open_id","getPhoneData","showInputing","recordContent","enableSpeeking","timer","currentSiging","showSetting","created","setTimeout","_this","methods","getSetting","uni","success","console","content","type","source","closeLogin","openSetting","fail","complete","initRecord","manager","errMsg","title","showCancel","startRecord","duration","lang","stopRecord","reverseGeocodingClick","key","QQMapWX","location","latitude","longitude","that","getOpenId","code","url","resolve","getphonenumber","chooseWork","changeScreen","showAichat","scope","openSeepking","closeAichat","wx","toInput","toVoice","doSend","e","getLocation","legal","getHistory","getMoreHistory","icon","toScroll","getDetail","sendQuestion","genderChange","onchange1","onchange2","onchange3","sureCity","wannerCity","hasSimpleCity","hasSimple","getCitys","creatConnect","method","toSign","sureSign","connect","noInput","formatResultStr","str","speeking","plugin","dataUrl","send","clearTimeout","close","dislike","cancel","formatCity","id","name","newObj","newArrItem","newArr","deFormatCity","finishSele","postMsg","addWanner","chooseTag","obj","hasObj","objIndex","noPosition"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4WAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAmnB,CAAgB,inBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4UvoB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJA;AACA;AAIA;AAAA,eACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;QACAD;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACAC;MACA;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACAC;QACAC;UACAC;UACA;YACAL;YACA;cACAM;cACAC;cACAC;YACA;YACAR;UACA;YACAA;UACA;QACA;MACA;IACA;IACAS;MACA;IACA;IACAC;MACA;MACAP;QACAC;UACAC;UACA;YACA;YACAL;YACA;UACA;;UACA;YACAA;YACAA;UACA;QACA;QACAW;UACAN;QACA;QACAO;UACA;QACA;MACA;IACA;IACAC;MAAA;MACAC;QACA;QACA;MACA;MACA;MACAA;QACA;MACA;;MAEA;MACAA;QACAT;QACA;QACA;QACA;UACAC;UACAE;UACAD;QACA;QACA;MACA;MACA;MACAO;QACAT;QACA;QACA;UACA;YACAU;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;QAAA;QAEAZ;UACAa;UACAC;QACA;MACA;IACA;IACAC;MACA;MACAJ;QACAK;QACAC;MACA;IAEA;IACAC;MACA;MACAP;IACA;IACA;IACAQ;MACA;QACA;QACAC;MACA;MACA;MAEAC;QACAC;UACAC;UACAC;QACA;QACAvB;UACAC;UACA;UACA;YACAC;YACAE;YACAD;UACA;UACAqB;QACA;QACAjB;UACAN;QACA;QACAO;UACAP;QACA;MACA;IACA;IACAwB;MAAA;MACA;MACA;QACA1B;UACAC;YACAC;YACA;cACA;cACA;gBACAyB;cACA;cAEAC;cASA;gBACA;kBACA5B;oBACAoB;oBACArF;kBACA;kBACA8F;gBACA;cACA;YACA;UACA;UACArB;YACAN;YACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA4B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAjC;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBACA;kBACA+B;kBAEA;kBACAA;kBAYA/B;oBACA;sBACA;wBACAM;wBACAE;wBACAD;sBACA;sBACAP;oBACA;kBACA;gBACA;kBACAG;oBACAa;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAkB;MACA7B;IACA;IACA8B;MACA;MACA;QACA,0EACA;MACA;QACA,kFACA3D;MACA;IACA;IACA4D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBACA;gBACApC;gBACAG;kBACAkC;kBACAjC;oBACAC;kBACA;kBACAM;oBACAX;oBACAK;kBACA;gBACA;gBACAF;kBACAkC;kBACAjC;oBACAC;kBACA;kBACAM;oBACAX;kBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACAsC;MACA;IACA;IACAC;MACA;MACA;MACA;MACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;QACA;QACA;UACA;UACA;UACA;UACAC;QACA;MACA;IACA;IACAC;MACA;MACA1C;QACAC;UACAJ;QACA;QACAW;UACAN;QACA;MACA;IACA;IACAyC;MACA;QACA;UACA3C;YACAa;YACAC;UACA;QACA;MACA;IAEA;IACA8B;MACA;MACA;QACA;QACA/C;UACA;YACA;YACA;YACA;cACAA;YACA;YACAgC;UACA;QACA;MACA;IAEA;IACAgB;MAAA;MACA;QACA;QACA;UACA;YACA;YACA;YACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;QACA7C;UACAa;UACAiC;UACA9B;QACA;MACA;IAEA;IACA+B;MACA;MACA;QACA7C;QACA;UACA;UACA;YACAL;UACA;QAEA;UACA;UACAA;UACA;UACA;QACA;;QACAK;MACA;IACA;IACA8C;MACA;QACA7C;QACAE;QACAD;MACA;MACA;IAEA;IACA6C;MACA;MACApD;MACA;QACAG;UACA8C;UACAjC;QACA;MACA;QACA;UAEA;UACA;YACAV;YACAC;YACAC;UACA;UACA;QACA;MACA;IACA;IACA6C;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACAnD;YACAa;YACAiC;YACA9B;UACA;UACA;UACA;QACA;MACA;MACA;IAEA;IACAoC;MACA;QACA;UACApD;YACAa;YACAiC;YACA9B;UACA;UACA;UACA;QACA;MACA;MAEA;IACA;IACAqC;MACA;QACA;UACArD;YACAa;YACAiC;YACA9B;UACA;UACA;UACA;QACA;MACA;MACA;IACA;IACAsC;MACA;QACA;MACA;MACA;MACA;MACA;QACAC;MACA;MACAA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;UACA;YACAC;UACA;QACA;MAEA;MACA;IAEA;IACAC;MAAA;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACA3D;UACAG;UACAW;QACA;QACA;MACA;MACA;MACAZ;MACA;QACA0B;QACAnE;UACA;UACA;UACA;QACA;QACAmG;QACA3D;UACA;QAAA,CACA;QACAO;UACA;QAAA;MAEA;MACA;MACAN;IACA;IACA2D;MACA;MACA;MACA;QACA7D;UACAa;UACAZ;YACA;cACAJ;YACA;UACA;QACA;MACA;QACAA;MACA;IACA;IACAiE;MAAA;MACA;MACA;QAAA;UAAA;YAAA;cAAA;gBAAA;kBACA;oBACA9D;sBACAa;sBACAG;oBACA;oBACA;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA+C;MAAA;MACA;MACA;QACA;QACA;QAEA7D;MACA;MACA;QACA;QACA;QACA;QACAF;QACAA;UACAG;UACAW;QACA;QACAZ;MACA;MACA;QACA;QACAF;QACAE;QACA;UACAL;UACAA;UACAA;UACA;UACA;UACA;YACAA;UACA;UACA;YACAA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;QACA;UACAG;YACAa;UACA;QACA;MACA;MACA;QACAb;QACA;QACA;QACAE;QACA;UACAC;UACAE;UACAD;QACA;QACA;MACA;MACAF;IACA;IACA;IACA8D;MACA;MACA;QACA;UACA7D;UACAC;UACAC;QACA;QACAR;MACA;IACA;IACAoE;MACA;MACA;MACA;QACA;UACAC;QACA;QACA;UACA;UACA;YACAA;UACA;QACA;QACA;UACA;YACAA;UACA;QACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACAjE;MACAkE;QACAnD;QACAd;QACAF;UACA;YACAC;YACAmC;cACAgC;cACAxD;YACA;UACA;YACAX;UACA;QACA;QACAM;UACAN;QACA;MACA;IACA;IACAoE;MACA;MACAC;MACA;QACAxI;QACAkE;UACAD;YACAa;UACA;UACAX;UACA;YACAL;YACAA;YACAA;YACAA;YACAA;YACAA;YACAA;UACA;QAEA;QACAW;UACAN;QACA;MACA;IACA;IACAsE;MACA;QACA;QACA;MACA;IACA;IACAC;MACAvE;MACA;QACAG;QACAF;QACAC;MACA;MACA;IACA;IACAsE;MACA;MACA;IACA;IACAC;MACAzE;MACA;MACA;MACA;QACA;QACA;UACA;YACA;cACA0E;cACAC;YACA;YACAC;YACAA;YACAC;UACA;QACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;QAEA;QACA;UACA;YACA1I;YACAC;UACA;UACAsI;UACAA;UACAC;QACA;QACAC;MACA;MACA;IACA;IACAE;MAAA;MACAhF;MACA;MACAiF,kBACA;MACA;MACAA,eACA;MACA;QACA;UACAA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;UACAnF;YACAa;YACAG;UACA;UACA;UACA;YACAb;YACAE;YACAD;UACA;UACA;QACA;MACA;IAEA;IACAgF;MAAA;MACA;MACA;QACA;UACA;UACA;UACAlF;UACA;YACA;cACAL;YACA;UACA;UACA;UACA;UACA;YACA;cACA;YACA;UACA;UACA;UACA;YACA;YACA;YACA;UAEA;QACA;MACA;IAEA;IACAwF;MACAnF;MACA;MACAoF;MACA;MACA;MACA;MACA;MACA;QACA;UACAC;UACAC;QACA;MACA;MACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;UACA;UACA;YACA;UACA;QACA;MACA;QACA;QACAF;QACA;MACA;MACApF;MACA;QACA;MAEA;QACA;MACA;MACA;QACA;MACA;IACA;IACAuF;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvwCA;AAAA;AAAA;AAAA;AAA0qC,CAAgB,gmCAAG,EAAC,C;;;;;;;;;;;ACA9rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ai_chat.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ai_chat.vue?vue&type=template&id=ed54abb8&\"\nvar renderjs\nimport script from \"./ai_chat.vue?vue&type=script&lang=js&\"\nexport * from \"./ai_chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ai_chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ai_chat.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ai_chat.vue?vue&type=template&id=ed54abb8&\"","var components\ntry {\n  components = {\n    uniDataPicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-picker/components/uni-data-picker/uni-data-picker\" */ \"@/uni_modules/uni-data-picker/components/uni-data-picker/uni-data-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.showChat && !_vm.showWanner && !_vm.showReAuth\n      ? _vm.__map(_vm.historyList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g0 =\n            item.type == \"str\" ||\n            item.type == \"remind_resume\" ||\n            item.type == \"bind_mobile\" ||\n            item.type == \"need_bind_mobile\" ||\n            item.type == \"greeting\"\n              ? item.content.replace(/\\\\n/g, \"\\n\")\n              : null\n          return {\n            $orig: $orig,\n            g0: g0,\n          }\n        })\n      : null\n  var l2 =\n    _vm.showChat && _vm.showWanner && !_vm.showReAuth\n      ? _vm.__map(_vm.typeTags, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var l1 = _vm.__map(item.tags, function (tag, tagindex) {\n            var $orig = _vm.__get_orig(tag)\n            var g1 = _vm.seleTypeIds.indexOf(tag.id)\n            var g2 = _vm.seleTypeIds.indexOf(tag.id)\n            return {\n              $orig: $orig,\n              g1: g1,\n              g2: g2,\n            }\n          })\n          return {\n            $orig: $orig,\n            l1: l1,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ai_chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ai_chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"ai_wrap\">\r\n\t\t<view class=\"ai_icon\" v-if=\"!showChat\" @click=\"showAichat\">\r\n\t\t\t<image :src=\"imgUrl+'/worker/ai_logo.png'\" mode=\"widthFix\"></image>\r\n\t\t</view>\r\n\t\t<view class=\"ai_chat\" v-if=\"showChat\">\r\n\t\t\t<view class=\"ai_inner\" :style=\"{height:showFullScreen?'100%':'80%'}\" v-if=\"!showWanner && !showReAuth\">\r\n\t\t\t\t<view class=\"full_header\" :style=\"{height:marginTop+tabMargin+'px'}\" v-if=\"showFullScreen\"></view>\r\n\t\t\t\t<view class=\"back flex flex_btween\" :style=\"{height:subTabHeight+'px'}\">\r\n\t\t\t\t\t<image :src=\"showFullScreen?imgUrl+'/worker/ic_small.png':imgUrl+'/worker/ic_full.png'\"\r\n\t\t\t\t\t\tmode=\"heightFix\" @click=\"changeScreen\"></image>\r\n\t\t\t\t\t<view class=\"right flex flex_end\">\r\n\t\t\t\t\t\t<image :src=\"enableSpeeking?imgUrl+'/worker/ic_voive.png':imgUrl+'/worker/ic_voice_null.png'\"\r\n\t\t\t\t\t\t\tmode=\"heightFix\" @click=\"openSeepking\"></image>\r\n\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_close_blue.png'\" mode=\"heightFix\" @click=\"closeAichat\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 聊天框 -->\r\n\t\t\t\t<scroll-view class=\"chat_wrap\" :scroll-into-view=\"scrollView\" :style=\"{height:scrollHeight+'px'}\"\r\n\t\t\t\t\t:scroll-y=\"true\" id=\"chatwrap\" @scrolltoupper=\"getMoreHistory\">\r\n\t\t\t\t\t<!-- 历史记录 -->\r\n\t\t\t\t\t<view class=\"history list\">\r\n\t\t\t\t\t\t<view class=\"qa_item\" v-for=\"(item,index) in historyList\" :key=\"item.id\" :id=\"'his'+index\">\r\n\t\t\t\t\t\t\t<view class=\"line\" :class=\"item.source == 'system'?'left':'right'\">\r\n\t\t\t\t\t\t\t\t<view class=\"inline_box flex\">\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.source == 'system'\" :src=\"imgUrl+'/worker/ic_ai.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cont\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"list\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'job_recommend' || item.type == 'hot_job'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tips flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_hot.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'hot_job'\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_recom.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'job_recommend'\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">灵动优聘为您推荐</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tips\" v-if=\"item.type == 'hot_job'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_hot_today.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width:150rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"item flex flex_btween\" v-for=\"(item2,index2) in item.content\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"item2.id\" @click=\"getDetail(item2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"name\">{{item2.name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_arrow_right_grey.png'\" mode=\"widthFix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item.type == 'get_job_detail'\">{{item.content.name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"detail\" v-if=\"item.type == 'job_detail'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"tit\">{{item.content.tags}}</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.industry && (item.content.tags.industry != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">行业：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.industry}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.work_type && (item.content.tags.work_type != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">工种：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.work_type}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.work_description && (item.content.tags.work_description != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">工作内容：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.work_description}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.work_location && (item.content.tags.work_location != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">工作地点：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.work_location}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.settlement && (item.content.tags.settlement != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">结算方式：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.settlement}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.payment_method && (item.content.tags.payment_method != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">发薪方式：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.payment_method}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"btns flex flex_btween\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"btn sign\" @click.stop=\"toSign(item)\" style=\"width:100%;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t马上报名\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'str' || item.type == 'remind_resume' || item.type == 'bind_mobile'|| item.type == 'need_bind_mobile'||item.type == 'greeting'\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.content.replace(/\\\\n/g,\"\\n\")}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn wanner bind\" open-type=\"getPhoneNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'need_bind_mobile'\"\r\n\t\t\t\t\t\t\t\t\t\t\t@getphonenumber=\"getphonenumber\">使用微信手机号</button>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"btn wanner\" v-if=\"item.type == 'remind_resume'\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"addWanner(item)\">填写工作意向</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.source == 'user'\" :src=\"imgUrl+'/worker/ic_me.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" style=\"margin-left:20rpx;margin-right: 0;width:60rpx;\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"list\" id=\"listWrap\">\r\n\t\t\t\t\t\t<view class=\"qa_item\" v-for=\"(item,index) in qaList\" :key=\"item.id\" :id=\"'qa'+index\">\r\n\t\t\t\t\t\t\t<view class=\"line\" :class=\"item.source == 'system'?'left':'right'\">\r\n\t\t\t\t\t\t\t\t<view class=\"inline_box flex\">\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.source == 'system'\" :src=\"imgUrl+'/worker/ic_ai.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cont\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"list\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'job_recommend' || item.type == 'hot_job'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tips flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_hot.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'hot_job'\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_recom.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'job_recommend'\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">灵动优聘为您推荐</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tips\" v-if=\"item.type == 'hot_job'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_hot_today.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width:150rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"item flex flex_btween\" v-for=\"(item2,index2) in item.content\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"item2.id\" @click=\"getDetail(item2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"name\">{{item2.name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_arrow_right_grey.png'\" mode=\"widthFix\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item.type == 'get_job_detail'\">{{item.content.name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"detail\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'job_detail' && item.source == 'system'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"tit\">{{item.content.tags}}</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.industry && (item.content.tags.industry != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">行业：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.industry}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.work_type && (item.content.tags.work_type != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">工种：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.work_type}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.work_description && (item.content.tags.work_description != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">工作内容：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.work_description}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.work_location && (item.content.tags.work_location != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">工作地点：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.work_location}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.settlement && (item.content.tags.settlement != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">结算方式：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.settlement}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"de_line flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.content.tags.payment_method && (item.content.tags.payment_method != '？')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"subtit\">发薪方式：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">{{item.content.tags.payment_method}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"btns flex flex_btween\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"btn no\" @click.stop=\"dislike(item.content)\">不喜欢\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"btn sign\" @click.stop=\"toSign(item)\">马上报名\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'greeting' || item.type == 'str' || item.type == 'remind_resume' || item.type == 'bind_mobile' || item.type == 'need_bind_mobile'\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-html=\"item.content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- {{item.content}} -->\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn wanner bind\" open-type=\"getPhoneNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.type == 'need_bind_mobile'\"\r\n\t\t\t\t\t\t\t\t\t\t\t@getphonenumber=\"getphonenumber\">使用微信手机号</button>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"btn wanner\" v-if=\"item.type == 'remind_resume'\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"addWanner(item)\">填写工作意向</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.source == 'user'\" :src=\"imgUrl+'/worker/ic_me.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" style=\"margin-left:20rpx;margin-right: 0;width:60rpx;\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view :id=\"hold\" style=\"height:10rpx;width:100%;\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t<!-- 提问框 -->\r\n\t\t\t\t<view class=\"ques_wrap\" :style=\"{height:subTabHeight+'px'}\">\r\n\t\t\t\t\t<view class=\"input flex flex_btween\" v-if=\"!showRecord\">\r\n\t\t\t\t\t\t<input type=\"text\" :placeholder=\"placeHolder\" v-model=\"ques\" confirm-type=\"send\"\r\n\t\t\t\t\t\t\t@confirm=\"doSend\">\r\n\t\t\t\t\t\t<view class=\"imgs flex flex_end\">\r\n\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_send.png'\" mode=\"heightFix\" @tap=\"sendQuestion\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_record.png'\" mode=\"heightFix\" @tap=\"toVoice\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"input flex flex_btween\" v-if=\"showRecord\">\r\n\t\t\t\t\t\t<view class=\"btn in_put\" v-if=\"showSetting\" @click=\"openSetting\">开启语音权限</view>\r\n\t\t\t\t\t\t<view class=\"btn in_put\" @touchstart=\"startRecord\" @touchend=\"stopRecord\" v-if=\"!showSetting\">\r\n\t\t\t\t\t\t\t按住说话\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_keyboard.png'\" mode=\"heightFix\" @click=\"toInput\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"inputing\" v-if=\"showInputing\">\r\n\t\t\t\t<image :src=\"imgUrl+'/worker/inputing.gif'\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ai_inner\" :style=\"{height:showFullScreen?'100%':'80%'}\" v-if=\"showWanner && !showReAuth\">\r\n\t\t\t\t<view class=\"full_header\" :style=\"{height:marginTop+tabMargin+'px'}\" v-if=\"showFullScreen\"></view>\r\n\t\t\t\t<view class=\"back flex flex_btween\" :style=\"{height:subTabHeight+'px'}\">\r\n\t\t\t\t\t<view class=\"btn cancel\" @click=\"cancel\">取消</view>\r\n\t\t\t\t\t<view class=\"btn finish\" @click=\"finishSele\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\" :style=\"{height:scrollHeight2+'px'}\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t<view class=\"body_box\">\r\n\t\t\t\t\t\t\t<view class=\"title\">基本信息</view>\r\n\t\t\t\t\t\t\t<view class=\"info\" style=\"margin-top:0;\">\r\n\t\t\t\t\t\t\t\t<view class=\"line flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tit\" style=\"margin-bottom:0;\">性别：</view>\r\n\t\t\t\t\t\t\t\t\t<radio-group @change=\"genderChange\" class=\" flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t<label class=\"uni-list-cell uni-list-cell-pd flex flex-start\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-right:80rpx;\" v-for=\"(item, index) in gender\"\r\n\t\t\t\t\t\t\t\t\t\t\t:key=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<radio :value=\"item.value\" :checked=\"index === currentGender\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#106afa\" style=\"transform:scale(0.8)\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view style=\"font-size:27rpx;\">{{item.text}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</radio-group>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"line flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tit\" style=\"margin-bottom:0;white-space: nowrap;\">年龄：</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"input_wrap\" style=\"width: 100%;\">\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"number\" v-model=\"age\" placeholder=\"请输入年龄\" @input=\"legal\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder-style=\"font-size:27rpx;\" />\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"body_box\">\r\n\t\t\t\t\t\t\t<view class=\"title\">工作意向</view>\r\n\t\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t\t<view class=\"input_line\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tit\">意向城市</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"input_wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"line flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tit\">城市一</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-data-picker ref=\"pickerOne\" :localdata=\"cityData\" v-model=\"city1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择地址\" popup-title=\"请选择城市\" @change=\"onchange1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:map=\"{text:'name',value:'id'}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</uni-data-picker>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"line flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tit\">城市二</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-data-picker ref=\"pickerTwo\" :localdata=\"cityData\" v-model=\"city2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择地址\" popup-title=\"请选择城市\" @change=\"onchange2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:map=\"{text:'name',value:'id'}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</uni-data-picker>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"line flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tit\">城市三</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-data-picker ref=\"pickerThree\" :localdata=\"cityData\" v-model=\"city3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择地址\" popup-title=\"请选择城市\" @change=\"onchange3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:map=\"{text:'name',value:'id'}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</uni-data-picker>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"input_line\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tit\">意向工种</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"item_wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item\" v-for=\"(item,index) in typeTags\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tit\">{{item.name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tags flex flex-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"tag\" v-for=\"(tag,tagindex) in item.tags\" :key=\"tag.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"seleTypeIds.indexOf(tag.id) != -1?'active':''\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"chooseTag(item,tag)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{tag.name}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/ic_work_sele_1.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"seleTypeIds.indexOf(tag.id) != -1\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"auth flex flex_btween\" v-if=\"showReAuth\">\r\n\t\t\t\t<view class=\"btn no\" @click=\"noPosition\">不开启</view>\r\n\t\t\t\t<view class=\"btn sure\" @click=\"openSetting\">开启定位，推荐适合您的职位</view>\r\n\t\t\t\t<!-- <button class=\"btn\" open-type=\"openSetting\">开启定位，推荐适合您的职位</button> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<login :showLogin=\"showLogin\" pageName=\"ai_chat\" @handleSign=\"toSign(currentSiging)\" @closeLogin=\"closeLogin\">\r\n\t\t</login>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef MP-WEIXIN\r\n\tconst plugin = requirePlugin(\"WechatSI\")\r\n\tlet manager = plugin.getRecordRecognitionManager()\r\n\t// #endif\r\n\timport urlSetting from \"@/url_setting\";\r\n\timport qqmapsdk from \"@/utils/qqmap-wx-jssdk.min.js\";\r\n\tconst app = getApp();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowLogin: false,\r\n\t\t\t\thistoryId: 0,\r\n\t\t\t\tloadAllHistory: false,\r\n\t\t\t\tshowReAuth: false,\r\n\t\t\t\timgUrl: app.globalData.baseImageUrl,\r\n\t\t\t\tscrollView: \"\",\r\n\t\t\t\tgender: [{\r\n\t\t\t\t\tvalue: \"male\",\r\n\t\t\t\t\ttext: \"男\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: \"female\",\r\n\t\t\t\t\ttext: \"女\"\r\n\t\t\t\t}],\r\n\t\t\t\tcurrentGender: 0,\r\n\t\t\t\tage: \"\",\r\n\t\t\t\tques: \"\",\r\n\t\t\t\thold: \"h1\",\r\n\t\t\t\tqaList: [],\r\n\t\t\t\tsocketOpen: false,\r\n\t\t\t\tsocketMsgQueue: [],\r\n\t\t\t\tanswerMsg: \"\",\r\n\t\t\t\tcanSend: true,\r\n\t\t\t\tplaceHolder: \"请输入您的问题\",\r\n\t\t\t\tqaListLen: 0,\r\n\t\t\t\thistoryList: [],\r\n\t\t\t\tappInfo: {},\r\n\t\t\t\tscroll: 0,\r\n\t\t\t\tchatShareId: 0,\r\n\t\t\t\ttimeShareId: 0,\r\n\t\t\t\theader: {},\r\n\t\t\t\tsid: 0,\r\n\t\t\t\tconnected: false,\r\n\t\t\t\tconnecting: false,\r\n\t\t\t\tsocketTask: false,\r\n\t\t\t\tnum: 1,\r\n\t\t\t\tcurStrIndex: 0,\r\n\t\t\t\tcurText: \"\",\r\n\t\t\t\tmarginTop: app.globalData.marginTop,\r\n\t\t\t\ttabMargin: app.globalData.tabMargin,\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tscrollHeight2: 0,\r\n\t\t\t\tsubTabHeight: app.globalData.subTabHeight,\r\n\t\t\t\tshowVoice: false,\r\n\t\t\t\tshowRecord: true,\r\n\t\t\t\tshowChat: false,\r\n\t\t\t\tshowFullScreen: false,\r\n\t\t\t\tshowWanner: false,\r\n\t\t\t\tcityData: [],\r\n\t\t\t\tcity1: \"\",\r\n\t\t\t\tcity2: \"\",\r\n\t\t\t\tcity3: \"\",\r\n\t\t\t\tcityArr: [],\r\n\t\t\t\ttypeTags: [],\r\n\t\t\t\tseleTypeIds: [],\r\n\t\t\t\tselectType: [],\r\n\t\t\t\topen_id: \"\",\r\n\t\t\t\tgetPhoneData: {},\r\n\t\t\t\tshowInputing: false,\r\n\t\t\t\trecordContent: \"\",\r\n\t\t\t\tenableSpeeking: false,\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tcurrentSiging: {},\r\n\t\t\t\tshowSetting: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(param) {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.scrollHeight = app.globalData.systemHeight * 0.8 - this.tabMargin - 2 * this.subTabHeight\r\n\t\t\tthis.scrollHeight2 = app.globalData.systemHeight * 0.8 - 1 * this.subTabHeight\r\n\t\t\tthis.getCitys()\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (!_this.showChat) {\r\n\t\t\t\t\t_this.showAichat()\r\n\t\t\t\t}\r\n\t\t\t}, 10000)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetSetting() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res.authSetting, \"getSetting\")\r\n\t\t\t\t\t\tif (!res.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t\t_this.showReAuth = true\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\t\t\t\ttype: \"hot_job\",\r\n\t\t\t\t\t\t\t\tsource: \"user\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.send(data)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.getLocation()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseLogin() {\r\n\t\t\t\tthis.showLogin = false\r\n\t\t\t},\r\n\t\t\topenSetting() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.openSetting({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res.authSetting, \"res.authSetting\")\r\n\t\t\t\t\t\tif (res.authSetting['scope.record']) {\r\n\t\t\t\t\t\t\t// _this.showInputing = false\r\n\t\t\t\t\t\t\t_this.showSetting = false\r\n\t\t\t\t\t\t\t// _this.showRecord = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t\t_this.showReAuth = false\r\n\t\t\t\t\t\t\t_this.getLocation()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(openErr) {\r\n\t\t\t\t\t\tconsole.log(openErr, 'openerr')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tthis.showReAuth = false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitRecord: function() {\r\n\t\t\t\tmanager.onStart = res => {\r\n\t\t\t\t\tthis.recordContent = \"\"\r\n\t\t\t\t\tthis.showInputing = true\r\n\t\t\t\t};\r\n\t\t\t\t//有新的识别内容返回，则会调用此事件  \r\n\t\t\t\tmanager.onRecognize = (res) => {\r\n\t\t\t\t\tthis.recordContent += res.result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 识别结束事件  \r\n\t\t\t\tmanager.onStop = (res) => {\r\n\t\t\t\t\tconsole.log(res.result)\r\n\t\t\t\t\tthis.recordContent += res.result;\r\n\t\t\t\t\tthis.showInputing = false\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tcontent: this.recordContent,\r\n\t\t\t\t\t\tsource: \"user\",\r\n\t\t\t\t\t\ttype: \"str\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.send(data)\r\n\t\t\t\t}\r\n\t\t\t\t// 识别出错\r\n\t\t\t\tmanager.onError = (res) => {\r\n\t\t\t\t\tconsole.log(res, \"err\")\r\n\t\t\t\t\tlet errMsg = \"\"\r\n\t\t\t\t\tswitch (res.retcode) {\r\n\t\t\t\t\t\tcase -30003:\r\n\t\t\t\t\t\t\terrMsg = \"未获取到录音数据，请尽可能提高音量。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -30006:\r\n\t\t\t\t\t\t\terrMsg = \"录音识别超时，请重试。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -30008:\r\n\t\t\t\t\t\t\terrMsg = \"网络链接失败，请重试。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -30004:\r\n\t\t\t\t\t\t\terrMsg = \"未识别到结果，请尽可能提高音量。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -40001:\r\n\t\t\t\t\t\t\terrMsg = \"达到接口调用频率限制，请联系管理员。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\terrMsg = \"录音功能出错，请联系管理员。\"\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: errMsg,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstartRecord: function() {\r\n\t\t\t\tthis.showInputing = true\r\n\t\t\t\tmanager.start({\r\n\t\t\t\t\tduration: 60000,\r\n\t\t\t\t\tlang: \"zh_CN\"\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tstopRecord: function() {\r\n\t\t\t\tthis.showInputing = false\r\n\t\t\t\tmanager.stop();\r\n\t\t\t},\r\n\t\t\t// 地址反向编码解析地址\r\n\t\t\treverseGeocodingClick(latitude, longitude) {\r\n\t\t\t\tconst QQMapWX = new qqmapsdk({\r\n\t\t\t\t\t//腾讯地图  需要用户自己去申请key\r\n\t\t\t\t\tkey: app.globalData.qqMapKey\r\n\t\t\t\t});\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tQQMapWX.reverseGeocoder({\r\n\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\tlatitude: latitude,\r\n\t\t\t\t\t\tlongitude: longitude\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(res, \"addrRes\")\r\n\t\t\t\t\t\tlet city = res.result.address_component.city\r\n\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\tcontent: city,\r\n\t\t\t\t\t\t\tsource: \"user\",\r\n\t\t\t\t\t\t\ttype: \"hot_job\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.send(data)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetOpenId() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res, \"dyres\")\r\n\t\t\t\t\t\t\tif (res.errMsg == 'login:ok') {\r\n\t\t\t\t\t\t\t\tlet url = \"\"\r\n\t\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\t\tcode: res.code\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\turl = \"/auth/worker/wechat/mini/openid\"\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\t\t\t\turl = \"/auth/worker/kuaishou/openid\"\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\t\t\turl = \"/auth/worker/douyin/openid\"\r\n\t\t\t\t\t\t\t\tdata.anonymous_code = res.anonymousCode\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\tthis.$request(url, data, \"POST\").then(resp => {\r\n\t\t\t\t\t\t\t\t\tif (resp.code == 0) {\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\t\t\tkey: \"openid\",\r\n\t\t\t\t\t\t\t\t\t\t\tdata: resp.data.open_id\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tresolve(resp.data.open_id)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err, \"接口调用失败\")\r\n\t\t\t\t\t\t\t// uni.showModal({\r\n\t\t\t\t\t\t\t// \ttitle: \"登录失败\",\r\n\t\t\t\t\t\t\t// \tcontent: \"授权登录失败，将无法使用部分功能\",\r\n\t\t\t\t\t\t\t// \tshowCancel: false\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getphonenumber(e) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.getPhoneData.open_id = await this.getOpenId();\r\n\t\t\t\tif (e.detail.errMsg == 'getPhoneNumber:ok') {\r\n\t\t\t\t\tlet url = \"\"\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tthis.getPhoneData.code = e.detail.code;\r\n\t\t\t\t\turl = \"/auth/worker/wechat/mini/login\"\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\tthis.getPhoneData.encrypted_data = e.detail.encryptedData;\r\n\t\t\t\t\tthis.getPhoneData.iv = e.detail.iv;\r\n\t\t\t\t\turl = \"/auth/worker/kuaishou/login\"\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\tthis.getPhoneData.encrypted_data = e.detail.encryptedData;\r\n\t\t\t\t\tthis.getPhoneData.iv = e.detail.iv;\r\n\t\t\t\t\turl = \"/auth/worker/douyin/login\"\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t_this.$request(url, this.getPhoneData, \"POST\").then(resp => {\r\n\t\t\t\t\t\tif (resp.code == 0) {\r\n\t\t\t\t\t\t\tlet postMsg = {\r\n\t\t\t\t\t\t\t\tcontent: resp.data.mobile,\r\n\t\t\t\t\t\t\t\tsource: \"user\",\r\n\t\t\t\t\t\t\t\ttype: \"bind_mobile\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.send(postMsg)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: e.detail.errMsg\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchooseWork(obj, item) {\r\n\t\t\t\tconsole.log(obj, item)\r\n\t\t\t},\r\n\t\t\tchangeScreen() {\r\n\t\t\t\tthis.showFullScreen = !this.showFullScreen\r\n\t\t\t\tif (this.showFullScreen) {\r\n\t\t\t\t\tthis.scrollHeight = app.globalData.systemHeight - 2 * this.subTabHeight -\r\n\t\t\t\t\t\t2 * this.tabMargin - this.marginTop\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.scrollHeight = app.globalData.systemHeight * 0.8 - this.tabMargin - 2 * this\r\n\t\t\t\t\t\t.subTabHeight\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync showAichat() {\r\n\t\t\t\tthis.historyId = 0\r\n\t\t\t\tthis.historyList = []\r\n\t\t\t\tthis.loadAllHistory = false\r\n\t\t\t\tthis.qaList = []\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res, 'success')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t_this.showSetting = true\r\n\t\t\t\t\t\tconsole.log(err, 'err')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res, 'success')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t_this.getSetting()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.historyList = await this.getHistory()\r\n\t\t\t\tthis.toScroll()\r\n\t\t\t\tthis.creatConnect()\r\n\t\t\t\tthis.initRecord()\r\n\t\t\t\tthis.showChat = true\r\n\r\n\r\n\t\t\t},\r\n\t\t\topenSeepking() {\r\n\t\t\t\tthis.enableSpeeking = !this.enableSpeeking\r\n\t\t\t},\r\n\t\t\tcloseAichat() {\r\n\t\t\t\tthis.showChat = false\r\n\t\t\t\tthis.historyId = 0\r\n\t\t\t\tthis.enableSpeeking = false\r\n\t\t\t\twx.stopBackgroundAudio()\r\n\t\t\t\tthis.close()\r\n\t\t\t},\r\n\t\t\ttoInput() {\r\n\t\t\t\tthis.showRecord = false\r\n\t\t\t},\r\n\t\t\ttoVoice() {\r\n\t\t\t\tthis.showRecord = true\r\n\t\t\t},\r\n\t\t\tdoSend(e, text) {\r\n\t\t\t\t// console.log(text);\r\n\t\t\t\tif (e.ctrlKey && e.keyCode === 13) {\r\n\t\t\t\t\t//用户点击了ctrl+enter触发\r\n\t\t\t\t\tthis.ques += '\\n';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//用户点击了enter触发    执行一些逻辑方法\r\n\t\t\t\t\tif (e !== undefined) {\r\n\t\t\t\t\t\t//发送消息的方法\r\n\t\t\t\t\t\tthis.sendQuestion();\r\n\t\t\t\t\t\t// 阻止浏览器默认的敲击回车换行的方法\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetLocation() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t_this.reverseGeocodingClick(res.latitude, res.longitude)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.error('定位失败', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlegal() {\r\n\t\t\t\tif (this.age) {\r\n\t\t\t\t\tif (!Number(this.age)) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"输入不合法，请输入大于18的数字。\",\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tgetHistory() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tlet url = \"/ai/chat/record?id=\" + _this.historyId\r\n\t\t\t\t\t_this.$request(url).then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tlet newArr = res.data.reverse()\r\n\t\t\t\t\t\t\tlet len = res.data.length\r\n\t\t\t\t\t\t\tif (len > 0) {\r\n\t\t\t\t\t\t\t\t_this.historyId = res.data[0].id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresolve(newArr)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tgetMoreHistory() {\r\n\t\t\t\tif (!this.loadAllHistory) {\r\n\t\t\t\t\tlet url = \"/ai/chat/record?id=\" + this.historyId\r\n\t\t\t\t\tthis.$request(url).then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tthis.historyList = res.data.reverse().concat(this.historyList)\r\n\t\t\t\t\t\t\tlet len = res.data.length\r\n\t\t\t\t\t\t\tif (len > 0) {\r\n\t\t\t\t\t\t\t\tthis.historyId = res.data[0].id\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.loadAllHistory = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已加载全部\",\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\ttoScroll() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tconsole.log(123)\r\n\t\t\t\t\tif (_this.qaList.length == 0) {\r\n\t\t\t\t\t\tvar num = _this.historyList.length - 1;\r\n\t\t\t\t\t\tif (num >= 0) {\r\n\t\t\t\t\t\t\t_this.scrollView = \"his\" + num\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar num2 = _this.qaList.length - 1;\r\n\t\t\t\t\t\t_this.scrollView = \"qa\" + num2\r\n\t\t\t\t\t\t// this.scrollView = this.hold\r\n\t\t\t\t\t\t// console.log(this.scrollView)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(_this.scrollView, \"scrollView\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDetail(item) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tcontent: item,\r\n\t\t\t\t\tsource: \"user\",\r\n\t\t\t\t\ttype: \"get_job_detail\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.send(data)\r\n\r\n\t\t\t},\r\n\t\t\tsendQuestion() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t_this.curStrIndex = 0;\r\n\t\t\t\tif (!this.ques) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"请输入您的问题\"\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.canSend) {\r\n\r\n\t\t\t\t\t\tthis.canSend = false;\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\tcontent: this.ques,\r\n\t\t\t\t\t\t\ttype: \"str\",\r\n\t\t\t\t\t\t\tsource: \"user\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.send(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgenderChange(e) {\r\n\t\t\t\tfor (let i = 0; i < this.gender.length; i++) {\r\n\t\t\t\t\tif (this.gender[i].value == e.detail.value) {\r\n\t\t\t\t\t\tthis.currentGender = i\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonchange1(e) {\r\n\t\t\t\tif (e.detail.value.length) {\r\n\t\t\t\t\tif (this.hasSimpleCity(e.detail.value[1].value)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"该城市已选择\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.$refs.pickerOne.clear()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.cityArr[0] = e.detail.value\r\n\r\n\t\t\t},\r\n\t\t\tonchange2(e) {\r\n\t\t\t\tif (e.detail.value.length) {\r\n\t\t\t\t\tif (this.hasSimpleCity(e.detail.value[1].value)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"该城市已选择\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.$refs.pickerTwo.clear()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.cityArr[1] = e.detail.value\r\n\t\t\t},\r\n\t\t\tonchange3(e) {\r\n\t\t\t\tif (e.detail.value.length) {\r\n\t\t\t\t\tif (this.hasSimpleCity(e.detail.value[1].value)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"该城市已选择\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.$refs.pickerThree.clear()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.cityArr[2] = e.detail.value\r\n\t\t\t},\r\n\t\t\tsureCity() {\r\n\t\t\t\tlet newCityArr = this.cityArr.filter(el => {\r\n\t\t\t\t\treturn el.length > 0\r\n\t\t\t\t})\r\n\t\t\t\tlet wannerCity = \"\"\r\n\t\t\t\tlet len = newCityArr.length\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\twannerCity += newCityArr[i][1].text + \"、\"\r\n\t\t\t\t}\r\n\t\t\t\twannerCity = wannerCity.slice(0, wannerCity.length - 1)\r\n\t\t\t\treturn wannerCity\r\n\t\t\t},\r\n\t\t\thasSimpleCity(value) {\r\n\t\t\t\t// 对比二级城市id是否有相同\r\n\t\t\t\tlet len = this.cityArr.length\r\n\t\t\t\tlet hasSimple = false\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tif (this.cityArr[i] && this.cityArr[i].length > 0) {\r\n\t\t\t\t\t\tif (value == this.cityArr[i][1].value) {\r\n\t\t\t\t\t\t\thasSimple = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn hasSimple\r\n\r\n\t\t\t},\r\n\t\t\tgetCitys() {\r\n\t\t\t\tthis.$request(\"/common/areas\").then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.cityData = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcreatConnect() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tif (this.connected || this.connecting) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '正在连接或者已经连接，请勿重复连接',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tthis.connecting = true\r\n\t\t\t\tconsole.log(app.globalData.wssUrl, \"wss\")\r\n\t\t\t\tthis.socketTask = uni.connectSocket({\r\n\t\t\t\t\turl: app.globalData.wssUrl,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t\t\t\"app-id\": urlSetting.urls.appid,\r\n\t\t\t\t\t\t\"open-id\": uni.getStorageSync(\"openid\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// 这里是接口调用成功的回调，不是连接成功的回调，请注意\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t// 这里是接口调用失败的回调，不是连接失败的回调，请注意\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.connect()\r\n\t\t\t\tconsole.log(this.socketTask, \"socketTask\");\r\n\t\t\t},\r\n\t\t\ttoSign(item) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.currentSiging = item\r\n\t\t\t\tif (this.isLogin()) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"正在报名\",\r\n\t\t\t\t\t\tsuccess(resp) {\r\n\t\t\t\t\t\t\tif (resp.confirm) {\r\n\t\t\t\t\t\t\t\t_this.sureSign(item.content.id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.showLogin = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsureSign(id) {\r\n\t\t\t\tlet url = \"/worker/accept/project/\" + id\r\n\t\t\t\tthis.$request(url, {}, \"POST\").then(async res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"报名成功\",\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.signed = true\r\n\t\t\t\t\t\tthis.closeLogin()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconnect() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.socketTask.onOpen((res) => {\r\n\t\t\t\t\tthis.connecting = false\r\n\t\t\t\t\tthis.connected = true\r\n\r\n\t\t\t\t\tconsole.log('onOpen', res);\r\n\t\t\t\t})\r\n\t\t\t\tthis.socketTask.onError((err) => {\r\n\t\t\t\t\tthis.connecting = false\r\n\t\t\t\t\tthis.connected = false\r\n\t\t\t\t\tthis.canSend = true\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '连接失败，请稍后再试',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log('onError', err);\r\n\t\t\t\t})\r\n\t\t\t\tthis.socketTask.onMessage((res) => {\r\n\t\t\t\t\tlet respone = JSON.parse(res.data)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tconsole.log(respone, \"respone\")\r\n\t\t\t\t\tif (respone.code == 0) {\r\n\t\t\t\t\t\t_this.canSend = true;\r\n\t\t\t\t\t\t_this.placeHolder = \"请输入您的问题\";\r\n\t\t\t\t\t\t_this.toScroll();\r\n\t\t\t\t\t\t// _this.noInput()\r\n\t\t\t\t\t\tlet len = respone.data.length\r\n\t\t\t\t\t\tif (_this.enableSpeeking) {\r\n\t\t\t\t\t\t\t_this.formatResultStr(respone.data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\t\t\t_this.qaList.push(respone.data[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// _this.qaList.push({\r\n\t\t\t\t\t\t// \tcontent: \"1111\",\r\n\t\t\t\t\t\t// \tsource: \"system\",\r\n\t\t\t\t\t\t// \ttype: \"str\"\r\n\t\t\t\t\t\t// })\r\n\r\n\t\t\t\t\t\t// _this.close()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: respone.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.socketTask.onClose((res) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.connected = false\r\n\t\t\t\t\tthis.socketTask = false\r\n\t\t\t\t\tconsole.log('onClose', res)\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tcontent: \"链接已关闭，如需重新对话，请重新打开窗口。\",\r\n\t\t\t\t\t\tsource: \"system\",\r\n\t\t\t\t\t\ttype: \"str\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.qaList.push(data)\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log('task', this.socketTask)\r\n\t\t\t},\r\n\t\t\t// 间隔一定时间判断用户是否没有输入\r\n\t\t\tnoInput() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.timer = setTimeout(function() {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tcontent: \"ping\",\r\n\t\t\t\t\t\ttype: \"check\",\r\n\t\t\t\t\t\tsource: \"user\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.send(data)\r\n\t\t\t\t}, 30000)\r\n\t\t\t},\r\n\t\t\tformatResultStr(data) {\r\n\t\t\t\tlet len = data.length\r\n\t\t\t\tlet str = \"\"\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tif (data[i].type == \"str\" || data[i].type == \"remind_resume\") {\r\n\t\t\t\t\t\tstr += data[i].content\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data[i].type == \"job_recommend\" || data[i].type == \"hot_job\") {\r\n\t\t\t\t\t\tlet conLen = data[i].content.length\r\n\t\t\t\t\t\tfor (let j = 0; j < conLen; j++) {\r\n\t\t\t\t\t\t\tstr += data[i].content[j].name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data[i].type == \"job_detail\") {\r\n\t\t\t\t\t\tfor (key in data[i].content) {\r\n\t\t\t\t\t\t\tstr += data[i].content[key]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (str) {\r\n\t\t\t\t\tthis.speeking(str)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspeeking(str) {\r\n\t\t\t\tconsole.log(str, \"播报内容\")\r\n\t\t\t\tplugin.textToSpeech({\r\n\t\t\t\t\tlang: \"zh_CN\",\r\n\t\t\t\t\tcontent: str,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.retcode == 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"result\", res.result)\r\n\t\t\t\t\t\t\twx.playBackgroundAudio({\r\n\t\t\t\t\t\t\t\tdataUrl: res.filename,\r\n\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.warn(\"翻译失败\", res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(\"网络失败\", res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsend(data) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tclearTimeout(this.timer)\r\n\t\t\t\tthis.socketTask.send({\r\n\t\t\t\t\tdata: JSON.stringify(data),\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: \"思考中，请稍后...\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log(data, \"data\")\r\n\t\t\t\t\t\tif (data.type != \"hot_job\" && data.type != \"check\") {\r\n\t\t\t\t\t\t\t_this.qaList.push(data)\r\n\t\t\t\t\t\t\t_this.num++\r\n\t\t\t\t\t\t\t_this.hold = \"h\" + _this.num\r\n\t\t\t\t\t\t\t_this.toScroll()\r\n\t\t\t\t\t\t\t_this.ques = \"\";\r\n\t\t\t\t\t\t\t_this.placeHolder = \"正在回答中，请稍后...\"\r\n\t\t\t\t\t\t\t_this.qaListLen = _this.qaList.length\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tif (this.socketTask && this.socketTask.close) {\r\n\t\t\t\t\t// this.send('{\"type\":\"close\"}');\r\n\t\t\t\t\tthis.socketTask.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdislike(content) {\r\n\t\t\t\tconsole.log(content, \"content\")\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tsource: \"user\",\r\n\t\t\t\t\tcontent: \"不喜欢\",\r\n\t\t\t\t\ttype: \"str\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.send(data)\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.showWanner = false\r\n\t\t\t\tthis.toScroll()\r\n\t\t\t},\r\n\t\t\tformatCity() {\r\n\t\t\t\tconsole.log(this.cityArr)\r\n\t\t\t\tlet len = this.cityArr.length\r\n\t\t\t\tlet newArr = []\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tlet newArrItem = []\r\n\t\t\t\t\tif (this.cityArr[i] && this.cityArr[i].length) {\r\n\t\t\t\t\t\tfor (let j = 0; j < this.cityArr[i].length; j++) {\r\n\t\t\t\t\t\t\tlet newObj = {\r\n\t\t\t\t\t\t\t\tid: \"\",\r\n\t\t\t\t\t\t\t\tname: \"\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnewObj.id = this.cityArr[i][j].value\r\n\t\t\t\t\t\t\tnewObj.name = this.cityArr[i][j].text\r\n\t\t\t\t\t\t\tnewArrItem.push(JSON.parse(JSON.stringify(newObj)))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (newArrItem.length) {\r\n\t\t\t\t\t\tnewArr.push(JSON.parse(JSON.stringify(newArrItem)))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn newArr\r\n\t\t\t},\r\n\t\t\tdeFormatCity(arr) {\r\n\t\t\t\tlet len = arr.length\r\n\t\t\t\tlet newArr = []\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tlet index = i + 1\r\n\t\t\t\t\tlet param = \"city\" + index\r\n\t\t\t\t\tthis[param] = arr[i][1].id\r\n\r\n\t\t\t\t\tlet newArrItem = []\r\n\t\t\t\t\tfor (let j = 0; j < arr[i].length; j++) {\r\n\t\t\t\t\t\tlet newObj = {\r\n\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewObj.value = arr[i][j].id\r\n\t\t\t\t\t\tnewObj.text = arr[i][j].name\r\n\t\t\t\t\t\tnewArrItem.push(JSON.parse(JSON.stringify(newObj)))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewArr.push(JSON.parse(JSON.stringify(newArrItem)))\r\n\t\t\t\t}\r\n\t\t\t\treturn newArr\r\n\t\t\t},\r\n\t\t\tfinishSele() {\r\n\t\t\t\tconsole.log(this.selectType, \"selectType\")\r\n\t\t\t\tlet postMsg = this.gender[this.currentGender].text + \",\" + this.age + \",\"\r\n\t\t\t\tpostMsg += `\r\n` + this.sureCity()\r\n\t\t\t\tlet typeLen = this.selectType.length\r\n\t\t\t\tpostMsg += `\r\n`\r\n\t\t\t\tfor (let j = 0; j < typeLen; j++) {\r\n\t\t\t\t\tfor (let k = 0; k < this.selectType[j].tags.length; k++) {\r\n\t\t\t\t\t\tpostMsg += this.selectType[j].tags[k].name + \"/\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet newCityArr = this.formatCity(this.cityArr)\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"age\": Number(this.age),\r\n\t\t\t\t\t\"gender\": this.gender[this.currentGender].text,\r\n\t\t\t\t\t\"areas\": newCityArr,\r\n\t\t\t\t\t\"type_tags\": this.selectType,\r\n\t\t\t\t\t\"all_ags\": this.typeTags\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/ai/resume\", data, \"POST\").then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"保存成功\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.showWanner = false\r\n\t\t\t\t\t\tlet postStr = {\r\n\t\t\t\t\t\t\tcontent: postMsg,\r\n\t\t\t\t\t\t\tsource: \"user\",\r\n\t\t\t\t\t\t\ttype: \"str\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.send(postStr)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\taddWanner() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.$request(\"/ai/resume\").then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.typeTags = res.data.all_tags\r\n\t\t\t\t\t\tthis.selectType = !res.data.type_tags ? [] : res.data.type_tags\r\n\t\t\t\t\t\tconsole.log(this.selectType, \"selectType\")\r\n\t\t\t\t\t\tfor (let m = 0; m < this.selectType.length; m++) {\r\n\t\t\t\t\t\t\tfor (let n = 0; n < _this.selectType[m].tags.length; n++) {\r\n\t\t\t\t\t\t\t\t_this.seleTypeIds.push(_this.selectType[m].tags[n].id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.showWanner = true\r\n\t\t\t\t\t\tthis.age = !res.data.age ? \"\" : res.data.age\r\n\t\t\t\t\t\tfor (let i = 0; i < this.gender.length; i++) {\r\n\t\t\t\t\t\t\tif (this.gender[i].text == res.data.gender) {\r\n\t\t\t\t\t\t\t\tthis.currentGender = i\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.cityArr = !res.data.areas ? [] : this.deFormatCity(res.data.areas)\r\n\t\t\t\t\t\tfor (let j = 0; j < this.cityArr.length; j++) {\r\n\t\t\t\t\t\t\tlet k = j + 1\r\n\t\t\t\t\t\t\tlet key = \"city\" + k\r\n\t\t\t\t\t\t\tthis[key] = this.cityArr[j][1].value\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tchooseTag(item, tag) {\r\n\t\t\t\tconsole.log(item, tag, \"item&tag\")\r\n\t\t\t\tlet obj = JSON.parse(JSON.stringify(item))\r\n\t\t\t\tobj.tags = []\r\n\t\t\t\tlet hasObj = false\r\n\t\t\t\tlet objIndex = 0\r\n\t\t\t\tlet len2 = this.selectType.length\r\n\t\t\t\t// 首先判断是否选择过第一层级\r\n\t\t\t\tfor (let k = 0; k < len2; k++) {\r\n\t\t\t\t\tif (obj.id == this.selectType[k].id) {\r\n\t\t\t\t\t\thasObj = true\r\n\t\t\t\t\t\tobjIndex = k\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (hasObj) {\r\n\t\t\t\t\t// 已经选过该大类,判断tags中是否包含该tag.id\r\n\t\t\t\t\tlet arr = this.selectType[objIndex].tags.filter(el => {\r\n\t\t\t\t\t\treturn el.id == tag.id\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (JSON.stringify(arr) == \"[]\") {\r\n\t\t\t\t\t\tthis.selectType[objIndex].tags.push(tag)\r\n\t\t\t\t\t} else if (arr.length > 0) {\r\n\t\t\t\t\t\t// 包含该tag.id\r\n\t\t\t\t\t\tthis.selectType[objIndex].tags = this.selectType[objIndex].tags.filter(el => {\r\n\t\t\t\t\t\t\treturn el.id != tag.id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 无该大类\r\n\t\t\t\t\tobj.tags.push(tag)\r\n\t\t\t\t\tthis.selectType.push(JSON.parse(JSON.stringify(obj)))\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.seleTypeIds, this.seleTypeIds.indexOf(tag.id))\r\n\t\t\t\tif (this.seleTypeIds.indexOf(tag.id) != -1) {\r\n\t\t\t\t\tthis.seleTypeIds.splice(this.seleTypeIds.indexOf(tag.id), 1)\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.seleTypeIds.push(tag.id)\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectType = this.selectType.filter(el => {\r\n\t\t\t\t\treturn JSON.stringify(el.tags) != \"[]\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnoPosition() {\r\n\t\t\t\tthis.showReAuth = false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.inputing {\r\n\t\tposition: fixed;\r\n\t\t// top: 50%;\r\n\t\t// left: 50%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 100;\r\n\t\tbackground: rgba(0, 0, 0, .5);\r\n\r\n\t\timage {\r\n\t\t\twidth: 80%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t}\r\n\t}\r\n\r\n\t::-webkit-input-placeholder {\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 27rpx;\r\n\t\tcolor: #9E9E9E;\r\n\t}\r\n\r\n\t::v-deep {\r\n\r\n\t\t.input-value-border,\r\n\t\t.input-value {\r\n\t\t\tborder: none !important;\r\n\t\t\theight: 84rpx !important;\r\n\t\t\tfont-size: 28rpx !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.body {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx 50rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.body_box {\r\n\t\t\tmargin-bottom: 58rpx;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 29rpx;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tpadding-left: 16rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tfont-weight: 600;\r\n\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\twidth: 8rpx;\r\n\t\t\t\t\theight: 27rpx;\r\n\t\t\t\t\tbackground: #216FF9;\r\n\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.info {\r\n\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t.tit {\r\n\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\tcolor: #5A5A5A;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.line {\r\n\t\t\t\t\theight: 84rpx;\r\n\t\t\t\t\tline-height: 84rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tborder-bottom: 2rpx dashed #DFDFDF;\r\n\r\n\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.text {\r\n\t\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.input_wrap {\r\n\t\t\t\t\tbackground: #F9F9F9;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tpadding: 0 40rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tmargin-top: 8rpx;\r\n\r\n\t\t\t\t\tinput {\r\n\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.line {\r\n\t\t\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t\t\t.tit {\r\n\t\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #5a5a5a;\r\n\t\t\t\t\t\t\tmargin-bottom: 0;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.wrap {\r\n\t\t\t\t\t\t\twidth: calc(100% - 120rpx);\r\n\t\t\t\t\t\t\tbackground: #F9F9F9;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.input_line {\r\n\t\t\t\t\tmargin-bottom: 38rpx;\r\n\r\n\t\t\t\t\t.subtit {\r\n\t\t\t\t\t\theight: 58rpx;\r\n\t\t\t\t\t\tline-height: 58rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: rgba(33, 111, 249, 0.2);\r\n\t\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\tcolor: #216FF9;\r\n\t\t\t\t\t\tmargin-bottom: 19rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.item_wrap {\r\n\t\t\t\t\t\tfont-size: 14px;\r\n\r\n\r\n\t\t\t\t\t\t.item {\r\n\r\n\r\n\t\t\t\t\t\t\t.tit {\r\n\t\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.tags {\r\n\t\t\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.tag {\r\n\t\t\t\t\t\t\theight: 65rpx;\r\n\t\t\t\t\t\t\tline-height: 65rpx;\r\n\t\t\t\t\t\t\twidth: calc(32% - 6rpx);\r\n\t\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t\t\tbackground: #F9F9F9;\r\n\t\t\t\t\t\t\tborder: 2rpx solid #F9F9F9;\r\n\t\t\t\t\t\t\tmargin: 0rpx 2% 20rpx 0;\r\n\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\tfont-size: 23rpx;\r\n\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\t\t\t\t&:nth-child(3n) {\r\n\t\t\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\t\twidth: 38rpx;\r\n\t\t\t\t\t\t\t\theight: 38rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.active {\r\n\t\t\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\t\t\tborder: 2rpx solid #216FF9;\r\n\t\t\t\t\t\t\t\tcolor: #216FF9;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.labels {\r\n\t\t\t\t\t\tmargin-top: 8rpx;\r\n\r\n\t\t\t\t\t\t.label {\r\n\t\t\t\t\t\t\twidth: 30%;\r\n\t\t\t\t\t\t\theight: 85rpx;\r\n\t\t\t\t\t\t\tline-height: 85rpx;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tbackground: #F9F9F9;\r\n\t\t\t\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\tborder: 2rpx solid #F9F9F9;\r\n\r\n\t\t\t\t\t\t\t&.active {\r\n\t\t\t\t\t\t\t\tborder: 2rpx solid #216FF9;\r\n\t\t\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\t\t\tcolor: #216FF9;\r\n\t\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.active::after {\r\n\t\t\t\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\t\t\t\twidth: 38rpx;\r\n\t\t\t\t\t\t\t\theight: 38rpx;\r\n\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\t\tbackground: url($back-ground-url+\"/worker/ic_work_sele_1.png\") no-repeat;\r\n\t\t\t\t\t\t\t\tbackground-size: 100% 100%;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.input_wrap {\r\n\t\t\t\t\t\tbackground: #F9F9F9;\r\n\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\tpadding: 0 40rpx;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\tmargin-top: 8rpx;\r\n\r\n\r\n\t\t\t\t\t\t.arrow {\r\n\t\t\t\t\t\t\twidth: 13rpx;\r\n\t\t\t\t\t\t\theight: 23rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.city {\r\n\t\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinput {\r\n\t\t\t\t\t\t\theight: 84rpx;\r\n\t\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.ai_inner {\r\n\t\toverflow: scroll;\r\n\t}\r\n\r\n\t.ai_icon {\r\n\t\tposition: fixed;\r\n\t\tbottom: 25%;\r\n\t\tright: 10rpx;\r\n\t\tz-index: 100;\r\n\r\n\t\timage {\r\n\t\t\twidth: 120rpx;\r\n\t\t\t// height: 90rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.ai_chat {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, .6);\r\n\t\tz-index: 105;\r\n\r\n\t\t.auth {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbackground: #fff;\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 48%;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbackground: #f6f6f6;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.sure {\r\n\t\t\t\tbackground: $base-color;\r\n\t\t\t\tborder: 1px solid $base-color;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.ai_inner {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 80%;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-top-left-radius: 16rpx;\r\n\t\t\tborder-top-right-radius: 16rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\tbottom: 0;\r\n\r\n\t\t\t.full_header {\r\n\t\t\t\tbackground: url($back-ground-url+\"/worker/top_header_bg.png\") no-repeat;\r\n\t\t\t\tbackground-size: cover;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.back {\r\n\t\tpadding: 0 40rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-bottom: 1px solid #f6f6f6;\r\n\r\n\t\t.btn {\r\n\t\t\tfont-weight: 600;\r\n\r\n\t\t\t&.cancel {\r\n\t\t\t\tcolor: #5a5a5a;\r\n\t\t\t}\r\n\r\n\t\t\t&.finish {\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&>image {\r\n\r\n\t\t\ttransform: rotate(180deg);\r\n\t\t}\r\n\r\n\t\timage {\r\n\t\t\twidth: 20px;\r\n\t\t\theight: 20px;\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\timage {\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t.ques_wrap {\r\n\t\twidth: calc(100% - 80rpx);\r\n\t\tmax-width: 700px;\r\n\t\tborder: 1px solid $base-color;\r\n\t\t// border-bottom: 1px solid #04babe;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding: 0 16rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.input {\r\n\t\t\theight: 100%;\r\n\r\n\t\t\tinput {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 100%;\r\n\t\t\t}\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 30px;\r\n\t\t\t\theight: 30px;\r\n\t\t\t}\r\n\r\n\t\t\t.imgs {\r\n\t\t\t\timage {\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t\t\t&:nth-child(2) {\r\n\t\t\t\t\t\twidth: 26px;\r\n\t\t\t\t\t\theight: 26px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.chat_wrap {\r\n\t\tpadding: 40rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.list {\r\n\t\t\t// padding: 30rpx;\r\n\r\n\t\t\t.qa_item {\r\n\t\t\t\t.line {\r\n\t\t\t\t\tmargin-top: 41rpx;\r\n\t\t\t\t\ttext-align: right;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.inline_box {\r\n\t\t\t\t\t\twidth: 80%;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t\t\t\theight: 90rpx;\r\n\t\t\t\t\t\t\tvertical-align: top;\r\n\t\t\t\t\t\t\tmargin-left: 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.cont {\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\tmax-width: calc(100% - 110rpx);\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\tline-height: 50rpx;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t\tfont-family: \"微软雅黑\";\r\n\t\t\t\t\t\t\tbackground: #106afa;\r\n\t\t\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t\t\t.wanner {\r\n\t\t\t\t\t\t\t\tbackground: $base-color;\r\n\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t// padding: 5rpx 15rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\t\tline-height: 70rpx;\r\n\t\t\t\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\r\n\t\t\t\t\t\t\t\t&.bind {\r\n\t\t\t\t\t\t\t\t\tbackground: #05b605;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.detail {\r\n\t\t\t\t\t\t\t\t.tit {\r\n\t\t\t\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.de_line {\r\n\t\t\t\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\t\t\t\talign-items: start;\r\n\r\n\t\t\t\t\t\t\t\t\t.subtit {\r\n\t\t\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.btns {\r\n\t\t\t\t\t\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t\t\t\t\t\t.btn {\r\n\t\t\t\t\t\t\t\t\t\twidth: 48%;\r\n\t\t\t\t\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\t\t\t\tline-height: 70rpx;\r\n\t\t\t\t\t\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\r\n\t\t\t\t\t\t\t\t\t\t&.no {\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t&.sign {\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: $base-color;\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.list {\r\n\t\t\t\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t\t\t\t\t\t.tips {\r\n\t\t\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t\t\t\tpadding-top: 16rpx;\r\n\t\t\t\t\t\t\t\t\t// align-items: start;\r\n\r\n\t\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.item {\r\n\t\t\t\t\t\t\t\t\t// margin-bottom: 20rpx;\r\n\t\t\t\t\t\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\t\t\t\t\t\tborder-bottom: 1px solid #f1f1f1;\r\n\r\n\t\t\t\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\t\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.left {\r\n\t\t\t\t\t\t.inline_box {\r\n\t\t\t\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\t\t\t\talign-items: start;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttext-align: left;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.cont {\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tbackground: #e6e6e6;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.right {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: flex-end;\r\n\r\n\t\t\t\t\t\t.inline_box {\r\n\t\t\t\t\t\t\talign-items: start;\r\n\t\t\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ai_chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ai_chat.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1719882714265\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}