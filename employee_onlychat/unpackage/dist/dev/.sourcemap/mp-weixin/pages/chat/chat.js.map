{"version":3,"sources":["uni-app:///main.js","webpack:///E:/项目文件/langeng5.11/release/employee_onlychat/pages/chat/chat.vue?7ef6","webpack:///E:/项目文件/langeng5.11/release/employee_onlychat/pages/chat/chat.vue?f865","webpack:///E:/项目文件/langeng5.11/release/employee_onlychat/pages/chat/chat.vue?1adf","webpack:///E:/项目文件/langeng5.11/release/employee_onlychat/pages/chat/chat.vue?83a5","uni-app:///pages/chat/chat.vue","webpack:///E:/项目文件/langeng5.11/release/employee_onlychat/pages/chat/chat.vue?c062","webpack:///E:/项目文件/langeng5.11/release/employee_onlychat/pages/chat/chat.vue?5f81"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","showLogin","historyId","loadAllHistory","showReAuth","imgUrl","scrollView","gender","value","text","currentGender","age","ques","hold","qaList","socketOpen","socketMsgQueue","answerMsg","canSend","placeHolder","qaListLen","historyList","appInfo","scroll","chatShareId","timeShareId","header","sid","connected","connecting","socketTask","num","curStrIndex","curText","marginTop","tabMargin","scrollHeight","scrollHeight2","subTabHeight","showVoice","showRecord","showChat","showFullScreen","showWanner","cityData","city1","city2","city3","cityArr","typeTags","seleTypeIds","selectType","open_id","getPhoneData","showInputing","recordContent","enableSpeeking","timer","currentSiging","showSetting","openid","startPoint","cancelRecord","titleHeight","showAnswering","inputHeight","recordSecond","secondText","secondTimer","cancelIconLeft","cancelIconRight","cancelIconBottom","cancelIconTop","onShareAppMessage","title","content","path","imageUrl","onShareTimeline","onLoad","_this","menuButtonInfo","uni","console","onUnload","mounted","methods","getOpenId","success","code","url","key","resolve","fail","getIconPosition","query","keyboardHeightChange","inputBindFocus","startCount","clearInterval","duration","icon","handleTouchMove","back","closeLogin","openSetting","complete","initRecord","manager","origin","errMsg","startRecord","lang","stopRecord","chooseWork","showAichat","scope","openSeepking","closeAichat","toInput","toVoice","doSend","e","getLocation","legal","showCancel","getHistory","getMoreHistory","toScroll","getDetail","sendQuestion","genderChange","onchange1","onchange2","onchange3","sureCity","wannerCity","hasSimpleCity","hasSimple","getCitys","creatConnect","method","toSign","sureSign","connect","source","resetData","noInput","formatResultStr","speeking","plugin","dataUrl","send","close","dislike","type","cancel","formatCity","id","name","newObj","newArrItem","newArr","deFormatCity","finishSele","postMsg","addWanner","chooseTag","obj","hasObj","objIndex","noPosition"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAA+nB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC0HnpB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJA;AACA;AAIA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;QACAD;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAJ;MACAC;MACAC;MACAC;IACA;EACA;EACAE;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACAC;cACA,wGACA9C;cACA;cAAA;cAAA,OACA;YAAA;cAAA;cACA+C;cACA;cACAC;gBACAC;gBACA;kBACA;gBACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;EAAA,CACA;EACAC;IACAC;MAAA;MACA;MACA;QACAL;UACAM;YACAL;YACA;cACA;cACA;gBACAM;cACA;cAEAC;cASA;gBACA;kBACAR;oBACAS;oBACA3F;kBACA;kBACA4F;gBACA;cACA;YACA;UACA;UACAC;YACAV;YACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAW;MACA;MACA;MACAC;QACAZ;QACA;UACAA;UACAH;UACAA;UACAA;UACAA;QACA;MACA;IAEA;IACAgB;MACAb;IACA;IACAc;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACAlB;UACA;YACAA;UACA;YACAA;UACA;QACA;UACAmB;UACAjB;YACAR;YACA0B;YACAC;UACA;UACArB;QACA;MACA;IACA;IACAsB;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA,yGACA;MACA,wGACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACArB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAsB;MACA;IACA;IACAC;MACA;MACAvB;QACAM;UACAL;UACA;YACA;YACAH;YACA;UACA;QACA;QACAa;UACAV;QACA;QACAuB;UACA;QACA;MACA;IACA;IACAC;MAAA;MACAC;QACA;QACA;QACA;QACA;MACA;MACA;MACAA;QACA;MACA;;MAEA;MACAA;QACA1B;QACA;QACA;QACA;UACAP;UACAkC;QACA;QACA1B;QACAA;QACA;QACA;QACAgB;QACA;UACA;QACA;UACA;QACA;MAEA;MACA;MACAS;QACAzB;QACA;QACA;QACA;QACA;QACAgB;QACAjB;QACA;QACA;UACA;YACA4B;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;UACA;YACAA;YACA;QAAA;;QAGA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACAH;QACAR;QACAY;MACA;IAEA;IACAC;MACAd;MACA;MACA;QACAjB;UACAR;QACA;MAEA;MACAkC;IACA;IACAM;MACA/B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAgC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBACA;gBACAnC;gBACAE;kBACAkC;kBACA5B;oBACAL;kBACA;kBACAU;oBACAb;oBACAG;kBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACAkC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA3H;MACA;IACA;IACA4H;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;QACA;QACA;UACA;UACA;UACA;UACAC;QACA;MACA;IACA;IACAC;MACA;MACAzC;QACAM;UACAR;QACA;QACAa;UACAV;QACA;MACA;IACA;IACAyC;MACA;QACA;UACA1C;YACAR;YACAmD;UACA;QACA;MACA;IAEA;IACAC;MACA;MACA;QACA;QACA9C;UACA;YACA;YACA;YACA;cACAA;YACA;YACAY;UACA;QACA;MACA;IAEA;IACAmC;MAAA;MACA;QACA;QACA;UACA;YACA;YACA;YACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;QACA7C;UACAR;UACA2B;UACAD;QACA;MACA;IAEA;IACA4B;MACA;MACA;QACA7C;QACA;UACA;UACA;YACAH;UACA;QAEA;UACA;UACAA;UACA;UACA;QACA;;QACAG;MACA;IACA;IACA8C;MACA;QACAtD;QACAkC;MACA;MACA;IAEA;IACAqB;MACA;MACAlD;MACA;QACAE;UACAmB;UACA3B;QACA;MACA;QACA;QACA;UAEA;UACA;YACAC;YACAkC;UACA;UACA;QACA;MACA;IACA;IACAsB;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACAlD;YACAR;YACA2B;YACAD;UACA;UACA;UACA;QACA;MACA;MACA;IAEA;IACAiC;MACA;QACA;UACAnD;YACAR;YACA2B;YACAD;UACA;UACA;UACA;QACA;MACA;MAEA;IACA;IACAkC;MACA;QACA;UACApD;YACAR;YACA2B;YACAD;UACA;UACA;UACA;QACA;MACA;MACA;IACA;IACAmC;MACA;QACA;MACA;MACA;MACA;MACA;QACAC;MACA;MACAA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;UACA;YACAC;UACA;QACA;MAEA;MACA;IAEA;IACAC;MAAA;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;MACAzD;MACA;QACAO;QACAhE;UACA;UACA;UACA;QACA;QACAmH;QACArD;UACA;QAAA,CACA;QACAK;UACA;QAAA;MAEA;MACA;MACAV;IACA;IACA2D;MACA;MACA;MACA;QACA5D;UACAR;UACAc;YACA;cACAR;YACA;UACA;QACA;MACA;QACAA;MACA;IACA;IACA+D;MAAA;MACA;MACA;QAAA;UAAA;YAAA;cAAA;gBAAA;kBACA;oBACA7D;sBACAR;sBACA0B;oBACA;oBACA;oBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACA4C;MAAA;MACA;MACA;QACA;QACA;QACA;QAEA7D;MACA;MACA;QACA;QACA;QACA;QACAD;QACA;QACA;QACA;QACA;QACAC;QACA;MACA;MACA;QACA;QACAD;QACAF;QACAG;QACA;UACAH;UACA;YACAA;UACA;UACA;YACAA;cACAL;cACAsE;YACA;UACA;QACA;UACA/D;YACAR;UACA;QACA;QACA;MACA;MACA;QACAQ;QACA;QACA;QACAC;QACAgB;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MACAhB;IACA;IACA+D;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACAxE;UACAkC;QACA;QACA7B;MACA;IACA;IACAoE;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACAlE;MACAmE;QACAtC;QACArC;QACAa;UACA;YACAL;YACAxF;cACA4J;cACA7E;YACA;UACA;YACAS;UACA;QACA;QACAU;UACAV;QACA;MACA;IACA;IACAqE;MACA;MACA;QACAxJ;QACAwF;UACA;UACA;UACA;UACAR;UAEAG;UACA;YACAH;YACAA;YACAA;YACAA;YACAA;YACAA;YACAA;UACA;QAEA;QACAa;UACAV;QACA;MACA;IACA;IACAsE;MACA;QACA;QACA;MACA;IACA;IACAC;MACAvE;MACA;QACA0B;QACAlC;QACAgF;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA1E;MACA;MACA;MACA;QACA;QACA;UACA;YACA;cACA2E;cACAC;YACA;YACAC;YACAA;YACAC;UACA;QACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;QAEA;QACA;UACA;YACA3J;YACAC;UACA;UACAuJ;UACAA;UACAC;QACA;QACAC;MACA;MACA;IACA;IACAE;MAAA;MACAjF;MACA;MACAkF,kBACA;MACA;MACAA,eACA;MACA;QACA;UACAA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;UACAnF;YACAR;YACA0B;UACA;UACA;UACA;YACAzB;YACAkC;UACA;UACA;QACA;MACA;IAEA;IACAyD;MAAA;MACA;MACA;QACA;UACA;UACA;UACAnF;UACA;YACA;cACAH;YACA;UACA;UACA;UACA;UACA;YACA;cACA;YACA;UACA;UACA;UACA;YACA;YACA;YACA;UAEA;QACA;MACA;IAEA;IACAuF;MACApF;MACA;MACAqF;MACA;MACA;MACA;MACA;MACA;QACA;UACAC;UACAC;QACA;MACA;MACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;UACA;UACA;YACA;UACA;QACA;MACA;QACA;QACAF;QACA;MACA;MACArF;MACA;QACA;MAEA;QACA;MACA;MACA;QACA;MACA;IACA;IACAwF;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/mCA;AAAA;AAAA;AAAA;AAAksC,CAAgB,6lCAAG,EAAC,C;;;;;;;;;;;ACAttC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/chat/chat.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chat/chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat.vue?vue&type=template&id=bf16e7f4&\"\nvar renderjs\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chat/chat.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=bf16e7f4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !_vm.showWanner && !_vm.showReAuth\n      ? _vm.__map(_vm.historyList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g0 = item.content.replace(/\\\\n/g, \"\\n\")\n          return {\n            $orig: $orig,\n            g0: g0,\n          }\n        })\n      : null\n  var l1 =\n    !_vm.showWanner && !_vm.showReAuth\n      ? _vm.__map(_vm.qaList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g1 = item.content.replace(/\\\\n/g, \"\\n\")\n          return {\n            $orig: $orig,\n            g1: g1,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"ai_wrap\">\r\n\t\t<view class=\"ai_chat\">\r\n\t\t\t<view class=\"ai_inner\" :style=\"{height:showFullScreen?'100%':'80%'}\" v-if=\"!showWanner && !showReAuth\">\r\n\t\t\t\t<view class=\"full_header\" :style=\"{height:marginTop+tabMargin+'px'}\" v-if=\"showFullScreen\">\r\n\t\t\t\t\t<view class=\"page_top flex\"\r\n\t\t\t\t\t\t:style=\"{lineHeight:titleHeight+'px',height:titleHeight+'px',bottom:tabMargin+'px'}\">\r\n\t\t\t\t\t\t<view class=\"page_tit\">\r\n\t\t\t\t\t\t\t风铃AI\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t:src=\"enableSpeeking?imgUrl+'/worker/ic_voice_white.png':imgUrl+'/worker/ic_voice_mute_white.png'\"\r\n\t\t\t\t\t\t\tmode=\"widthFix\" @click=\"openSeepking\" style=\"margin-left: 10rpx;\"></image>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 聊天框 -->\r\n\t\t\t\t<scroll-view class=\"chat_wrap\" :scroll-into-view=\"scrollView\"\r\n\t\t\t\t\t:style=\"{height:scrollHeight+'px',marginTop:marginTop+tabMargin+'px'}\" :scroll-y=\"true\"\r\n\t\t\t\t\tid=\"chatwrap\" @scrolltoupper=\"getMoreHistory\">\r\n\t\t\t\t\t<!-- 历史记录 -->\r\n\t\t\t\t\t<view class=\"history list\">\r\n\t\t\t\t\t\t<view class=\"qa_item\" v-for=\"(item,index) in historyList\" :key=\"item.id\" :id=\"'his'+index\">\r\n\t\t\t\t\t\t\t<view class=\"line\" :class=\"item.origin == 'customer'?'right':'left'\">\r\n\t\t\t\t\t\t\t\t<view class=\"inline_box flex\">\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.origin != 'customer'\" :src=\"imgUrl+'/worker/yoyo_avatar.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cont\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{item.content.replace(/\\\\n/g,\"\\n\")}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.origin == 'customer'\" :src=\"imgUrl+'/worker/user_avatar.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" style=\"margin-left:20rpx;margin-right: 0;width:60rpx;\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"list\" id=\"listWrap\">\r\n\t\t\t\t\t\t<view class=\"qa_item\" v-for=\"(item,index) in qaList\" :key=\"item.id\" :id=\"'qa'+index\">\r\n\t\t\t\t\t\t\t<view class=\"line\" :class=\"item.origin == 'customer'?'right':'left'\">\r\n\t\t\t\t\t\t\t\t<view class=\"inline_box flex\">\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.origin != 'customer'\" :src=\"imgUrl+'/worker/yoyo_avatar.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cont\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{item.content.replace(/\\\\n/g,\"\\n\")}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.origin == 'customer'\" :src=\"imgUrl+'/worker/user_avatar.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" style=\"margin-left:20rpx;margin-right: 0;width:60rpx;\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t<view class=\"qa_item\" v-if=\"showAnswering\">\r\n\t\t\t\t\t\t\t\t<view class=\"line left\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"inline_box flex\" style=\"align-items: center;\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/yoyo_avatar.png'\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cont\" style=\"background:transparent;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/answering.gif'\" mode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width:100rpx;\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t<view :id=\"hold\" style=\"height:10rpx;width:100%;\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t<!-- 提问框 -->\r\n\t\t\t\t<view class=\"ques_wrap\" :style=\"{paddingTop:tabMargin+'px',bottom:inputHeight?inputHeight+'px':'auto'}\"\r\n\t\t\t\t\t:class=\"inputHeight?'upper':''\">\r\n\t\t\t\t\t<view class=\"input flex flex_btween\" v-if=\"!showRecord\">\r\n\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/chat_record_icon.png'\" @tap=\"toVoice\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t<view class=\"input_right flex\">\r\n\t\t\t\t\t\t\t<input type=\"text\" :adjust-position=\"false\" :placeholder=\"placeHolder\" v-model=\"ques\"\r\n\t\t\t\t\t\t\t\tconfirm-type=\"send\" @focus=\"inputBindFocus\" @confirm=\"doSend\"\r\n\t\t\t\t\t\t\t\t:style=\"{height:subTabHeight+'px',lineHeight:subTabHeight+'px'}\">\r\n\t\t\t\t\t\t\t<view class=\"confirm_send\" @tap=\"sendQuestion\">发送</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"input flex flex_btween\" v-if=\"showRecord\">\r\n\t\t\t\t\t\t<image :src=\"imgUrl+'/worker/chat_key_icon.png'\" @click=\"toInput\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t<view class=\"btn in_put press\" v-if=\"showSetting\"\r\n\t\t\t\t\t\t\t:style=\"{height:subTabHeight+'px',lineHeight:subTabHeight+'px'}\" @click=\"openSetting\">开启语音权限\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"btn in_put press\" :style=\"{height:subTabHeight+'px',lineHeight:subTabHeight+'px'}\"\r\n\t\t\t\t\t\t\t@touchstart=\"startRecord\" @touchend=\"stopRecord\" @touchmove=\"handleTouchMove\"\r\n\t\t\t\t\t\t\tv-if=\"!showSetting\">\r\n\t\t\t\t\t\t\t按住说话\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"inputing\" v-show=\"showInputing\">\r\n\t\t\t\t<image :src=\"imgUrl+'/worker/inputing.gif'\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text>{{secondText}}</text>\r\n\t\t\t\t<view class=\"bot_bg\">\r\n\t\t\t\t\t<view class=\"text\" v-if=\"cancelRecord\">松开 取消</view>\r\n\t\t\t\t\t<image :src=\"cancelRecord?imgUrl+'/worker/cancel_sure_icon.png':imgUrl+'/worker/cancel_icon.png'\"\r\n\t\t\t\t\t\tmode=\"widthFix\" style=\"width: 140rpx;\" class=\"cancel_icon\"></image>\r\n\t\t\t\t\t<view class=\"text\" :style=\"{opacity:cancelRecord?0:1}\">松开 发送</view>\r\n\t\t\t\t\t<image :src=\"cancelRecord?imgUrl+'/worker/cancel_bot_bg.png':imgUrl+'/worker/input_bot_bg.png'\"\r\n\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"auth flex flex_btween\" v-if=\"showReAuth\">\r\n\t\t\t\t<view class=\"btn no\" @click=\"noPosition\">不开启</view>\r\n\t\t\t\t<view class=\"btn sure\" @click=\"openSetting\">开启定位，推荐适合您的职位</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef MP-WEIXIN\r\n\tconst plugin = requirePlugin(\"WechatSI\")\r\n\tlet manager = plugin.getRecordRecognitionManager()\r\n\t// #endif\r\n\timport urlSetting from \"@/url_setting\";\r\n\timport qqmapsdk from \"@/utils/qqmap-wx-jssdk.min.js\";\r\n\tconst app = getApp();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowLogin: false,\r\n\t\t\t\thistoryId: 0,\r\n\t\t\t\tloadAllHistory: false,\r\n\t\t\t\tshowReAuth: false,\r\n\t\t\t\timgUrl: app.globalData.baseImageUrl,\r\n\t\t\t\tscrollView: \"\",\r\n\t\t\t\tgender: [{\r\n\t\t\t\t\tvalue: \"male\",\r\n\t\t\t\t\ttext: \"男\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: \"female\",\r\n\t\t\t\t\ttext: \"女\"\r\n\t\t\t\t}],\r\n\t\t\t\tcurrentGender: 0,\r\n\t\t\t\tage: \"\",\r\n\t\t\t\tques: \"\",\r\n\t\t\t\thold: \"h1\",\r\n\t\t\t\tqaList: [],\r\n\t\t\t\tsocketOpen: false,\r\n\t\t\t\tsocketMsgQueue: [],\r\n\t\t\t\tanswerMsg: \"\",\r\n\t\t\t\tcanSend: true,\r\n\t\t\t\tplaceHolder: \"想了解什么工作，请告诉我吧\",\r\n\t\t\t\tqaListLen: 0,\r\n\t\t\t\thistoryList: [],\r\n\t\t\t\tappInfo: {},\r\n\t\t\t\tscroll: 0,\r\n\t\t\t\tchatShareId: 0,\r\n\t\t\t\ttimeShareId: 0,\r\n\t\t\t\theader: {},\r\n\t\t\t\tsid: 0,\r\n\t\t\t\tconnected: false,\r\n\t\t\t\tconnecting: false,\r\n\t\t\t\tsocketTask: false,\r\n\t\t\t\tnum: 1,\r\n\t\t\t\tcurStrIndex: 0,\r\n\t\t\t\tcurText: \"\",\r\n\t\t\t\tmarginTop: app.globalData.marginTop,\r\n\t\t\t\ttabMargin: app.globalData.tabMargin,\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tscrollHeight2: 0,\r\n\t\t\t\tsubTabHeight: app.globalData.subTabHeight,\r\n\t\t\t\tshowVoice: false,\r\n\t\t\t\tshowRecord: true,\r\n\t\t\t\tshowChat: false,\r\n\t\t\t\tshowFullScreen: true,\r\n\t\t\t\tshowWanner: false,\r\n\t\t\t\tcityData: [],\r\n\t\t\t\tcity1: \"\",\r\n\t\t\t\tcity2: \"\",\r\n\t\t\t\tcity3: \"\",\r\n\t\t\t\tcityArr: [],\r\n\t\t\t\ttypeTags: [],\r\n\t\t\t\tseleTypeIds: [],\r\n\t\t\t\tselectType: [],\r\n\t\t\t\topen_id: \"\",\r\n\t\t\t\tgetPhoneData: {},\r\n\t\t\t\tshowInputing: false,\r\n\t\t\t\trecordContent: \"\",\r\n\t\t\t\tenableSpeeking: false,\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tcurrentSiging: {},\r\n\t\t\t\tshowSetting: false,\r\n\t\t\t\topenid: \"\",\r\n\t\t\t\tstartPoint: {}, //记录长按录音开始点信息,用于后面计算滑动距离。\r\n\t\t\t\tcancelRecord: false,\r\n\t\t\t\ttitleHeight: 0,\r\n\t\t\t\tshowAnswering: false,\r\n\t\t\t\tinputHeight: 0,\r\n\t\t\t\trecordSecond: 0,\r\n\t\t\t\tsecondText: \"00:00\",\r\n\t\t\t\tsecondTimer: null,\r\n\t\t\t\tcancelIconLeft: 0,\r\n\t\t\t\tcancelIconRight: 0,\r\n\t\t\t\tcancelIconBottom: 0,\r\n\t\t\t\tcancelIconTop: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: \"风铃AI\",\r\n\t\t\t\tcontent: \"海量岗位，等你来\",\r\n\t\t\t\tpath: \"/pages/index/index\",\r\n\t\t\t\timageUrl: app.globalData.baseImageUrl + \"/worker/logo.png\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareTimeline() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: \"风铃AI\",\r\n\t\t\t\tcontent: \"海量岗位，等你来\",\r\n\t\t\t\tpath: \"/pages/index/index\",\r\n\t\t\t\timageUrl: app.globalData.baseImageUrl + \"/worker/logo.png\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad(param) {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.scrollHeight = app.globalData.systemHeight - 4 * this.tabMargin - this.subTabHeight - this\r\n\t\t\t\t.marginTop\r\n\t\t\tthis.scrollHeight2 = app.globalData.systemHeight - 1 * this.subTabHeight\r\n\t\t\tthis.openid = await this.getOpenId()\r\n\t\t\tlet menuButtonInfo = uni.getMenuButtonBoundingClientRect()\r\n\t\t\tthis.titleHeight = menuButtonInfo.height\r\n\t\t\tuni.onKeyboardHeightChange(res => {\r\n\t\t\t\tconsole.log(res.height, \"键盘高度变化\")\r\n\t\t\t\tif (res.height == 0) {\r\n\t\t\t\t\tthis.inputHeight = 0\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.getHistory()\r\n\t\t\tthis.showAichat()\r\n\t\t\t// this.getCitys()\r\n\t\t\t// setTimeout(function() {\r\n\t\t\t// \tif (!_this.showChat) {\r\n\t\t\t// \t\t_this.showAichat()\r\n\t\t\t// \t}\r\n\t\t\t// }, 10000)\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// let _this = this\r\n\t\t\t// clearInterval(_this.timer)\r\n\t\t\tthis.close()\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// this.getIconPosition()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetOpenId() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res, \"dyres\")\r\n\t\t\t\t\t\t\tif (res.errMsg == 'login:ok') {\r\n\t\t\t\t\t\t\t\tlet url = \"\"\r\n\t\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\t\tcode: res.code\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\turl = \"/auth/worker/wechat/mini/openid\"\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\t\t\t\turl = \"/auth/worker/kuaishou/openid\"\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\t\t\turl = \"/auth/worker/douyin/openid\"\r\n\t\t\t\t\t\t\t\tdata.anonymous_code = res.anonymousCode\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\tthis.$request(url, data, \"POST\").then(resp => {\r\n\t\t\t\t\t\t\t\t\tif (resp.code == 0) {\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\t\t\tkey: \"openid\",\r\n\t\t\t\t\t\t\t\t\t\t\tdata: resp.data.open_id\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tresolve(resp.data.open_id)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err, \"接口调用失败\")\r\n\t\t\t\t\t\t\t// uni.showModal({\r\n\t\t\t\t\t\t\t// \ttitle: \"登录失败\",\r\n\t\t\t\t\t\t\t// \tcontent: \"授权登录失败，将无法使用部分功能\",\r\n\t\t\t\t\t\t\t// \tshowCancel: false\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetIconPosition() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(_this);\r\n\t\t\t\tquery.select('.cancel_icon').boundingClientRect(data => {\r\n\t\t\t\t\tconsole.log(\"querydata\", data)\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tconsole.log('元素的位置信息：', data);\r\n\t\t\t\t\t\t_this.cancelIconTop = data.top\r\n\t\t\t\t\t\t_this.cancelIconBottom = data.top + data.width\r\n\t\t\t\t\t\t_this.cancelIconLeft = data.left\r\n\t\t\t\t\t\t_this.cancelIconRight = data.right\r\n\t\t\t\t\t}\r\n\t\t\t\t}).exec();\r\n\r\n\t\t\t},\r\n\t\t\tkeyboardHeightChange(e) {\r\n\t\t\t\tconsole.log(e, \"键盘\")\r\n\t\t\t},\r\n\t\t\tinputBindFocus(e) {\r\n\t\t\t\tif (e.detail.height) {\r\n\t\t\t\t\tthis.inputHeight = e.detail.height //这个高度就是软键盘的高度\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 录音计时\r\n\t\t\tstartCount() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.secondTimer = setInterval(function() {\r\n\t\t\t\t\tif (_this.recordSecond < 60) {\r\n\t\t\t\t\t\t_this.recordSecond++\r\n\t\t\t\t\t\tif (_this.recordSecond < 10) {\r\n\t\t\t\t\t\t\t_this.secondText = \"00:0\" + _this.recordSecond\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.secondText = \"00:\" + _this.recordSecond\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclearInterval(_this.secondTimer)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"最多发送60s\",\r\n\t\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t_this.stopRecord()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\thandleTouchMove(e) {\r\n\t\t\t\t// var moveLenght = e.touches[e.touches.length - 1].clientY - this.startPoint.clientY; //移动距离\r\n\t\t\t\t// if (Math.abs(moveLenght) > 70) {\r\n\t\t\t\t// \tthis.stopRecord()\r\n\t\t\t\t// \tthis.cancelRecord = true\r\n\t\t\t\t// \tconsole.log(\"cancelRecord\", this.cancelRecord)\r\n\t\t\t\t// }\r\n\r\n\t\t\t\tlet exp1 = (e.touches[e.touches.length - 1].clientX > this.cancelIconLeft) && (e.touches[e.touches.length -\r\n\t\t\t\t\t1].clientX < this.cancelIconRight)\r\n\t\t\t\tlet exp2 = (e.touches[e.touches.length - 1].clientY > this.cancelIconTop) && (e.touches[e.touches.length -\r\n\t\t\t\t\t1].clientY < this.cancelIconBottom)\r\n\t\t\t\tif (exp1 && exp2) {\r\n\t\t\t\t\tthis.cancelRecord = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.cancelRecord = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\t// getSetting() {\r\n\t\t\t// \tlet _this = this\r\n\t\t\t// \tuni.getSetting({\r\n\t\t\t// \t\tsuccess(res) {\r\n\t\t\t// \t\t\tconsole.log(res.authSetting, \"getSetting\")\r\n\t\t\t// \t\t\tif (!res.authSetting['scope.userLocation']) {\r\n\t\t\t// \t\t\t\t_this.showReAuth = true\r\n\t\t\t// \t\t\t\tlet data = {\r\n\t\t\t// \t\t\t\t\tcontent: \"\",\r\n\t\t\t// \t\t\t\t\torigin: \"customer\"\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t\t_this.send(data)\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\t_this.getLocation()\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t\t// },\r\n\t\t\tcloseLogin() {\r\n\t\t\t\tthis.showLogin = false\r\n\t\t\t},\r\n\t\t\topenSetting() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.openSetting({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res.authSetting, \"res.authSetting\")\r\n\t\t\t\t\t\tif (res.authSetting['scope.record']) {\r\n\t\t\t\t\t\t\t// _this.showInputing = false\r\n\t\t\t\t\t\t\t_this.showSetting = false\r\n\t\t\t\t\t\t\t// _this.showRecord = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(openErr) {\r\n\t\t\t\t\t\tconsole.log(openErr, 'openerr')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tthis.showReAuth = false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitRecord: function() {\r\n\t\t\t\tmanager.onStart = res => {\r\n\t\t\t\t\tthis.recordContent = \"\"\r\n\t\t\t\t\tthis.showInputing = true\r\n\t\t\t\t\tthis.startCount()\r\n\t\t\t\t\tthis.getIconPosition()\r\n\t\t\t\t};\r\n\t\t\t\t//有新的识别内容返回，则会调用此事件  \r\n\t\t\t\tmanager.onRecognize = (res) => {\r\n\t\t\t\t\tthis.recordContent += res.result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 识别结束事件  \r\n\t\t\t\tmanager.onStop = (res) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.recordContent += res.result;\r\n\t\t\t\t\tthis.showInputing = false\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tcontent: this.recordContent,\r\n\t\t\t\t\t\torigin: \"customer\",\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tconsole.log(this.cancelRecord)\r\n\t\t\t\t\tthis.recordSecond = 0\r\n\t\t\t\t\tthis.secondText = \"00:00\"\r\n\t\t\t\t\tclearInterval(this.secondTimer)\r\n\t\t\t\t\tif (!this.cancelRecord) {\r\n\t\t\t\t\t\tthis.send(data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.cancelRecord = false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// 识别出错\r\n\t\t\t\tmanager.onError = (res) => {\r\n\t\t\t\t\tconsole.log(res, \"err\")\r\n\t\t\t\t\tthis.cancelRecord = false\r\n\t\t\t\t\tthis.showInputing = false\r\n\t\t\t\t\tthis.recordSecond = 0\r\n\t\t\t\t\tthis.secondText = \"00:00\"\r\n\t\t\t\t\tclearInterval(this.secondTimer)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tlet errMsg = \"\"\r\n\t\t\t\t\tswitch (res.retcode) {\r\n\t\t\t\t\t\tcase -30003:\r\n\t\t\t\t\t\t\terrMsg = \"未获取到录音数据，请尽可能提高音量。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -30006:\r\n\t\t\t\t\t\t\terrMsg = \"录音识别超时，请重试。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -30008:\r\n\t\t\t\t\t\t\terrMsg = \"网络链接失败，请重试。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -30004:\r\n\t\t\t\t\t\t\terrMsg = \"未识别到结果，请尽可能提高音量。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase -40001:\r\n\t\t\t\t\t\t\terrMsg = \"达到接口调用频率限制，请联系管理员。\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\terrMsg = \"录音功能出错，请联系管理员。\"\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// uni.showModal({\r\n\t\t\t\t\t// \ttitle: errMsg,\r\n\t\t\t\t\t// \tshowCancel: false\r\n\t\t\t\t\t// })\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstartRecord(e) {\r\n\t\t\t\tthis.startPoint = e.touches[0]; //记录长按时开始点信息，后面用于计算上划取消时手指滑动的距离。\r\n\t\t\t\tthis.showInputing = true\r\n\t\t\t\tthis.cancelRecord = false\r\n\t\t\t\tmanager.start({\r\n\t\t\t\t\tduration: 60000,\r\n\t\t\t\t\tlang: \"zh_CN\"\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tstopRecord: function() {\r\n\t\t\t\tclearInterval(this.secondTimer)\r\n\t\t\t\tthis.showInputing = false\r\n\t\t\t\tif (!this.cancelRecord) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: \"正在取消\"\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t\tmanager.stop();\r\n\t\t\t},\r\n\t\t\tchooseWork(obj, item) {\r\n\t\t\t\tconsole.log(obj, item)\r\n\t\t\t},\r\n\t\t\t// changeScreen() {\r\n\t\t\t// \tthis.showFullScreen = !this.showFullScreen\r\n\t\t\t// \tif (this.showFullScreen) {\r\n\t\t\t// \t\tthis.scrollHeight = app.globalData.systemHeight - 2 * this.subTabHeight -\r\n\t\t\t// \t\t\t2 * this.tabMargin - this.marginTop\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\tthis.scrollHeight = app.globalData.systemHeight * 0.8 - this.tabMargin - 2 * this\r\n\t\t\t// \t\t\t.subTabHeight\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\tasync showAichat() {\r\n\t\t\t\tthis.historyId = 0\r\n\t\t\t\tthis.historyList = []\r\n\t\t\t\tthis.loadAllHistory = false\r\n\t\t\t\tthis.qaList = []\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res, 'success')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t_this.showSetting = true\r\n\t\t\t\t\t\tconsole.log(err, 'err')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.historyList = await this.getHistory()\r\n\t\t\t\tthis.toScroll()\r\n\t\t\t\tthis.creatConnect()\r\n\t\t\t\tthis.initRecord()\r\n\t\t\t\tthis.showChat = true\r\n\r\n\r\n\t\t\t},\r\n\t\t\topenSeepking() {\r\n\t\t\t\tthis.enableSpeeking = !this.enableSpeeking\r\n\t\t\t},\r\n\t\t\tcloseAichat() {\r\n\t\t\t\tthis.showChat = false\r\n\t\t\t\tthis.historyId = 0\r\n\t\t\t\tthis.enableSpeeking = false\r\n\t\t\t\twx.stopBackgroundAudio()\r\n\t\t\t\tthis.close()\r\n\t\t\t},\r\n\t\t\ttoInput() {\r\n\t\t\t\tthis.showRecord = false\r\n\t\t\t},\r\n\t\t\ttoVoice() {\r\n\t\t\t\tthis.showRecord = true\r\n\t\t\t},\r\n\t\t\tdoSend(e, text) {\r\n\t\t\t\t// console.log(text);\r\n\t\t\t\tif (e.ctrlKey && e.keyCode === 13) {\r\n\t\t\t\t\t//用户点击了ctrl+enter触发\r\n\t\t\t\t\tthis.ques += '\\n';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//用户点击了enter触发    执行一些逻辑方法\r\n\t\t\t\t\tif (e !== undefined) {\r\n\t\t\t\t\t\t//发送消息的方法\r\n\t\t\t\t\t\tthis.sendQuestion();\r\n\t\t\t\t\t\t// 阻止浏览器默认的敲击回车换行的方法\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetLocation() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t_this.reverseGeocodingClick(res.latitude, res.longitude)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.error('定位失败', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlegal() {\r\n\t\t\t\tif (this.age) {\r\n\t\t\t\t\tif (!Number(this.age)) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"输入不合法，请输入大于18的数字。\",\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tgetHistory() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tlet url = \"/ai/chat/histories?id=\" + _this.historyId\r\n\t\t\t\t\t_this.$request(url).then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tlet newArr = res.data.reverse()\r\n\t\t\t\t\t\t\tlet len = res.data.length\r\n\t\t\t\t\t\t\tif (len > 0) {\r\n\t\t\t\t\t\t\t\t_this.historyId = res.data[0].id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresolve(newArr)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tgetMoreHistory() {\r\n\t\t\t\tif (!this.loadAllHistory) {\r\n\t\t\t\t\tlet url = \"/ai/chat/histories?id=\" + this.historyId\r\n\t\t\t\t\tthis.$request(url).then(res => {\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tthis.historyList = res.data.reverse().concat(this.historyList)\r\n\t\t\t\t\t\t\tlet len = res.data.length\r\n\t\t\t\t\t\t\tif (len > 0) {\r\n\t\t\t\t\t\t\t\tthis.historyId = res.data[0].id\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.loadAllHistory = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已加载全部\",\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\ttoScroll() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tconsole.log(123)\r\n\t\t\t\t\tif (_this.qaList.length == 0) {\r\n\t\t\t\t\t\tvar num = _this.historyList.length - 1;\r\n\t\t\t\t\t\tif (num >= 0) {\r\n\t\t\t\t\t\t\t_this.scrollView = \"his\" + num\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar num2 = _this.qaList.length - 1;\r\n\t\t\t\t\t\t_this.scrollView = \"qa\" + num2\r\n\t\t\t\t\t\t// this.scrollView = this.hold\r\n\t\t\t\t\t\t// console.log(this.scrollView)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(_this.scrollView, \"scrollView\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDetail(item) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tcontent: item,\r\n\t\t\t\t\torigin: \"customer\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.send(data)\r\n\r\n\t\t\t},\r\n\t\t\tsendQuestion() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t_this.curStrIndex = 0;\r\n\t\t\t\tif (!this.ques) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"想了解什么工作，请告诉我吧\"\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.inputHeight = 0\r\n\t\t\t\t\tif (this.canSend) {\r\n\r\n\t\t\t\t\t\tthis.canSend = false;\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\tcontent: this.ques,\r\n\t\t\t\t\t\t\torigin: \"customer\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.send(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgenderChange(e) {\r\n\t\t\t\tfor (let i = 0; i < this.gender.length; i++) {\r\n\t\t\t\t\tif (this.gender[i].value == e.detail.value) {\r\n\t\t\t\t\t\tthis.currentGender = i\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonchange1(e) {\r\n\t\t\t\tif (e.detail.value.length) {\r\n\t\t\t\t\tif (this.hasSimpleCity(e.detail.value[1].value)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"该城市已选择\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.$refs.pickerOne.clear()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.cityArr[0] = e.detail.value\r\n\r\n\t\t\t},\r\n\t\t\tonchange2(e) {\r\n\t\t\t\tif (e.detail.value.length) {\r\n\t\t\t\t\tif (this.hasSimpleCity(e.detail.value[1].value)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"该城市已选择\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.$refs.pickerTwo.clear()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.cityArr[1] = e.detail.value\r\n\t\t\t},\r\n\t\t\tonchange3(e) {\r\n\t\t\t\tif (e.detail.value.length) {\r\n\t\t\t\t\tif (this.hasSimpleCity(e.detail.value[1].value)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"该城市已选择\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.$refs.pickerThree.clear()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.cityArr[2] = e.detail.value\r\n\t\t\t},\r\n\t\t\tsureCity() {\r\n\t\t\t\tlet newCityArr = this.cityArr.filter(el => {\r\n\t\t\t\t\treturn el.length > 0\r\n\t\t\t\t})\r\n\t\t\t\tlet wannerCity = \"\"\r\n\t\t\t\tlet len = newCityArr.length\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\twannerCity += newCityArr[i][1].text + \"、\"\r\n\t\t\t\t}\r\n\t\t\t\twannerCity = wannerCity.slice(0, wannerCity.length - 1)\r\n\t\t\t\treturn wannerCity\r\n\t\t\t},\r\n\t\t\thasSimpleCity(value) {\r\n\t\t\t\t// 对比二级城市id是否有相同\r\n\t\t\t\tlet len = this.cityArr.length\r\n\t\t\t\tlet hasSimple = false\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tif (this.cityArr[i] && this.cityArr[i].length > 0) {\r\n\t\t\t\t\t\tif (value == this.cityArr[i][1].value) {\r\n\t\t\t\t\t\t\thasSimple = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn hasSimple\r\n\r\n\t\t\t},\r\n\t\t\tgetCitys() {\r\n\t\t\t\tthis.$request(\"/common/areas\").then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.cityData = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcreatConnect() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tif (this.connected || this.connecting) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tthis.connecting = true\r\n\t\t\t\tconsole.log(app.globalData.wssUrl, \"wss\")\r\n\t\t\t\tthis.socketTask = uni.connectSocket({\r\n\t\t\t\t\turl: app.globalData.wssUrl,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t\t\t\"app-id\": urlSetting.urls.appid,\r\n\t\t\t\t\t\t\"open-id\": uni.getStorageSync(\"openid\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// 这里是接口调用成功的回调，不是连接成功的回调，请注意\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t// 这里是接口调用失败的回调，不是连接失败的回调，请注意\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.connect()\r\n\t\t\t\tconsole.log(this.socketTask, \"socketTask\");\r\n\t\t\t},\r\n\t\t\ttoSign(item) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.currentSiging = item\r\n\t\t\t\tif (this.isLogin()) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"正在报名\",\r\n\t\t\t\t\t\tsuccess(resp) {\r\n\t\t\t\t\t\t\tif (resp.confirm) {\r\n\t\t\t\t\t\t\t\t_this.sureSign(item.content.id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.showLogin = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsureSign(id) {\r\n\t\t\t\tlet url = \"/worker/accept/project/\" + id\r\n\t\t\t\tthis.$request(url, {}, \"POST\").then(async res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"报名成功\",\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.signed = true\r\n\t\t\t\t\t\tthis.closeLogin()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconnect() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.socketTask.onOpen((res) => {\r\n\t\t\t\t\tthis.connecting = false\r\n\t\t\t\t\tthis.connected = true\r\n\t\t\t\t\tthis.noInput()\r\n\r\n\t\t\t\t\tconsole.log('onOpen', res);\r\n\t\t\t\t})\r\n\t\t\t\tthis.socketTask.onError((err) => {\r\n\t\t\t\t\tthis.connecting = false\r\n\t\t\t\t\tthis.connected = false\r\n\t\t\t\t\tthis.canSend = true\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t// uni.showModal({\r\n\t\t\t\t\t// \tcontent: '连接失败，请稍后再试',\r\n\t\t\t\t\t// \tshowCancel: false\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tconsole.log('onError', err);\r\n\t\t\t\t\tthis.creatConnect()\r\n\t\t\t\t})\r\n\t\t\t\tthis.socketTask.onMessage((res) => {\r\n\t\t\t\t\tlet respone = JSON.parse(res.data)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t_this.showAnswering = false\r\n\t\t\t\t\tconsole.log(respone, \"respone\")\r\n\t\t\t\t\tif (respone.code == 0) {\r\n\t\t\t\t\t\t_this.toScroll();\r\n\t\t\t\t\t\tif (_this.enableSpeeking && respone.data.content != \"pong\") {\r\n\t\t\t\t\t\t\t_this.formatResultStr(respone.data.content)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (respone.data.content != \"pong\") {\r\n\t\t\t\t\t\t\t_this.qaList.push({\r\n\t\t\t\t\t\t\t\tcontent: respone.data.content,\r\n\t\t\t\t\t\t\t\tsource: \"system\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: respone.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.resetData()\r\n\t\t\t\t})\r\n\t\t\t\tthis.socketTask.onClose((res) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.connected = false\r\n\t\t\t\t\tthis.socketTask = false\r\n\t\t\t\t\tconsole.log('onClose', res)\r\n\t\t\t\t\tclearInterval(_this.timer)\r\n\t\t\t\t\tthis.creatConnect()\r\n\t\t\t\t\t// let data = {\r\n\t\t\t\t\t// \tcontent: \"链接已关闭，如需重新对话，请重新打开窗口。\",\r\n\t\t\t\t\t// \torigin: \"system\",\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// this.qaList.push(data)\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log('task', this.socketTask)\r\n\t\t\t},\r\n\t\t\tresetData() {\r\n\t\t\t\tthis.canSend = true\r\n\t\t\t\tthis.placeHolder = \"想了解什么工作，请告诉我吧\"\r\n\t\t\t\tthis.cancelRecord = false\r\n\t\t\t},\r\n\t\t\t// 间隔一定时间判断用户是否没有输入\r\n\t\t\tnoInput() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.timer = setInterval(function() {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tcontent: \"ping\",\r\n\t\t\t\t\t\torigin: \"customer\",\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.send(data)\r\n\t\t\t\t}, 10000)\r\n\t\t\t},\r\n\t\t\tformatResultStr(str) {\r\n\t\t\t\t// let len = data.length\r\n\t\t\t\t// let str = \"\"\r\n\t\t\t\t// for (let i = 0; i < len; i++) {\r\n\t\t\t\t// \tif (data[i].type == \"str\" || data[i].type == \"remind_resume\") {\r\n\t\t\t\t// \t\tstr += data[i].content\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tif (data[i].type == \"job_recommend\" || data[i].type == \"hot_job\") {\r\n\t\t\t\t// \t\tlet conLen = data[i].content.length\r\n\t\t\t\t// \t\tfor (let j = 0; j < conLen; j++) {\r\n\t\t\t\t// \t\t\tstr += data[i].content[j].name\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tif (data[i].type == \"job_detail\") {\r\n\t\t\t\t// \t\tfor (key in data[i].content) {\r\n\t\t\t\t// \t\t\tstr += data[i].content[key]\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\tif (str) {\r\n\t\t\t\t\tthis.speeking(str)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspeeking(str) {\r\n\t\t\t\tconsole.log(str, \"播报内容\")\r\n\t\t\t\tplugin.textToSpeech({\r\n\t\t\t\t\tlang: \"zh_CN\",\r\n\t\t\t\t\tcontent: str,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.retcode == 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"result\", res.result)\r\n\t\t\t\t\t\t\twx.playBackgroundAudio({\r\n\t\t\t\t\t\t\t\tdataUrl: res.filename,\r\n\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.warn(\"翻译失败\", res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(\"网络失败\", res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsend(data) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.socketTask.send({\r\n\t\t\t\t\tdata: JSON.stringify(data),\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// uni.showLoading({\r\n\t\t\t\t\t\t// \ttitle: \"思考中，请稍后...\"\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t_this.showAnswering = true\r\n\r\n\t\t\t\t\t\tconsole.log(data, \"data\")\r\n\t\t\t\t\t\tif (data.content != \"ping\") {\r\n\t\t\t\t\t\t\t_this.qaList.push(data)\r\n\t\t\t\t\t\t\t_this.num++\r\n\t\t\t\t\t\t\t_this.hold = \"h\" + _this.num\r\n\t\t\t\t\t\t\t_this.toScroll()\r\n\t\t\t\t\t\t\t_this.ques = \"\";\r\n\t\t\t\t\t\t\t_this.placeHolder = \"正在回答中，请稍后...\"\r\n\t\t\t\t\t\t\t_this.qaListLen = _this.qaList.length\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tif (this.socketTask && this.socketTask.close) {\r\n\t\t\t\t\t// this.send('{\"type\":\"close\"}');\r\n\t\t\t\t\tthis.socketTask.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdislike(content) {\r\n\t\t\t\tconsole.log(content, \"content\")\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\torigin: \"customer\",\r\n\t\t\t\t\tcontent: \"不喜欢\",\r\n\t\t\t\t\ttype: \"str\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.send(data)\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.showWanner = false\r\n\t\t\t\tthis.toScroll()\r\n\t\t\t},\r\n\t\t\tformatCity() {\r\n\t\t\t\tconsole.log(this.cityArr)\r\n\t\t\t\tlet len = this.cityArr.length\r\n\t\t\t\tlet newArr = []\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tlet newArrItem = []\r\n\t\t\t\t\tif (this.cityArr[i] && this.cityArr[i].length) {\r\n\t\t\t\t\t\tfor (let j = 0; j < this.cityArr[i].length; j++) {\r\n\t\t\t\t\t\t\tlet newObj = {\r\n\t\t\t\t\t\t\t\tid: \"\",\r\n\t\t\t\t\t\t\t\tname: \"\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnewObj.id = this.cityArr[i][j].value\r\n\t\t\t\t\t\t\tnewObj.name = this.cityArr[i][j].text\r\n\t\t\t\t\t\t\tnewArrItem.push(JSON.parse(JSON.stringify(newObj)))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (newArrItem.length) {\r\n\t\t\t\t\t\tnewArr.push(JSON.parse(JSON.stringify(newArrItem)))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn newArr\r\n\t\t\t},\r\n\t\t\tdeFormatCity(arr) {\r\n\t\t\t\tlet len = arr.length\r\n\t\t\t\tlet newArr = []\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tlet index = i + 1\r\n\t\t\t\t\tlet param = \"city\" + index\r\n\t\t\t\t\tthis[param] = arr[i][1].id\r\n\r\n\t\t\t\t\tlet newArrItem = []\r\n\t\t\t\t\tfor (let j = 0; j < arr[i].length; j++) {\r\n\t\t\t\t\t\tlet newObj = {\r\n\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewObj.value = arr[i][j].id\r\n\t\t\t\t\t\tnewObj.text = arr[i][j].name\r\n\t\t\t\t\t\tnewArrItem.push(JSON.parse(JSON.stringify(newObj)))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewArr.push(JSON.parse(JSON.stringify(newArrItem)))\r\n\t\t\t\t}\r\n\t\t\t\treturn newArr\r\n\t\t\t},\r\n\t\t\tfinishSele() {\r\n\t\t\t\tconsole.log(this.selectType, \"selectType\")\r\n\t\t\t\tlet postMsg = this.gender[this.currentGender].text + \",\" + this.age + \",\"\r\n\t\t\t\tpostMsg += `\r\n` + this.sureCity()\r\n\t\t\t\tlet typeLen = this.selectType.length\r\n\t\t\t\tpostMsg += `\r\n`\r\n\t\t\t\tfor (let j = 0; j < typeLen; j++) {\r\n\t\t\t\t\tfor (let k = 0; k < this.selectType[j].tags.length; k++) {\r\n\t\t\t\t\t\tpostMsg += this.selectType[j].tags[k].name + \"/\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet newCityArr = this.formatCity(this.cityArr)\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"age\": Number(this.age),\r\n\t\t\t\t\t\"gender\": this.gender[this.currentGender].text,\r\n\t\t\t\t\t\"areas\": newCityArr,\r\n\t\t\t\t\t\"type_tags\": this.selectType,\r\n\t\t\t\t\t\"all_ags\": this.typeTags\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/ai/resume\", data, \"POST\").then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"保存成功\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.showWanner = false\r\n\t\t\t\t\t\tlet postStr = {\r\n\t\t\t\t\t\t\tcontent: postMsg,\r\n\t\t\t\t\t\t\torigin: \"customer\",\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.send(postStr)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\taddWanner() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.$request(\"/ai/resume\").then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.typeTags = res.data.all_tags\r\n\t\t\t\t\t\tthis.selectType = !res.data.type_tags ? [] : res.data.type_tags\r\n\t\t\t\t\t\tconsole.log(this.selectType, \"selectType\")\r\n\t\t\t\t\t\tfor (let m = 0; m < this.selectType.length; m++) {\r\n\t\t\t\t\t\t\tfor (let n = 0; n < _this.selectType[m].tags.length; n++) {\r\n\t\t\t\t\t\t\t\t_this.seleTypeIds.push(_this.selectType[m].tags[n].id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.showWanner = true\r\n\t\t\t\t\t\tthis.age = !res.data.age ? \"\" : res.data.age\r\n\t\t\t\t\t\tfor (let i = 0; i < this.gender.length; i++) {\r\n\t\t\t\t\t\t\tif (this.gender[i].text == res.data.gender) {\r\n\t\t\t\t\t\t\t\tthis.currentGender = i\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.cityArr = !res.data.areas ? [] : this.deFormatCity(res.data.areas)\r\n\t\t\t\t\t\tfor (let j = 0; j < this.cityArr.length; j++) {\r\n\t\t\t\t\t\t\tlet k = j + 1\r\n\t\t\t\t\t\t\tlet key = \"city\" + k\r\n\t\t\t\t\t\t\tthis[key] = this.cityArr[j][1].value\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tchooseTag(item, tag) {\r\n\t\t\t\tconsole.log(item, tag, \"item&tag\")\r\n\t\t\t\tlet obj = JSON.parse(JSON.stringify(item))\r\n\t\t\t\tobj.tags = []\r\n\t\t\t\tlet hasObj = false\r\n\t\t\t\tlet objIndex = 0\r\n\t\t\t\tlet len2 = this.selectType.length\r\n\t\t\t\t// 首先判断是否选择过第一层级\r\n\t\t\t\tfor (let k = 0; k < len2; k++) {\r\n\t\t\t\t\tif (obj.id == this.selectType[k].id) {\r\n\t\t\t\t\t\thasObj = true\r\n\t\t\t\t\t\tobjIndex = k\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (hasObj) {\r\n\t\t\t\t\t// 已经选过该大类,判断tags中是否包含该tag.id\r\n\t\t\t\t\tlet arr = this.selectType[objIndex].tags.filter(el => {\r\n\t\t\t\t\t\treturn el.id == tag.id\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (JSON.stringify(arr) == \"[]\") {\r\n\t\t\t\t\t\tthis.selectType[objIndex].tags.push(tag)\r\n\t\t\t\t\t} else if (arr.length > 0) {\r\n\t\t\t\t\t\t// 包含该tag.id\r\n\t\t\t\t\t\tthis.selectType[objIndex].tags = this.selectType[objIndex].tags.filter(el => {\r\n\t\t\t\t\t\t\treturn el.id != tag.id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 无该大类\r\n\t\t\t\t\tobj.tags.push(tag)\r\n\t\t\t\t\tthis.selectType.push(JSON.parse(JSON.stringify(obj)))\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.seleTypeIds, this.seleTypeIds.indexOf(tag.id))\r\n\t\t\t\tif (this.seleTypeIds.indexOf(tag.id) != -1) {\r\n\t\t\t\t\tthis.seleTypeIds.splice(this.seleTypeIds.indexOf(tag.id), 1)\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.seleTypeIds.push(tag.id)\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectType = this.selectType.filter(el => {\r\n\t\t\t\t\treturn JSON.stringify(el.tags) != \"[]\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnoPosition() {\r\n\t\t\t\tthis.showReAuth = false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/* 定义过渡效果 */\r\n\t.fade-enter-active,\r\n\t.fade-leave-active {\r\n\t\ttransition: opacity 1s;\r\n\t}\r\n\r\n\t.fade-enter,\r\n\t.fade-leave-to {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.inputing {\r\n\t\tposition: fixed;\r\n\t\t// top: 50%;\r\n\t\t// left: 50%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 110;\r\n\t\tbackground: rgba(0, 0, 0, .7);\r\n\r\n\t\ttext {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 29rpx;\r\n\t\t}\r\n\r\n\t\t&>image {\r\n\t\t\twidth: 80%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 35%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t}\r\n\r\n\t\t.bot_bg {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: -10px;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.text {\r\n\t\t\t\tfont-size: 29rpx;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\tline-height: 40rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin: 30rpx 0;\r\n\t\t\t}\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t::-webkit-input-placeholder {\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 27rpx;\r\n\t\tcolor: #9E9E9E;\r\n\t}\r\n\r\n\t::v-deep {\r\n\r\n\t\t.input-value-border,\r\n\t\t.input-value {\r\n\t\t\tborder: none !important;\r\n\t\t\theight: 84rpx !important;\r\n\t\t\tfont-size: 28rpx !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.ai_inner {\r\n\t\toverflow: scroll;\r\n\t}\r\n\r\n\t.ai_icon {\r\n\t\tposition: fixed;\r\n\t\tbottom: 25%;\r\n\t\tright: 10rpx;\r\n\t\tz-index: 100;\r\n\r\n\t\timage {\r\n\t\t\twidth: 120rpx;\r\n\t\t\t// height: 90rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.ai_chat {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, .6);\r\n\t\tz-index: 105;\r\n\r\n\t\t.auth {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbackground: #fff;\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 48%;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbackground: #f6f6f6;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.sure {\r\n\t\t\t\tbackground: $base-color;\r\n\t\t\t\tborder: 1px solid $base-color;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.ai_inner {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 80%;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-top-left-radius: 16rpx;\r\n\t\t\tborder-top-right-radius: 16rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\tbottom: 0;\r\n\r\n\t\t\t.full_header {\r\n\t\t\t\tbackground: url($back-ground-url+\"/worker/chat_top_bg.png\") no-repeat;\r\n\t\t\t\tbackground-size: cover;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tz-index: 105;\r\n\r\n\r\n\t\t\t\t.page_top {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 30rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tfont-weight: 600;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t.ques_wrap {\r\n\t\twidth: calc(100% - 80rpx);\r\n\t\tmax-width: 700px;\r\n\t\t// border: 1px solid $base-color;\r\n\t\t// border-bottom: 1px solid #04babe;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 0 auto;\r\n\t\t// padding: 0 16rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t&.upper {\r\n\t\t\tposition: fixed;\r\n\t\t\twidth: 100%;\r\n\t\t\tleft: 0;\r\n\t\t\tz-index: 105;\r\n\t\t}\r\n\r\n\t\t.input {\r\n\t\t\theight: 100%;\r\n\r\n\r\n\r\n\t\t\t.input_right {\r\n\t\t\t\twidth: calc(100% - 50rpx);\r\n\r\n\t\t\t\tinput {\r\n\t\t\t\t\twidth: calc(100% - 126rpx);\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\tborder-radius: 42rpx;\r\n\t\t\t\t\tbox-shadow: 0 2rpx 7rpx 0rpx #DDDDDD;\r\n\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t// text-align: center;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.confirm_send {\r\n\t\t\t\t\twidth: 110rpx;\r\n\t\t\t\t\theight: 62rpx;\r\n\t\t\t\t\tline-height: 62rpx;\r\n\t\t\t\t\tbackground: linear-gradient(135deg, #4F86FD 0%, #71BAFF 100%);\r\n\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\tfont-size: 29rpx;\r\n\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 100%;\r\n\t\t\t\tborder-radius: 42rpx;\r\n\t\t\t\tfont-size: 29rpx;\r\n\t\t\t\tbox-shadow: 0 2rpx 7rpx 0rpx #DDDDDD;\r\n\r\n\t\t\t\t&.press {\r\n\t\t\t\t\twidth: calc(100% - 50rpx);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 30px;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.imgs {\r\n\t\t\t\timage {\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t\t\t&:nth-child(2) {\r\n\t\t\t\t\t\twidth: 26px;\r\n\t\t\t\t\t\theight: 26px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.chat_wrap {\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: #F4F9FF;\r\n\r\n\t\t.list {\r\n\t\t\t// padding: 30rpx;\r\n\r\n\t\t\t.qa_item {\r\n\t\t\t\t.line {\r\n\t\t\t\t\tmargin-top: 41rpx;\r\n\t\t\t\t\ttext-align: right;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.inline_box {\r\n\t\t\t\t\t\twidth: 80%;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\twidth: 65rpx;\r\n\t\t\t\t\t\t\theight: 65rpx;\r\n\t\t\t\t\t\t\tvertical-align: top;\r\n\t\t\t\t\t\t\tmargin-left: 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.cont {\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\tmax-width: calc(100% - 110rpx);\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\tline-height: 42rpx;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\t\t\t\tfont-family: \"微软雅黑\";\r\n\t\t\t\t\t\t\tbackground: #106afa;\r\n\t\t\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\t\ttext-align: left;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.left {\r\n\t\t\t\t\t\t.inline_box {\r\n\t\t\t\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\t\t\t\talign-items: start;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttext-align: left;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.cont {\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tbackground: #fff;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.right {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: flex-end;\r\n\r\n\t\t\t\t\t\t.inline_box {\r\n\t\t\t\t\t\t\talign-items: start;\r\n\t\t\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.cont {\r\n\t\t\t\t\t\t\tbackground: linear-gradient(117deg, #4F85FD 0%, #72BAFF 100%);\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1725324439398\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}