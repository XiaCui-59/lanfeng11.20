(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/vip/vip"],{"15cf":function(e,n,t){},"204d":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return r}));var r={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"1f97"))},uGrid:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid/u-grid")]).then(t.bind(null,"18d6"))},uGridItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-grid-item/u-grid-item")]).then(t.bind(null,"9176"))}},a=function(){var e=this.$createElement;this._self._c},i=[]},"6b5b":function(e,n,t){"use strict";t.r(n);var r=t("204d"),a=t("dcfb");for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);t("f642");var o=t("828b"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);n["default"]=u.exports},7866:function(e,n,t){"use strict";(function(e){var r=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(t("7eb4")),i=r(t("ee10")),o=getApp(),u={data:function(){return{userInfo:{is_vip:!1},imgUrl:o.globalData.baseImageUrl,marginTop:o.globalData.marginTop,tabMargin:o.globalData.tabMargin,menu:[{icon:o.globalData.baseImageUrl+"/worker/vip_ic_1.png",title:"预定工作",url:"/pages/mine/mine"},{icon:o.globalData.baseImageUrl+"/worker/vip_ic_2.png",title:"优先匹配",url:"/pages/mine/mine"},{icon:o.globalData.baseImageUrl+"/worker/vip_ic_3.png",title:"工作分析",url:"/pages/mine/mine"},{icon:o.globalData.baseImageUrl+"/worker/vip_ic_4.png",title:"行业分析",url:"/pages/mine/mine"}]}},onLoad:function(){e.showLoading(),this.getInfo(),setTimeout((function(){e.hideLoading()}),1e3)},methods:{buyVip:function(){var n=this;return(0,i.default)(a.default.mark((function t(){var r,i,o;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n,t.next=3,n.getOrderId();case 3:return i=t.sent,t.next=6,n.getOrderParams(i);case 6:o=t.sent,e.requestPayment({appId:o.appId,timeStamp:o.timeStamp,nonceStr:o.nonceStr,package:o.package,signType:o.signType,paySign:o.paySign,success:function(){e.showModal({title:"支付成功",showCancel:!1,success:function(e){e.confirm&&r.getInfo()}})},fail:function(){e.showModal({title:"支付失败，请重试",showCancel:!1})}});case 8:case"end":return t.stop()}}),t)})))()},getOrderId:function(){var e=this;return new Promise((function(n){e.$request("/worker/vip-order",{},"POST").then((function(e){0==e.code&&n(e.data.order_id)}))}))},getOrderParams:function(e){var n=this;return new Promise((function(t){var r="/worker/order/"+e+"/pay";n.$request(r,{},"POST").then((function(e){0==e.code&&t(e.data.wechat_mini_program)}))}))},getInfo:function(){var n=this;this.$request("/worker/profile").then((function(t){0==t.code&&(e.setStorageSync("userInfo",JSON.stringify(t.data)),n.userInfo=t.data)}))}}};n.default=u}).call(this,t("df3c")["default"])},"788b":function(e,n,t){"use strict";(function(e,n){var r=t("47a9");t("ad3b");r(t("3240"));var a=r(t("6b5b"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(a.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},dcfb:function(e,n,t){"use strict";t.r(n);var r=t("7866"),a=t.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(i);n["default"]=a.a},f642:function(e,n,t){"use strict";var r=t("15cf"),a=t.n(r);a.a}},[["788b","common/runtime","common/vendor"]]]);