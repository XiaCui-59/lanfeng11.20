(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/invite/invite"],{"15f0":function(e,t,a){"use strict";a.r(t);var n=a("e901"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"3fc4":function(e,t,a){},a6e7:function(e,t,a){"use strict";a.r(t);var n=a("c3dd"),r=a("15f0");for(var i in r)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("bfa9");var o=a("828b"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=c.exports},bfa9:function(e,t,a){"use strict";var n=a("3fc4"),r=a.n(n);r.a},c3dd:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var n={uNavbar:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(a.bind(null,"1f97"))}},r=function(){var e=this.$createElement;this._self._c},i=[]},cff1:function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("ad3b");n(a("3240"));var r=n(a("a6e7"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(r.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},e901:function(e,t,a){"use strict";(function(e){var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("7eb4")),i=n(a("ee10")),o=getApp(),c={data:function(){return{imgUrl:o.globalData.baseImageUrl,marginTop:o.globalData.marginTop,tabMargin:o.globalData.tabMargin}},methods:{creatCode:function(e){},loadimg:function(t,a){var n=this;return(0,i.default)(r.default.mark((function i(){var c,l;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c=n,l={Authorization:"bearer "+e.getStorageSync("token"),accept:"application/json"},r.abrupt("return",new Promise((function(n,r){e.uploadFile({url:o.globalData.baseUrl+"/admin/upload/image?type="+t,filePath:a,name:"file",header:l,success:function(t){var a=JSON.parse(t.data);0==a.code?saveAs(a.data.url,"海报"):e.showModal({title:a.msg,showCancel:!1})},complete:function(){e.hideLoading()}}),n(c.reponsefiles)})));case 3:case"end":return r.stop()}}),i)})))()},save:function(){var e=this;console.log(this.$refs.painter),this.$refs.painter.canvasToTempFilePathSync({fileType:"jpg",pathType:"url",quality:1,success:function(t){console.log(t.tempFilePath);var a=e.currentPlatform.text+e.currentProject.name+"_"+e.currentProject.code+"_海报";saveAs(t.tempFilePath,a)},fail:function(e){console.log(e,"err")}})},creatHaibao:function(){var t=this;return(0,i.default)(r.default.mark((function a(){var n;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.showMask=!1,t.showPlatform=!1,"system"!=t.currentPlatform.value){a.next=7;break}t.showMask=!0,t.showEmployeeSearch=!0,a.next=17;break;case 7:return e.showLoading({title:"正在生成海报，请稍后..."}),a.next=10,t.getCode();case 10:if(n=a.sent,!n){a.next=17;break}return e.hideLoading(),t.showMask=!0,t.showHaibao=!0,a.next=17,t.viewHaibao(n);case 17:case"end":return a.stop()}}),a)})))()},getCode:function(){var e=this;return(0,i.default)(r.default.mark((function t(){var a,n,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/admin/project/"+e.currentProject.id+"/qrcode/recruitment",n={from_platform:e.currentPlatform.value},t.next=4,e.$request(a,n,"POST");case 4:if(i=t.sent,0!=i.code){t.next=7;break}return t.abrupt("return",i.data.qrcode);case 7:case"end":return t.stop()}}),t)})))()},viewHaibao:function(e){var t=this;return(0,i.default)(r.default.mark((function a(){var n;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t,console.log(t.currentProject),t.poster.views=[{type:"image",src:o.globalData.baseImageUrl+"/broker/toc_haibao.png?time="+(new Date).getTime(),css:{width:"100%",margin:"0 auto"}},{type:"view",css:{width:"90%",position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)"},views:[{type:"image",src:e,css:{width:"160px",height:"160px",borderRadius:"50%",display:"inline-block"}},{type:"text",text:"扫码报名",css:{width:"60%",display:"inline-block",textAlign:"right",lineHeight:"160px",color:"#fff",fontSize:"40px",fontWeight:"bold"}}]},{type:"text",text:t.currentProject.name,css:{width:"30%",position:"absolute",top:"35%",left:"60%",fontSize:"32px",color:"#000000",lineClamp:2,fontWeight:"bold"}},{type:"view",css:{width:"80%",textAlign:"left",position:"absolute",top:"57%",left:"50%",transform:"translateX(-50%)",lineHeight:"60px",lineClamp:1},views:[{type:"view",css:{width:"100%",display:"block",borderBottom:"1px dashed #FFAC3F"},views:[{type:"text",text:"工作名称：",css:{lineClamp:1,display:"inline-block",color:"#3D3D3D",fontSize:"28px",marginRight:"8px"}},{type:"text",text:n.currentProject.name,css:{lineClamp:1,display:"inline-block",color:"#000",fontSize:"32px"}}]},{type:"view",css:{display:"block",borderBottom:"1px dashed #FFAC3F"},views:[{type:"text",text:"工作酬劳：",css:{display:"inline-block",color:"#3D3D3D",fontSize:"28px",marginRight:"8px"}},{type:"text",text:n.currentProject.worker_salary_min+"-"+n.currentProject.worker_salary_max+"/元"+n.periodList.filter((function(e){return e.value==n.currentProject.worker_salary_type}))[0].text,css:{display:"inline-block",color:"#FF4800",fontSize:"36px",fontWeight:"bold"}}]}]}];case 3:case"end":return a.stop()}}),a)})))()}}};t.default=c}).call(this,a("df3c")["default"])}},[["cff1","common/runtime","common/vendor"]]]);