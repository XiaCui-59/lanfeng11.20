(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/balance/balance"],{"1a9e":function(t,e,n){"use strict";n.r(e);var a=n("6adb"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"237e":function(t,e,n){"use strict";var a=n("6988"),o=n.n(a);o.a},"362c":function(t,e,n){"use strict";n.r(e);var a=n("aca6"),o=n("1a9e");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("237e");var r=n("828b"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=u.exports},6988:function(t,e,n){},"6adb":function(t,e,n){"use strict";(function(t){var a=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("7eb4")),i=a(n("ee10")),r=getApp(),u={data:function(){return{ifSingle:1154==r.globalData.scene,showMask:!1,amount:"",name:"",imgUrl:r.globalData.baseImageUrl,marginTop:r.globalData.marginTop,tabMargin:r.globalData.tabMargin,scrollHeight:0,list:[],balance:{total_amount:"0",available_amount:"0",frozen_amount:"0"},currentPage:1,pagination:{}}},onLoad:function(){var e=this;return(0,i.default)(o.default.mark((function n(){var a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.setNavigationBarColor({frontColor:"#000000",backgroundColor:"transparent"}),t.hideShareMenu(),!e.ifSingle){n.next=4;break}return n.abrupt("return");case 4:if(!e.isLogin()){n.next=12;break}return n.next=7,e.getElementInfo();case 7:a=n.sent,console.log("data",a),a&&(e.scrollHeight=r.globalData.systemHeight-a.bottom-60),n.next=13;break;case 12:t.reLaunch({url:"/pages/index/index"});case 13:e.getList();case 14:case"end":return n.stop()}}),n)})))()},methods:{getElementInfo:function(){return new Promise((function(e){var n=t.createSelectorQuery().select(".top");n.boundingClientRect((function(t){e(t)})).exec()}))},getList:function(){var t=this,e="/worker/balance-changes?page="+this.currentPage+"&page_size=15";this.$request(e).then((function(e){0==e.code&&(t.list=t.list.concat(e.data.list),t.pagination=e.data.pagination,t.balance=e.data.balance)}))},scrolltolower:function(){this.currentPage<this.pagination.pageCount?(this.currentPage++,this.getList()):t.showToast({title:"到底啦~",icon:"none",duration:2e3})},open:function(){Number(this.balance.available_amount)>=10?this.showMask=!0:this.$refs.myModal.showModal({title:"可用余额≥10元，才可提现。",showCancel:!1,confirmText:"知道了"})},close:function(){this.showMask=!1},toRecord:function(){t.navigateTo({url:"/pages/tx_record/tx_record"})},confirm:function(){var e=this,n={money:this.amount,type:"wechat",real_name:this.name};this.amount?Number(this.amount)<1?t.showToast({title:"提现金额不能少于1元",icon:"error",duration:2e3}):Number(this.amount)>500?t.showToast({title:"提现金额不能大于500元",icon:"error",duration:2e3}):this.name?this.$request("/worker/withdraw",n,"POST").then((function(t){0==t.code&&(e.$refs.myModal.showModal({title:"余额提现已申请， 将在24小时内到账微信零钱。",showCancel:!1,confirmText:"知道了"}),e.close())})):t.showToast({title:"未填写真实姓名",icon:"error",duration:2e3}):t.showToast({title:"请输入提现金额",icon:"error",duration:2e3})}}};e.default=u}).call(this,n("df3c")["default"])},aca6:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,"d30e"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"f11d"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.ifSingle?null:t.__map(t.list,(function(e,n){var a=t.__get_orig(e),o=t.list.length;return{$orig:a,g0:o}}))),a=t.ifSingle?null:t.list.length;t.$mp.data=Object.assign({},{$root:{l0:n,g1:a}})},i=[]},adb8:function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("e58b");a(n("3240"));var o=a(n("362c"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["adb8","common/runtime","common/vendor"]]]);